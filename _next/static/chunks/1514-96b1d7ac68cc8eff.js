!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="617fc2b3-fb2c-4c45-8c85-7b8c51c0fac0",e._sentryDebugIdIdentifier="sentry-dbid-617fc2b3-fb2c-4c45-8c85-7b8c51c0fac0")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1514],{10985:function(){},87942:function(){},82880:function(){},39201:function(){},67542:function(e,t,a){"use strict";a.d(t,{l:function(){return r}});var n=a(76411),o=a(28364),s=a(43350);let r=e=>{let{icon:t=s.T.ARROW_LEFT,onClick:a}=e;return(0,n.jsx)(o.J,{icon:t,onClick:a,className:"navigate-icon","data-sentry-element":"Icon","data-sentry-component":"NavigateIcon","data-sentry-source-file":"navigate-icon.tsx"})}},74500:function(e,t,a){"use strict";a.d(t,{_:function(){return i}});var n=a(76411),o=a(40676),s=a.n(o),r=a(65502);let i=e=>{let{className:t,leftIcon:a,children:o,rightIcon:i}=e;return(0,n.jsxs)("div",{className:s()("top-navigation",t),"data-sentry-component":"TopNavigation","data-sentry-source-file":"top-navigation.tsx",children:[a&&(0,n.jsx)("div",{className:"top-navigation__left-icon",children:a}),(0,n.jsx)(r.P,{gap:"0",direction:"column",className:"top-navigation__action",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"top-navigation.tsx",children:o}),(0,n.jsx)("div",{className:"top-navigation__right-icon",children:i})]})}},89703:function(e,t,a){"use strict";a.d(t,{g:function(){return ny}});var n,o,s,r,i,l,d,c,u,m,p,y,_,E,f,T,g,v,h=a(76411),S=a(40676),w=a.n(S),x=a(34148),k=a(50180),b=a(65502),R=a(9108),N=a(38380),A=a(72728),I=a(20268),P=a(88302),O=a(26142),C=a(13257),j=a.n(C);let L=()=>{let[e,t]=(0,x.KO)(O.n9),{mode:a,isSwapEnabled:n,isBuyEnabled:o,initErrorMessage:s}=e,r=[...n&&!s?[{id:"swap",text:"Swap"}]:[],...o&&!s?[{id:"buy",text:"Buy"}]:[]],i=r.find(e=>e.id===a);return(0,h.jsx)(P.C,{tabs:r,initialTab:i,onTabChange:e=>{t({action:"SET_MODE",payload:{mode:e.id,debug:"set mode"}})},inactiveTabClassName:j().notSelected,"data-sentry-element":"AnimatedTabs","data-sentry-component":"NavigationTabs","data-sentry-source-file":"navigation-tabs.tsx"})};var D=a(31489);let U=["#F8F25F","#A2F438","#8B68FF","#FF6969"];function F(e){let{delayInMs:t}=e,[a,n]=(0,k.useState)(!1);(0,k.useEffect)(()=>{let e=setTimeout(()=>{n(!0)},null!=t?t:1e3);return()=>clearTimeout(e)},[t]);let o=document.getElementsByClassName("trade-widget")[0],s=U[Math.floor(Math.random()*U.length)],r=Math.floor(Math.random()*o.clientWidth),i=Math.floor(Math.random()*o.clientHeight);return(0,h.jsx)(D.E.div,{style:{position:"absolute",width:"".concat(15*Math.random(),"px"),height:"".concat(15*Math.random(),"px"),backgroundColor:s,borderRadius:"0%",top:i,left:r,zIndex:100},initial:{y:-250,opacity:0},animate:{y:200,rotateX:2e3*Math.random(),rotateY:2e3*Math.random(),rotateZ:2e3*Math.random(),opacity:a?[0,1,1,0]:0},transition:{duration:4,repeatDelay:0,opacity:{duration:2.5,times:[0,.1,.8,1]}},"data-sentry-element":"unknown","data-sentry-component":"ConfettiPiece","data-sentry-source-file":"overlay-confetti-animation.tsx"})}let W=e=>{let{delayInMs:t=0}=e,a=Array.from({length:70}).map((e,a)=>(0,h.jsx)(F,{delayInMs:t},a));return(0,h.jsx)("div",{style:{transition:"all 2s ease-in-out",position:"absolute",left:"0"},"data-sentry-component":"OverlayConfettiAnimation","data-sentry-source-file":"overlay-confetti-animation.tsx",children:a})},M=()=>(0,h.jsx)("div",{className:"overlay-progress-animation","data-sentry-component":"OverlayProgressAnimation","data-sentry-source-file":"overlay-progress-animation.tsx"});var B=a(73563),K=a(52581),V=a(79569),Y=a(7178);let G=(e,t)=>(0,B.useQuery)(Y.a.onRampTransaction(e),()=>V.W.getOnRampTransaction(e),t);var z=a(62342),H=a(59031),Q=a(67799),q=a(69644),X=a(40159),J=a(38374),Z=a(21960),$=a(10027);let ee=()=>{let{selectedAccount:e,providerNetwork:t}=(0,R.Z)(),[,a]=(0,x.KO)(O.n9);return{logWidgetInfo:a=>{$.Tw.logInfo({message:"".concat(a),selectedAccount:e,network:t})},handleInitError:(0,k.useCallback)(n=>{a({action:"INIT_IN_ERROR_STATE",payload:{initErrorMessage:n,debug:"useWidgetErrorHandling"}}),$.Tw.logException({exception:"".concat(n," Widget is in an error state. Please update parameters and try again."),selectedAccount:e,network:t})},[t,e,a])}},et=(e,t)=>{let{handleInitError:a}=ee(),{currency:n}=(0,z.Y)(),o=(0,J.Fc)(n)?n:J.uz.id,[s,r]=(0,k.useState)(!1),{providerNetwork:i,selectedAccount:l}=(0,A.$)(),d=(0,k.useRef)(),c=(0,k.useRef)(),{params:u}=t,{swapParams:m,onRampParams:p,miniappParams:y,generalParams:_}=u,{swapDisabled:E,swapNetwork:f,swapFromTokenAddress:T,swapFromTokenAmount:g,swapToTokenAddress:v,swapLockToToken:h,swapQuoteId:S}=m,{miniappIntent:w}=y,{onRampDisabled:b,onRampNetwork:R,onRampTokenAddress:N,onRampCurrencyId:I,onRampLockToken:P,onRampCurrencyAmount:C,onRampProvider:j,onRampPaymentType:L,onRampAsDefault:D}=p,{destinationWallet:U}=_,[F,W]=(0,x.KO)(O.n9),{isInitialized:M}=F,[V,Y]=(0,x.KO)(O.rR),[,$]=(0,x.KO)(O.aG),{isNetworkSupported:et}=(0,Z.u)("swap"),ea=et(f)?f:H.a9.id,{isNetworkSupported:en}=(0,Z.u)("buy"),eo=en(R)?R:H.a9.id,{data:es,isFetched:er}=(0,B.useQuery)({queryKey:["v1/tokens/native"],queryFn:()=>(0,K.$)()}),ei=!1===E&&null!=T,{indexedOrNonIndexedToken:el,isDataLoaded:ed}=(0,Q.g)({network:ea,tokenAddress:T,isEnabled:ei,retry:5}),ec=!1===E&&null!=v,{indexedOrNonIndexedToken:eu,isDataLoaded:em}=(0,Q.g)({network:ea,tokenAddress:v,isEnabled:ec,retry:5}),ep=(0,H.ss)(N),ey=!1===b&&null!=N&&null==ep,{indexedOrNonIndexedToken:e_,isDataLoaded:eE}=(0,Q.g)({network:eo,tokenAddress:N,isEnabled:ey,retry:5}),ef=ep?null==es?void 0:es.find(e=>e.address===ep.address):e_,eT=null==es?void 0:es.find(e=>e.network===ea),eg="complete-buy-any-tx-flow"===e&&null!=S,{data:ev,isSuccess:eh}=G({pathParameters:{transactionId:null!=S?S:""}},{enabled:eg}),eS=(0,k.useCallback)(()=>{let t="initializeWidget";if(!M){if(E&&b){a("Both 'swapDisabled' and 'onRampDisabled' are set to true.");return}if(D&&b){a("Both 'onRampAsDefault' and 'onRampDisabled' are set to true.");return}switch(e){case"miniapp-flow":W({action:"INIT_IN_MINIAPP_MODE",payload:{miniappIntent:w,debug:t}});break;case"buy-token-flow":W({action:"INIT_IN_BUY_MODE",payload:{isSwapEnabled:!0!==E,isEmbedded:!1,destinationWallet:U,debug:t}});break;case"swap-token-flow":W({action:"INIT_IN_SWAP_MODE",payload:{isBuyEnabled:!0!==b,isEmbedded:!1,debug:t}});break;case"complete-buy-any-tx-flow":W({action:"INIT_IN_COMPLETE_BUY_ANY_MODE",payload:{debug:t}});break;case"embed-flow":E||D?W({action:"INIT_IN_BUY_MODE",payload:{isSwapEnabled:!0!==E,isEmbedded:!0,debug:t}}):W({action:"INIT_IN_SWAP_MODE",payload:{isBuyEnabled:!0!==b,isEmbedded:!0,debug:t}})}}},[M,E,b,D,e,a,W,w,U]),ew=(0,k.useCallback)(()=>{let e=(0,J.Fc)(I)?I:o,t=null!=C?C:X.U[e],a="initializeBuyTab",n=j&&L?{rampProviderId:j,paymentType:L,onRampCurrencyId:I,tokenAddress:null!=N?N:""}:void 0;ef?$({action:"INIT_BUY_TOKEN",payload:{network:H.a9.id,toToken:ef,fromFiat:e,fromFiatAmount:t,lockFinalToken:!0===P,partnerWidgetBuyQuote:n,debug:a}}):$({action:"INIT_BUY_DEFAULT_NATIVE",payload:{fromFiat:e,fromFiatAmount:t,debug:a}})},[I,o,C,j,L,N,null==ef?void 0:ef.address,$,P]),ex=(0,k.useCallback)(()=>{var e,t;let a=null!==(t=null!==(e=null!=el?el:eT)&&void 0!==e?e:H.Eu[ea].nativeCurrency)&&void 0!==t?t:H.a9.nativeCurrency;c.current=a;let n=q.a.areSameAddress(null==a?void 0:a.address,null==eu?void 0:eu.address)?void 0:eu;Y({action:"INIT_SWAP_TOKEN_TO_TOKEN",payload:{network:ea,fromToken:a,fromTokenAmount:null!=g?g:"",toToken:n,lockToToken:h,debug:"initializeSwapTab"}})},[null==el?void 0:el.address,null==eT?void 0:eT.address,Y,ea,null==eu?void 0:eu.address,h]),ek=(0,k.useCallback)(()=>{if(!eT){a("Could not fetch token data for the native token.");return}if(ev){if(!eu){a("Could not fetch token data for the provided token address.");return}let e=null!=I?I:X.Y,t=X.U[e],n="initializeCompleteBuyAnyTxFlow";$({action:"INIT_BUY_DEFAULT_NATIVE",payload:{fromFiat:e,fromFiatAmount:t,debug:n}}),Y({action:"INIT_COMPLETE_BUY_ANY",payload:{fromToken:eT,fromTokenAmount:ev.cryptoAmount,toToken:eu,quoteId:ev.quoteId,debug:n}}),W({action:"INIT_IN_COMPLETE_BUY_ANY_MODE",payload:{debug:n}}),r(!0);return}},[ev,$,a,null==eT?void 0:eT.address,null==eu?void 0:eu.address,I,Y,W]);(0,k.useEffect)(()=>{!M&&er&&(!ei||ei&&ed)&&(!ec||ec&&em)&&(!ey||ey&&eE)&&(!eg||eg&&eh)&&("complete-buy-any-tx-flow"===e?ek():(eS(),ew(),ex()),r(!0))},[M,eE,er,el,eh,ey,eg,ei,ec,ed,em,null==eT?void 0:eT.address,null==ef?void 0:ef.address,e,ek,eS,ew,ex]);let eb=(0,k.useCallback)(e=>{if(!e)return;let t=H.Eu[e].nativeCurrency,a="TradeWidget Provider Network Fallback";Y({action:"SET_FROM_TOKEN",payload:{fromToken:t,debug:a}}),Y({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:"0",debug:a}}),Y({action:"SET_NETWORK",payload:{network:t.network,debug:a}}),d.current=e,c.current=t},[Y]);return(0,k.useEffect)(()=>{let e=!q.a.areSameToken(V.fromToken,c.current)||void 0!==V.toToken,t=i||H.a9.id;!M||u.swapParams.swapFromTokenAddress||u.swapParams.swapToTokenAddress||d.current==t||e||eb(t)},[M,i,eb,u.swapParams,l,V]),{isInitialStateLoaded:s}};var ea=a(74500);let en=e=>{let{leftIcon:t}=e,[a]=(0,x.KO)(O.n9),{initErrorMessage:n}=a;return(0,h.jsxs)(b.P,{gap:"100",className:"select-from-fiat-view","data-sentry-element":"StackLayout","data-sentry-component":"ErrorView","data-sentry-source-file":"error-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:t,"data-sentry-element":"TopNavigation","data-sentry-source-file":"error-view.tsx",children:"Error"}),(0,h.jsx)(b.P,{gap:"0","data-sentry-element":"StackLayout","data-sentry-source-file":"error-view.tsx",children:(0,h.jsx)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"error-view.tsx",children:n})})]})};var eo=a(14012),es=a.n(eo),er=a(85648),ei=a(43350);(n=m||(m={})).TOKEN_COMMUNITY="token_community",n.INFLUENCER="influencer";var el=a(95728),ed=a(28364),ec=a(23864);let eu=e=>{let{type:t,address:a,network:n,symbol:o,website:s,name:r,whitepaper:i,customLinks:l,primaryColor:d,mode:c}=e,{isNetworkSupported:u}=(0,Z.u)("buy"),p=t!=m.INFLUENCER&&u(n);return(0,h.jsxs)(b.P,{gap:"50",alignItems:"center",className:"links","data-sentry-element":"StackLayout","data-sentry-component":"Links","data-sentry-source-file":"links.tsx",children:[t!=m.INFLUENCER&&(0,h.jsxs)("a",{href:"https://t.me/iris_flooz_bot?start=rug-".concat(a,"-").concat(n).concat("trade-widget"===c?"&utm_source=token-partner-widget-track-iris-telegram&utm_medium=track-token-iris-bot-telegram&utm_campaign=track":""),target:"_blank",className:"links__button button button--size-xl button--variant-secondary button--icon-left teams-page__button--animated",children:[(0,h.jsx)(ed.J,{icon:ei.T.TELEGRAM_CIRCLE}),(0,h.jsxs)(ec.x,{size:"l",className:"links__button-label",children:["Track ",r]})]}),"hub-page"===c&&p&&(0,h.jsx)(el.HowToBuy,{network:n,address:a,symbol:null!=o?o:"",primaryColor:d,className:"links__button teams-page__button--animated"}),s&&(0,h.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"links__button button button--size-xl button--variant-secondary button--icon-left teams-page__button--animated",children:[(0,h.jsx)(ed.J,{icon:ei.T.WEBSITE}),(0,h.jsx)(ec.x,{size:"l",children:"Official Website"})]}),i&&t!=m.INFLUENCER&&(0,h.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"links__button links__button--no-icon button button--size-xl button--variant-secondary teams-page__button--animated",children:(0,h.jsx)(ec.x,{size:"l",children:"Whitepaper"})}),l&&Object.entries(l).map((e,t)=>{let[a,n]=e;return(0,h.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"links__button links__button--no-icon button button--size-xl button--variant-secondary teams-page__button--animated",children:(0,h.jsx)(ec.x,{size:"l",children:a})},t)})]})};var em=a(45867);let ep=e=>{let{isLoading:t,className:a,color:n="var(--fds-color-primary-500-main)"}=e,[o,s]=(0,k.useState)(0),[r,i]=(0,k.useState)(!1),l=(0,k.useRef)(!1),d=(0,k.useCallback)(()=>{i(!1),s(e=>{let t=Math.floor(20*Math.random())+10;return e+t>=100?e:e+t})},[s,i]),c=(0,k.useCallback)(()=>{s(100),setTimeout(()=>{i(!0),setTimeout(()=>{s(0)},400)},500)},[s,i]);return(0,k.useEffect)(()=>{let e=null;return t&&(l.current=!0,e=setInterval(()=>{d()},500)),l.current&&!t&&(l.current=!1,e&&clearInterval(e),c()),()=>{e&&clearInterval(e)}},[d,c,t]),(0,h.jsx)("progress",{className:(0,em.AK)("loading-bar",{"loading-bar__fade-out":r},a),value:o,max:100,style:{color:n},"data-sentry-component":"LoadingBar","data-sentry-source-file":"loading-bar.tsx"})};var ey=a(78356),e_=a(17086),eE=a(55780),ef=a(65632),eT=a(97280),eg=a(53195),ev=a(97662),eh=a(71821),eS=a(70310);let ew=e=>{let{tokenFrom:t,tokenFromAmount:a,tokenTo:n,quote:o}=e,s="".concat(eS.z.formatNumber(a,{useSuperscriptFormat:!0,useRangeFormat:!0})),r=q.a.fromBaseUnit(null==o?void 0:o.amount,null==n?void 0:n.decimals),i="".concat(eS.z.formatNumber(r,{useSuperscriptFormat:!0,useRangeFormat:!0}));return(0,h.jsx)(eg.U.Container,{expand:"none",className:"buy-any-stepper__container","data-sentry-element":"unknown","data-sentry-component":"BuyAnyStepper","data-sentry-source-file":"buy-any-stepper.tsx",children:(0,h.jsx)(eg.U.Item,{className:"buy-any-stepper__header",header:(0,h.jsxs)(ec.x,{color:"muted",fontWeight:"bold",size:"m",children:["Only 2 steps to ",n.symbol]}),"data-sentry-element":"unknown","data-sentry-source-file":"buy-any-stepper.tsx",children:(0,h.jsxs)(b.P,{gap:"50",direction:"column","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-any-stepper.tsx",children:[(0,h.jsxs)(b.P,{className:"buy-any-stepper__step--active",gap:"25",direction:"column","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-any-stepper.tsx",children:[(0,h.jsx)(ec.x,{size:"s","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:"Buy with us"}),(0,h.jsxs)(b.P,{gap:"25",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-any-stepper.tsx",children:[(0,h.jsx)(ec.x,{size:"xl",fontWeight:"light",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:s}),(0,h.jsx)(ev.y,{icon:null==t?void 0:t.logo,symbolFallback:null==t?void 0:t.symbol,size:eh.c.xxs,"data-sentry-element":"TokenAvatar","data-sentry-source-file":"buy-any-stepper.tsx"}),(0,h.jsx)(ec.x,{size:"xl",fontWeight:"light",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:null==t?void 0:t.symbol})]})]}),(0,h.jsxs)(b.P,{className:"buy-any-stepper__step--inactive",gap:"25",direction:"column","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-any-stepper.tsx",children:[(0,h.jsx)(ec.x,{size:"s","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:"Swap to get"}),(0,h.jsxs)(b.P,{gap:"25",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-any-stepper.tsx",children:[(0,h.jsx)(ec.x,{size:"xl",fontWeight:"light",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:i}),(0,h.jsx)(ev.y,{icon:null==n?void 0:n.logo,symbolFallback:null==n?void 0:n.symbol,size:eh.c.xxs,"data-sentry-element":"TokenAvatar","data-sentry-source-file":"buy-any-stepper.tsx"}),(0,h.jsx)(ec.x,{size:"xl",fontWeight:"light",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"buy-any-stepper.tsx",children:null==n?void 0:n.symbol})]})]})]})},"buy-any-stepper")})};var ex=a(61902),ek=a(12555);let eb=e=>{let{amount:t,placeholder:a,prefix:n,fontSize:o,...s}=e,r=(0,k.useRef)(t),[i,l]=(0,k.useState)(t),[d,c]=(0,k.useState)(!1);return(0,k.useEffect)(()=>{var e,n;let o=Number(t),s=null!==(e=function(e){if(!e)return;let[t,a]=e.split(".");if(!t)return e;let n=t.replace(/\B(?=(\d{3})+(?!\d))/g,",");return a?"".concat(n,".").concat(a):n}(t))&&void 0!==e?e:a;o>0&&Number(null==(n=r.current)?void 0:n.replace(/,/g,""))!==o?(c(!0),(0,ek.j)(0,o,{duration:.5,ease:"easeOut",onUpdate(e){l(e.toString().substring(0,null==t?void 0:t.length))},onComplete(){r.current=s,l(s),c(!1)}})):(l(s),r.current=s,c(!1))},[t,a]),(0,h.jsxs)("div",{className:w()("animated-amount",{"animated-amount--font-size-transition":Number(t)>0}),style:{fontSize:"".concat(o,"px")},"data-sentry-component":"AnimatedAmount","data-sentry-source-file":"animated-amount.tsx",children:[(0,h.jsxs)("p",{...s,className:w()(s.className,"animated-amount__number","animated-amount__number--new",{"animated-amount--fade-in":d}),children:[n,i]}),(0,h.jsxs)("p",{...s,className:w()(s.className,"animated-amount__number","animated-amount__number--old",{"animated-amount--fade-out":d}),children:[n,r.current]}),(0,h.jsxs)("p",{...s,className:w()(s.className,"animated-amount__number","animated-amount__number--placeholder"),children:[n,i]})]})},eR=e=>{let{placeholder:t,value:a,decimals:n,disabled:o}=e,[s,r]=(0,k.useState)(!1),i=(0,k.useMemo)(()=>{if(null==a?void 0:a.toString()){let e=32-a.toString().length;return e>18?e:18}return 32},[a]);return(0,h.jsx)(h.Fragment,{children:s?(0,h.jsx)(ex.oc,{autoFocus:!0,className:"input-field",style:{fontSize:"".concat(i,"px")},mask:Number,radix:".",mapToRadix:[","],thousandsSeparator:",",scale:null!=n?n:H.zo,unmask:!0,min:0,inputMode:"decimal",autoComplete:"off",variant:"quiet",placeholder:t,value:a,disabled:!0===o,onBlur:()=>r(!1),...e}):(0,h.jsx)(ec.x,{component:"span",color:"muted",textAlign:"right",className:"input-field",children:(0,h.jsx)(eb,{fontSize:i,tabIndex:0,placeholder:t,className:"input-field input-field__animated-amount",amount:null==a?void 0:a.toString(),onFocus:()=>!0!==o&&r(!0)})})})},eN=e=>{var t;let{itemId:a,onItemSelect:n,onInputChange:o,inputValue:s,disabled:r}=e,i=a?J.wI[a]:J.uz,l=e=>{e!==s&&o(e)};return(0,h.jsx)(b.P,{gap:"25","data-sentry-element":"StackLayout","data-sentry-component":"FiatInput","data-sentry-source-file":"fiat-input.tsx",children:(0,h.jsxs)(b.P,{gap:"25",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"fiat-input.tsx",children:[(0,h.jsxs)(b.P,{tabIndex:0,className:"fiat-input__cursor-pointer fiat-input__select-container",gap:"50",direction:"row",alignItems:"center",onClick:n,onKeyDown:e=>{"Enter"===e.key&&n()},"data-sentry-element":"StackLayout","data-sentry-source-file":"fiat-input.tsx",children:[(0,h.jsx)(ev.y,{size:eh.c.s,icon:i.icon,"data-sentry-element":"TokenAvatar","data-sentry-source-file":"fiat-input.tsx"}),(0,h.jsxs)(b.P,{gap:"0",direction:"column","data-sentry-element":"StackLayout","data-sentry-source-file":"fiat-input.tsx",children:[(0,h.jsx)(ec.x,{size:"s",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"fiat-input.tsx",children:"From"}),(0,h.jsxs)(b.P,{gap:"25",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"fiat-input.tsx",children:[(0,h.jsx)(ec.x,{className:"fiat-input__symbol","data-sentry-element":"Text","data-sentry-source-file":"fiat-input.tsx",children:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"Select"}),(0,h.jsx)(ed.J,{className:"fiat-input__caret-icon",icon:ei.T.CARET_RIGHT,"data-sentry-element":"Icon","data-sentry-source-file":"fiat-input.tsx"})]})]})]}),(0,h.jsx)(b.P,{className:"fiat-input__field-container",gap:"0",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"fiat-input.tsx",children:(0,h.jsx)(eR,{decimals:2,placeholder:"0.00",onAccept:e=>l(e),value:s,disabled:r,"data-sentry-element":"InputField","data-sentry-source-file":"fiat-input.tsx"})})]})})};var eA=a(20814),eI=a(8027),eP=a(80696);let eO=e=>void 0!==e.onClick,eC=e=>{var t;let{actions:a}=e,n=void 0!==a.description||void 0!==a.description&&void 0!==a.actionCtas[0];return(0,h.jsx)(b.P,{gap:"0",className:w()({"form-actions__container":n},a.containerClassName),"data-sentry-element":"StackLayout","data-sentry-component":"FormActions","data-sentry-source-file":"form-actions.tsx",children:(0,h.jsxs)(eP.z,{isCollapsed:!1,"data-sentry-element":"Collapsible","data-sentry-source-file":"form-actions.tsx",children:[n&&(0,h.jsxs)(b.P,{gap:"50",className:"bottom-margin-16px",children:[(0,h.jsx)(ec.x,{color:"".concat(null!==(t=a.titleColor)&&void 0!==t?t:"error"),children:a.title}),(0,h.jsx)(ec.x,{color:"muted",size:"s",fontWeight:"light",children:a&&a.description})]}),(0,h.jsx)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"form-actions.tsx",children:a.actionCtas&&a.actionCtas.map((e,t)=>eO(e)?(0,h.jsx)(eA.z,{disabled:e.disabled||!1,variant:e.type||"primary",size:"xl",onClick:e.onClick||(()=>{}),className:w()({"form-actions__secondary-button":"tertiary"===e.type}),children:e.buttonText||""},t):(0,h.jsx)(eI.ButtonLink,{href:e.href,target:e.openInNewWindow?"_blank":void 0,variant:"primary",size:"xl",className:e.className,children:e.linkText},t))})]})})};var ej=a(82518),eL=a(70959);let eD=e=>{let{children:t,onSeparatorClick:a,separatorAnimationType:n=ej.r.SWITCH}=e,o=k.Children.toArray(t);if(2!==o.length)throw Error("GrayBorderWrapper must have exactly 2 children");return(0,h.jsxs)(b.P,{gap:"0",className:"gray-border-wrapper_container","data-sentry-element":"StackLayout","data-sentry-component":"GrayBorderWrapper","data-sentry-source-file":"gray-border-wrapper.tsx",children:[(0,h.jsx)(b.P,{gap:"0",justifyContent:"center",className:"gray-border-wrapper_children","data-sentry-element":"StackLayout","data-sentry-source-file":"gray-border-wrapper.tsx",children:o[0]}),(0,h.jsx)("div",{className:"gray-border-wrapper_separator",children:a&&(0,h.jsx)(b.P,{gap:"0",className:"gray-border-wrapper_caret-container",justifyContent:"center",alignItems:"center",onClick:a,children:(0,h.jsx)(eL.F,{className:"buy-section__quotes-loading",animationParams:{animation:n,loop:!1,autoplay:!1,playOnClick:!0}})})}),(0,h.jsx)(b.P,{gap:"0",justifyContent:"center",className:"gray-border-wrapper_children","data-sentry-element":"StackLayout","data-sentry-source-file":"gray-border-wrapper.tsx",children:o[1]})]})};var eU=a(67542),eF=a(54057),eW=a(96507);let eM={[eW.A.APPLE_PAY]:{id:eW.A.APPLE_PAY,label:"Apple",title:"Payment by Apple Pay",logo:ei.T.PAYMENT_APPLE_PAY,payButtonLabel:"Buy with",payButtonLogo:ei.T.PAYMENT_APPLE_PAY},[eW.A.GOOGLE_PAY]:{id:eW.A.GOOGLE_PAY,label:"Google",title:"Payment by Google Pay",logo:ei.T.PAYMENT_GOOGLE_PAY_COLOR,payButtonLabel:"Buy with",payButtonLogo:ei.T.PAYMENT_GOOGLE_PAY},[eW.A.BANK_TRANSFER]:{id:eW.A.BANK_TRANSFER,label:"Bank",title:"Payment by bank transfer",logo:ei.T.PAYMENT_BANK,payButtonLabel:"Buy with bank transfer"},[eW.A.CARD_PAYMENT]:{id:eW.A.CARD_PAYMENT,label:"Card",title:"Payment by debit card / credit card",logo:ei.T.PAYMENT_CARD,payButtonLabel:"Buy with card"}};var eB=a(35090);let eK=e=>{let{paymentMethod:t}=e,{logo:a}=t;return a&&(0,h.jsx)("span",{className:"pay-by__logo",children:(0,h.jsx)(ed.J,{icon:a,className:"pay-by__logo-icon"})})},eV=e=>{let{quote:t,isLoadingQuotes:a,onClick:n}=e,o=t?eM[t.paymentType]:null,{label:s,logo:r}=null!=o?o:{},i=t?eB.Q[t.provider]:null,{displayName:l,iconCircle:d}=null!=i?i:{};return(0,h.jsxs)(b.P,{gap:"0",direction:"row",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"PaymentMethod","data-sentry-source-file":"payment-method.tsx",children:[a&&(0,h.jsx)(eF.g,{className:"payment-method__loader"}),!a&&t&&(0,h.jsxs)(b.P,{gap:"50",onClick:n,direction:"row",alignItems:"center",className:"payment-method__loaded",children:[(0,h.jsxs)(b.P,{className:"payment-method__sub-container",gap:"50",direction:"row",children:[(0,h.jsx)(ec.x,{size:"m",fontWeight:"light",color:"muted",children:"Pay by:"}),(0,h.jsx)(eK,{paymentMethod:eM[t.paymentType]}),s&&s]}),(0,h.jsx)(ec.x,{size:"m",fontWeight:"light",color:"muted",children:"with"}),(0,h.jsxs)(b.P,{className:"payment-method__sub-container",gap:"50",direction:"row",justifyContent:"center",alignItems:"center",children:[r&&(0,h.jsx)(b.P,{gap:"0",alignItems:"center",children:d&&(0,h.jsx)(ed.J,{icon:d})}),l]})]})]})};var eY=a(45340),eG=a(91012),ez=a(12221),eH=a(47347),eQ=a.n(eH);let eq=e=>{let{walletAddress:t}=e;return(0,h.jsxs)(b.P,{gap:"75",direction:"column",fullWidth:!0,"data-sentry-element":"StackLayout","data-sentry-component":"SendToWallet","data-sentry-source-file":"send-to-wallet.tsx",children:[(0,h.jsxs)(b.P,{gap:"50",direction:"row",alignItems:"center",fullWidth:!0,"data-sentry-element":"StackLayout","data-sentry-source-file":"send-to-wallet.tsx",children:[(0,h.jsx)("div",{className:eQ().orLine}),(0,h.jsx)(ec.x,{className:eQ().or,color:"muted",size:"m","data-sentry-element":"Text","data-sentry-source-file":"send-to-wallet.tsx",children:"Or"}),(0,h.jsx)("div",{className:eQ().orLine})]}),(0,h.jsxs)(b.P,{gap:"50",direction:"row",fullWidth:!0,className:eQ().sendPanel,"data-sentry-element":"StackLayout","data-sentry-source-file":"send-to-wallet.tsx",children:[(0,h.jsxs)(b.P,{gap:"0",direction:"column",className:eQ().send,"data-sentry-element":"StackLayout","data-sentry-source-file":"send-to-wallet.tsx",children:[(0,h.jsx)(ec.x,{color:"muted",size:"m","data-sentry-element":"Text","data-sentry-source-file":"send-to-wallet.tsx",children:"Send to wallet:"}),(0,h.jsx)(ec.x,{color:"body-text",size:"m","data-sentry-element":"Text","data-sentry-source-file":"send-to-wallet.tsx",children:eG.i.shortenAddress(t,12)})]}),(0,h.jsx)(eY.CopyValue,{copyValue:t,renderChildrenOnly:!0,"data-sentry-element":"CopyValue","data-sentry-source-file":"send-to-wallet.tsx",children:(0,h.jsx)(ez.I,{icon:ei.T.COPY,className:eQ().copy,"data-sentry-element":"IconWithBackground","data-sentry-source-file":"send-to-wallet.tsx"})})]})]})};var eX=a(27100);let eJ=()=>(0,h.jsxs)(b.P,{gap:"0",className:"add-token-animated",direction:"row",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"AddTokenAnimated","data-sentry-source-file":"add-token-animated.tsx",children:[(0,h.jsx)("span",{className:"add-token-animated__plus-line"}),(0,h.jsx)("span",{className:"add-token-animated__plus-line add-token-animated__plus-line--vertical"})]}),eZ=e=>{var t;let{select:a,onSelectToken:n,lockSelectToken:o,onInputChange:s,inputValue:r,disabled:i,token:l,holdingsAndBalance:d,buyAnyStepper:c,isFetchingQuote:u,isInitializing:m}=e;return(0,h.jsxs)(b.P,{gap:"25","data-sentry-element":"StackLayout","data-sentry-component":"TokenInput","data-sentry-source-file":"token-input.tsx",children:[(0,h.jsxs)(b.P,{gap:"25",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"token-input.tsx",children:[(0,h.jsxs)(b.P,{tabIndex:o?void 0:0,className:w()("token-input__select-container",{"token-input__cursor-pointer":!o,"token-input__disabled":o}),gap:"50",direction:"row",alignItems:"center",onClick:o?void 0:n,onKeyDown:e=>{o||"Enter"!==e.key||n()},"data-sentry-element":"StackLayout","data-sentry-source-file":"token-input.tsx",children:[(null==l?void 0:l.symbol)?(0,h.jsx)(eX.S,{className:"token-input__logo",partialToken:l,displayChainLogo:!0}):(0,h.jsx)(b.P,{className:"token-input__plus-logo",gap:"0",direction:"row",alignItems:"center",children:(0,h.jsx)(eJ,{})}),(0,h.jsxs)(b.P,{gap:"0",direction:"column","data-sentry-element":"StackLayout","data-sentry-source-file":"token-input.tsx",children:[(0,h.jsx)(ec.x,{size:"s",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"token-input.tsx",children:"from"===a?"From":"To"}),(0,h.jsxs)(b.P,{gap:"25",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"token-input.tsx",children:[m&&(0,h.jsx)(eF.g,{}),!m&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ec.x,{className:"token-input__symbol",children:"".concat(null!==(t=null==l?void 0:l.symbol)&&void 0!==t?t:"Select")}),(0,h.jsx)(ed.J,{className:"token-input__caret-icon",icon:ei.T.CARET_RIGHT})]})]})]})]}),(0,h.jsx)(b.P,{className:w()("token-input__field-container",{"token-input__field-container--muted":u}),gap:"0",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"token-input.tsx",children:(0,h.jsx)(eR,{decimals:null==l?void 0:l.decimals,placeholder:"0.00",onAccept:e=>s(e),value:r,disabled:i,"data-sentry-element":"InputField","data-sentry-source-file":"token-input.tsx"})})]}),d,c]})};(o=p||(p={})).MINIMUM_AMOUNT_NOT_MET="MINIMUM_AMOUNT_NOT_MET",o.MAXIMUM_AMOUNT_EXCEEDED="MAXIMUM_AMOUNT_EXCEEDED",o.BANK_TRANSFERS_NOT_SUPPORTED_FOR_USD="BANK_TRANSFERS_NOT_SUPPORTED_FOR_USD",o.OTHER="OTHER";var e$=a(38040),e0=a(11451);let e1=e=>{let t=(0,e$.useQueryClient)();return(0,e0.useMutation)(e=>V.W.saveOnRampTransaction(e),{...e,onSuccess:(a,n,o)=>{var s;t.invalidateQueries([Y.b.ON_RAMP_ACTIVITIES]),t.removeQueries([Y.b.ON_RAMP_QUOTE_LIST]),null==e||null===(s=e.onSuccess)||void 0===s||s.call(e,a,n,o)}})};var e5=a(832),e2=a(86576),e3=a(39815),e8=a(16278);let e4={"error-fetching-buy-quotes":{title:"Sorry, something went wrong \uD83D\uDE23",description:"Tell us about this problem to help us fix it."},"min-buy-amount-not-met":{title:"Sorry, that's just not enough \uD83D\uDE23",description:"Minimum fiat amount not met, please try using a larger value."},"max-buy-amount-exceeded":{title:"I wish I had that! \uD83E\uDD29",description:"Maximum fiat amount exceeded, please try using a smaller value."},"no-valid-buy-quotes":{title:"Could not find any valid quotes \uD83E\uDEE0",description:"Have a look at the quotes we found though - you might figure out what went wrong."},"no-buy-quotes":{title:"Could not find any quotes \uD83E\uDEE0",description:"Try choosing another amount, currency or token."},"error-fetching-swap-quotes":{title:"Sorry, something went wrong \uD83D\uDE23",description:"Could not fetch quotes right now, please try again later."}},e6=e=>{var t,a,n;let{isFetchingBuyQuotes:o,isBuyError:s,buyQuotes:r,selectedBuyQuote:i,isFetchingSwapQuote:l,isSwapError:d,swapQuote:c,buyMode:u}=e,[m,y]=(0,x.KO)(O.n9),{isEmbedded:_,miniappIntent:E,flowId:f}=m,[T,g]=(0,x.KO)(O.aG),{intermediaryToken:v,finalToken:h,fromFiat:S,fromFiatAmount:w}=T,{selectedAccount:k,setShowAuthFlow:b}=(0,R.Z)(),N=()=>{y({action:"SET_VIEW",payload:{view:"SelectPaymentView",debug:"navigateToSelectPayment"}})},{mutate:A}=e1(),I=()=>{let e=e8.s.formValuesToRampTransactionData({buyQuote:i,partialToken:"direct"===u?h:v,userAddress:k,fiatAmount:w,fiatId:S,finalPartialToken:"direct"===u?void 0:h});e&&(A({body:e}),y({action:"SET_VIEW",payload:{view:"direct"===u?"DirectBuyProgressView":"IndirectBuyProgressView",debug:"startBuy"}}))},P=()=>{var e;let t={onRampDisabled:!1,onRampNetwork:null!==(e=null==h?void 0:h.network)&&void 0!==e?e:H.a9.id,onRampCurrencyId:S,onRampCurrencyAmount:w,onRampProvider:null==i?void 0:i.provider,onRampPaymentType:null==i?void 0:i.paymentType,onRampTokenAddress:null==h?void 0:h.address,onRampLockToken:!1,onRampAsDefault:!0},a=e3.w.buildTradeWidgetConfig({onRampParams:t}),n=e3.w.configToQueryParameters(a),o="".concat("https://flooz.xyz","/swap?").concat(n);window.open(o,"_blank")},C={tokenSymbol:null!==(t=null==v?void 0:v.symbol)&&void 0!==t?t:"",tokenName:null!==(a=null==v?void 0:v.name)&&void 0!==a?a:""},j=e=>({title:e4[e].title,description:e4[e].description});if(s){let{title:e,description:t}=j("error-fetching-buy-quotes");return{title:e,description:t,actionCtas:[{buttonText:"Buy ".concat(C.tokenSymbol),onClick:()=>{},type:"primary",disabled:!0}]}}if(d){let{title:e,description:t}=j("error-fetching-swap-quotes");return{title:e,description:t,actionCtas:[{buttonText:"Buy ".concat(C.tokenSymbol),onClick:()=>{},type:"primary",disabled:!0}]}}if(o||l)return{actionCtas:[{buttonText:"Getting best quotes...",onClick:()=>{},type:"primary",disabled:!0}]};let L=(null==r?void 0:r.find(e=>e.isValid))!=null,D=(null==r?void 0:r.find(e=>{var t;return(null===(t=e.quoteError)||void 0===t?void 0:t.errorType)===p.MINIMUM_AMOUNT_NOT_MET}))!=null;if(0===Number(w)||!L&&D){let{title:e,description:t}=j("min-buy-amount-not-met"),a=S?X.U[S]:(2*Number(w)).toString();return{title:e,description:t,actionCtas:[{buttonText:"Increase fiat amount",onClick:()=>{g({action:"SET_FROM_FIAT_AMOUNT",payload:{fromFiatAmount:a,debug:"increase-fiat-amount"}})},type:"primary",disabled:!1}]}}if(!L&&(null==r?void 0:r.find(e=>{var t;return(null===(t=e.quoteError)||void 0===t?void 0:t.errorType)===p.MAXIMUM_AMOUNT_EXCEEDED}))){let{title:e,description:t}=j("max-buy-amount-exceeded"),a=S?X.U[S]:(Number(w)/2).toString();return{title:e,description:t,actionCtas:[{buttonText:"Decrease fiat amount",onClick:()=>{g({action:"SET_FROM_FIAT_AMOUNT",payload:{fromFiatAmount:a,debug:"decrease-fiat-amount"}})},type:"primary",disabled:!1}]}}if(!L){let{title:e,description:t}=j("no-valid-buy-quotes");return{title:e,description:t,actionCtas:[{buttonText:"View quotes",onClick:()=>N(),type:"primary",disabled:!1}]}}let U=r&&r.length>0;if(!U){let{title:e,description:t}=j("no-buy-quotes");return{title:e,description:t,actionCtas:[{buttonText:"Buy ".concat(C.tokenSymbol),onClick:()=>{},type:"primary",disabled:!0}]}}if(!k&&("direct"===u&&U||"indirect"===u&&c)){if("buy"!==E||"miniapp-flow"!==f)return{actionCtas:[{buttonText:"Connect",onClick:()=>b(!0),type:"primary",disabled:!1}]};{let e=new URLSearchParams;return E&&e.set(e5.m7.miniappIntent,E.toString()),(null==h?void 0:h.address)&&e.set("onRampTokenAddress",h.address.toString()),(null==h?void 0:h.network)&&e.set("onRampNetwork",h.network.toString()),S&&e.set("onRampCurrencyId",S.toString()),w&&e.set("onRampCurrencyAmount",w.toString()),e.set("onRampAsDefault","true"),{actionCtas:[{linkText:"Connect",href:"".concat(e2.J.miniAppConnect,"?").concat(e.toString()),openInNewWindow:!1}]}}}let F=k&&("direct"===u&&U||"indirect"===u&&c),W=_&&!e8.s.isRampProviderSupportedInEmbeddedMode(null==i?void 0:i.provider);return F?{actionCtas:[{buttonText:"Buy ".concat(null!==(n=null==h?void 0:h.symbol)&&void 0!==n?n:""),onClick:W?()=>P():()=>I(),type:"primary",disabled:!1}]}:{actionCtas:[{buttonText:"Getting best quotes...",onClick:()=>{},type:"primary",disabled:!0}]}};var e7=a(21818);let e9=(e,t)=>(0,B.useQuery)(Y.a.onRampQuoteList(e),()=>V.W.getOnRampQuoteList(e),t);var te=a(71306);class tt{constructor(){this.getTokenToBuy=e=>{var t,a,n,o,s;let{partialToken:r,providerNetwork:i,networkParam:l,defaultNetwork:d=H.cU.BINANCE_MAINNET}=e,c=null!==(n=null!==(a=null!==(t=null==r?void 0:r.network)&&void 0!==t?t:l)&&void 0!==a?a:i)&&void 0!==n?n:d,u=H.Eu[c].nativeCurrency.address,m=null!=r?r.address:u,p=null!==(o=null==r?void 0:r.name)&&void 0!==o?o:H.Eu[c].nativeCurrency.name,y=null!==(s=null==r?void 0:r.symbol)&&void 0!==s?s:H.Eu[c].nativeCurrency.symbol;return{address:m,network:c,name:p,symbol:y}},this.appendUserEmailToBuyUrl=e=>{let{rampProviderId:t,buyUrl:a,email:n}=e,o=eB.Q[t];if(null==o||!o.emailFieldName)return a;{var s;let e=new URL(a);return e.searchParams.set(null!==(s=o.emailFieldName)&&void 0!==s?s:"",n),e.toString()}},this.getEnabledRampProviders=e=>{var t;let a="embedded"===e?"TRANSAK":"RAMP_NETWORK,MOONPAY,TRANSAK,MERCURYO";return null!==(t=null==a?void 0:a.split(","))&&void 0!==t?t:[]},this.getOffRampLink=e=>{let{isPaychantSupportedCountry:t,currency:a}=e;return"https://sell.moonpay.com?apiKey=pk_live_cVdATUCipk0LEMGljSiLPilH4wPKWar"}}}let ta=new tt;var tn=a(18002);let to=e=>{var t,a;let{token:n,fiatAmount:o,fiatCurrency:s,isEnabled:r}=e,{selectedAccount:i}=(0,R.Z)(),{countryCode:l}=(0,z.Y)(),{data:d,...c}=e9({pathParameters:{address:null!==(t=null==n?void 0:n.address)&&void 0!==t?t:""},queryParameters:{fiatAmount:Number(o),fiatSymbol:s,network:null!==(a=null==n?void 0:n.network)&&void 0!==a?a:H.cU.ETHEREUM_MAINNET,userAddress:i,countryCode:null!=l?l:void 0,client:te._.isSafari()?e7.B.SAFARI_WEB_BROWSER:e7.B.GENERIC_WEB_BROWSER,providers:ta.getEnabledRampProviders(e.rampProviderMode),redirectUrl:tn.v}},{enabled:r,cacheTime:6e4,staleTime:6e4,refetchInterval:6e4});return{data:d,...c}};var ts=a(16087);(s=y||(y={})).CREATE="TRADE_FLOOZ_API_CREATE",s.SWAP_QUOTE="TRADE_FLOOZ_API_SWAP_QUOTE",s.CREATE_SWAP_TRANSACTION="TRADE_FLOOZ_API_CREATE_SWAP_TRANSACTION",s.CREATE_SWAP_TRANSACTION_V3="TRADE_FLOOZ_API_CREATE_SWAP_TRANSACTION_V3";let tr=e=>["TRADE_FLOOZ_API_SWAP_QUOTE",e],ti=e=>["TRADE_FLOOZ_API_CREATE_SWAP_TRANSACTION_V3",e];var tl=a(24315);(r=_||(_={})).CREATE="/create",r.CREATE_SWAP="/create/swap",r.SWAP_QUOTE="/create/swap/quote";class td extends V.g{constructor(){super({context:"/transactions"}),this.createTransaction=async e=>{let{body:t}=e,{data:a}=await this.safePost("/create",t);return a},this.getSwapQuote=async e=>{let{body:t}=e,{data:a}=await this.http.post("/create/swap/quote",t);return a.data},this.getSwapQuoteV3=async(e,t)=>{let{body:a}=e,n="".concat("https://api.flooz.trade","/v3/transactions","/create/swap/quote");try{let{data:e}=await this.http.post(n,a);return e.data}catch(e){throw tl.C.logApiServiceError(e,e_.i.QUOTE_ERROR,a,n,t),e}},this.createSwapTransaction=async e=>{let{body:t}=e,{data:a}=await this.safePost("/create/swap",t);return a},this.createSwapTransactionV3=async(e,t)=>{let{body:a}=e,n="".concat("https://api.flooz.trade","/v3/transactions","/create/swap");try{let{data:e}=await this.safePost(n,a);return e}catch(e){throw tl.C.logApiServiceError(e,e_.i.CREATE_SWAP_ERROR,a,n,t),e}}}}let tc=new td,tu=(e,t,a)=>(0,B.useQuery)(tr(t),()=>tc.getSwapQuoteV3(t,e),{...a,cacheTime:0});var tm=a(38922),tp=a(23719),ty=a(6650),t_=a(40651);(i=E||(E={})).UNISWAP_V2="UNISWAP_V2",i.UNISWAP_V3="UNISWAP_V3",i.ERC_20="ERC_20",i.ERC_721="ERC_721",i.ERC_1155="ERC_1155",i.NATIVE="NATIVE",i.OPENSEA="OPENSEA",i.LOOKSRARE="LOOKSRARE",i.GEMSWAP="GEMSWAP",i.FLOOZ_MULTICHAIN_ROUTER="FLOOZ_MULTICHAIN_ROUTER",i.UNKNOWN="UNKNOWN",(l=f||(f={})).TRANSFER="TRANSFER",l.MINT="MINT",l.APPROVAL="APPROVAL",l.SWAP="SWAP",l.CONTRACT_INTERACTION="CONTRACT_INTERACTION";var tE=a(8624);class tf{constructor(){this.formValuesToBuildAllowanceTxParams=e=>{var t,a;let{selectedAccount:n,values:o}=e,{fromToken:s}=o,r=q.a.isNativeTokenAddress(null!==(t=null==s?void 0:s.address)&&void 0!==t?t:"",null==s?void 0:s.network)?ty.i.NATIVE:void 0;if(null!=n&&null!=s&&r!==ty.i.NATIVE)return{body:{to:s.address,from:n,network:s.network,gasPriceLevel:eT.f.MEDIUM,contractType:ty.i.ERC_20,type:f.APPROVAL,metadata:{spender:null!==(a=H.Eu[s.network].floozRouter)&&void 0!==a?a:"",amount:"max"}}}},this.formValuesToSwapQuoteParams=e=>{let{selectedAccount:t,values:a,getFromAmount:n,refId:o}=e,{fromToken:s,toToken:r,gasPriceLevel:i,slippage:l,network:d,toTokenAmount:c,fromTokenAmount:u}=a;if(null==s||null==r)return;let m=n&&tE.u.validateStringAmount(c,r.decimals)||!n&&tE.u.validateStringAmount(u,s.decimals);if(null==i||!m)return;let p=n?void 0:q.a.toBaseUnit(u,s.decimals),y=n?q.a.toBaseUnit(c,r.decimals):void 0;return{body:{buyCurrency:r.address,sellCurrency:s.address,buyAmount:null==y?void 0:y.toString(),sellAmount:null==p?void 0:p.toString(),network:d,gasPriceLevel:i,contractType:E.FLOOZ_MULTICHAIN_ROUTER,slippage:null!=l?l:0,userAddress:t,referee:o}}},this.formValuesToBuildSwapTxParams=e=>{let{selectedAccount:t,values:a,refId:n}=e,o=this.formValuesToSwapQuoteParams({selectedAccount:t,values:a});if(null!=t&&null!=o)return{body:{...o.body,referee:n}}},this.swapValuesToActivity=(e,t)=>{var a;return{createdTimestamp:tm.ou.now().toISO(),blockTimestamp:"",type:tp.T.SWAP,transactionHash:t,fromToken:e.fromToken,toToken:e.toToken,amountIn:e.fromTokenAmount,amountOut:e.toTokenAmount,network:e.network,amountOutUsd:t_.S.getTokenAmountInUSD(e.fromTokenAmount,null===(a=e.fromToken)||void 0===a?void 0:a.usdValue)}}}}let tT=new tf,tg=e=>{let{values:t,getFromAmount:a,isEnabled:n=!0}=e,{selectedAccount:o}=(0,R.Z)(),s=(0,ts.P)().refId,[r,i]=(0,k.useState)(void 0),l=tT.formValuesToSwapQuoteParams({selectedAccount:o,values:t,getFromAmount:a,refId:s}),d=(0,eE.N)(l,500),{data:c,isFetching:u,refetch:m}=tu(null!=o?o:"",d,{enabled:n&&!!d,onError:e=>{i(tl.C.getSwapError(e))}});return(0,k.useEffect)(()=>{c&&i(void 0)},[c]),{data:c,isFetching:u,error:r,refetch:m}};var tv=a(50320);let th=e=>{var t,a;let{children:n,leftIcon:o}=e,{selectedAccount:s}=(0,A.$)(),[r,i]=(0,x.KO)(O.n9),{isEmbedded:l,destinationWallet:d}=r,{currency:c}=(0,z.Y)(),u=(0,J.Fc)(c)?c:J.uz.id,[m,p]=(0,x.KO)(O.aG),{buyMode:y,fromFiat:_,fromFiatAmount:E,intermediaryToken:f,finalToken:T,finalTokenAmount:g,buyQuotes:v,swapQuote:S,selectedBuyQuote:w,lockFinalToken:R}=m,N="direct"===y?T:f,I=Number(E)>0&&null!=N,{data:P=[],isFetching:C,isError:j}=to((0,eE.N)({token:N,fiatAmount:E,fiatCurrency:null!=_?_:u,rampProviderMode:"regular",isEnabled:I},500)),L=(0,tv.Kf)({network:null!==(t=null==f?void 0:f.network)&&void 0!==t?t:H.a9.id,fromToken:f,fromTokenAmount:null==w?void 0:w.amountInCryptoAsset,toToken:T,slippage:Number(e_.M),gasPriceLevel:eT.f.LOW}),{data:D,isFetching:U,error:F}=tg({values:L,getFromAmount:!1,isEnabled:"indirect"===y&&null!=L});(0,k.useEffect)(()=>{(null==P?void 0:P.length)>0&&!es().isEqual(P,v)&&(null==N?void 0:N.network)&&p({action:"BUY_QUOTES_RECEIVED",payload:{buyQuotes:P,network:N.network,debug:"buyQuotes received useEffect"}})},[v,p,P,null==N?void 0:N.network]),(0,k.useEffect)(()=>{if(D&&!es().isEqual(D,S)){let e=q.a.fromBaseUnit(null==D?void 0:D.amount,null==T?void 0:T.decimals);p({action:"SWAP_QUOTE_RECEIVED",payload:{swapQuote:{...D,amount:e},debug:"swapQuotes received useEffect"}})}},[p,D,null==T?void 0:T.decimals,S]);let W="direct"===y&&w||"indirect"===y&&D,M=f&&T&&D,B=e6({isFetchingBuyQuotes:C,selectedBuyQuote:w,isBuyError:j,buyQuotes:P,isFetchingSwapQuote:U,isSwapError:null!=F,swapQuote:D,buyMode:y}),K=l&&s?ei.T.GEAR_WITH_DOT:ei.T.GEAR,V=(0,er.usePathname)(),{showToTokenLinksInTradeWidget:Y}=null!==(a=ef.M.getRouteDefinition(V))&&void 0!==a?a:{},G=!0===Y&&T;return(0,h.jsxs)(b.P,{gap:"0",direction:"column",className:"buy-view","data-sentry-element":"StackLayout","data-sentry-component":"BuyView","data-sentry-source-file":"buy-view.tsx",children:[(0,h.jsxs)(b.P,{gap:"100","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:o,rightIcon:(0,h.jsx)(eU.l,{onClick:()=>{i({action:"SET_VIEW",payload:{view:"SettingsView",debug:"navigateToSettings"}})},icon:K}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"buy-view.tsx",children:n}),(0,h.jsxs)(eD,{"data-sentry-element":"GrayBorderWrapper","data-sentry-source-file":"buy-view.tsx",children:[(0,h.jsx)(eN,{itemId:_,onItemSelect:()=>{i({action:"SET_VIEW",payload:{view:"SelectFromFiatView",debug:"FiatInput onItemSelect"}})},onInputChange:e=>{p({action:"SET_FROM_FIAT_AMOUNT",payload:{fromFiatAmount:e,debug:"handleFiatAmountChange"}})},inputValue:E,"data-sentry-element":"FiatInput","data-sentry-source-file":"buy-view.tsx"}),(0,h.jsx)(eZ,{select:"to",lockSelectToken:R,token:T,onSelectToken:()=>{i({action:"SET_VIEW",payload:{view:"SelectTokenToBuyView",debug:"TokenInput onSelectToken"}})},onInputChange:()=>{},inputValue:g,disabled:!0,buyAnyStepper:M&&(0,h.jsx)(ew,{tokenFrom:f,tokenFromAmount:null==w?void 0:w.amountInCryptoAsset,tokenTo:T,quote:D}),"data-sentry-element":"TokenInput","data-sentry-source-file":"buy-view.tsx"})]}),W&&(0,h.jsx)(eV,{quote:w,isLoadingQuotes:C||U,onClick:()=>{i({action:"SET_VIEW",payload:{view:"SelectPaymentView",debug:"navigateToSelectPayment"}})}}),(0,h.jsx)(eC,{actions:B,"data-sentry-element":"FormActions","data-sentry-source-file":"buy-view.tsx"}),G&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ey.L,{address:T.address,network:T.network,className:"buy-view__market",mode:"trade-widget"}),(0,h.jsx)(eu,{name:T.name,address:T.address,network:T.network,mode:"trade-widget"})]}),d&&(0,h.jsx)(eq,{walletAddress:d})]}),(0,h.jsx)(ep,{className:"buy-view__loading-bar",color:"var(--fds-color-border-primary)",isLoading:C||U,"data-sentry-element":"LoadingBar","data-sentry-source-file":"buy-view.tsx"})]})};var tS=a(20189),tw=a(15103),tx=a(37456);let tk=e=>{switch(e){case"loading":return{};case"success":return{value:10,max:10};case"idle":return{value:0,max:10}}},tb=e=>{let{status:t}=e;return(0,h.jsx)("progress",{className:"tx-progress-header-status-bar",...tk(t),"data-sentry-component":"TxProgressHeaderStatusBar","data-sentry-source-file":"tx-progress-header-status-bar.tsx"})},tR=e=>{let{provider:t,amount:a,tokenSymbol:n}=e,o=t?eB.Q[t].iconCircle:void 0,s=t?eB.Q[t].displayName:"",r=eS.z.formatNumber(a,{maxFractionDigits:5,useRangeFormat:!0});return(0,h.jsxs)(b.P,{className:"buy-interstitial-screen",gap:"200",direction:"column",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"BuyInterstitialScreen","data-sentry-source-file":"buy-interstitial-screen.tsx",children:[(0,h.jsxs)(b.P,{className:"buy-interstitial-screen__icons",gap:"0",direction:"row",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"buy-interstitial-screen.tsx",children:[(0,h.jsx)(ed.J,{className:"buy-interstitial-screen__icon-1",icon:ei.T.WALLET_FLOOZ,"data-sentry-element":"Icon","data-sentry-source-file":"buy-interstitial-screen.tsx"}),o&&(0,h.jsx)(ed.J,{className:"buy-interstitial-screen__icon-2",icon:o})]}),(0,h.jsxs)(ec.x,{fontWeight:"bold",size:"l",color:"muted",textAlign:"center","data-sentry-element":"Text","data-sentry-source-file":"buy-interstitial-screen.tsx",children:["Connecting to ",(0,h.jsx)("span",{className:"buy-interstitial-screen__provider",children:s})," to buy ~"," ",r," ",(0,h.jsx)("span",{className:"buy-interstitial-screen__amount",children:n})]}),(0,h.jsx)(tb,{status:"loading","data-sentry-element":"TxProgressHeaderStatusBar","data-sentry-source-file":"buy-interstitial-screen.tsx"})]})};var tN=a(82348);a(70853);let tA=(e,t)=>{let a=e;return Object.entries(t).forEach(e=>{var t;let[n,o]=e,s=RegExp("{{".concat(n,"}}"),"g");a=a.replace(s,null!==(t=null==o?void 0:o.toString())&&void 0!==t?t:"")}),a};(d=T||(T={})).USER_BUYING_IN_IFRAME="USER_BUYING_IN_IFRAME",d.USER_RETURNED="USER_RETURNED",d.USER_RETURNED_AND_WAITED="USER_RETURNED_AND_WAITED",d.BOUGHT_TOKEN_ARRIVED="BOUGHT_TOKEN_ARRIVED";let tI={[T.USER_BUYING_IN_IFRAME]:{buy:{statusKey:"buying",statusBar:"loading"},process:{statusKey:"process",statusBar:"idle"}},[T.USER_RETURNED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processing",statusBar:"loading"},heading:"{{toTokenAmount}} {{toTokenSymbol}} should arrive in your wallet soon.",secondaryText:'Buying {{toTokenSymbol}} with {{provider}} can take up to 5:00 mins."',cta:"Check portfolio"},[T.USER_RETURNED_AND_WAITED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processing",statusBar:"loading"},heading:"It seems to take a while...",secondaryText:"Buying {{toTokenSymbol}} with {{provider}} can take up to 5:00 mins.",cta:"Check portfolio"},[T.BOUGHT_TOKEN_ARRIVED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processed",statusBar:"success"},heading:"Bought {{toTokenAmount}} {{toTokenSymbol}}"}},tP=e=>{let{fromIcon:t,toIcon:a,showSuccessAnimation:n=!1}=e;return(0,h.jsxs)(b.P,{gap:"0",direction:"row",justifyContent:"center",className:"from-to-header__container","data-sentry-element":"StackLayout","data-sentry-component":"FromToHeader","data-sentry-source-file":"from-to-header.tsx",children:[!n&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ev.y,{className:"from-to-header__from",size:eh.c.xl,icon:t}),(0,h.jsx)(ev.y,{className:"from-to-header__to",size:eh.c.xl,icon:a})]}),n&&(0,h.jsx)(eL.F,{className:"from-to-header__success_animation",animationParams:{animation:ej.r.SUCCESS,autoplay:!0}})]})},tO=e=>{var t;let{buyStatus:a,fromFiat:n,toToken:o,toTokenAmount:s,provider:r,onCheckPortfolioClicked:i}=e,l=eS.z.formatNumber(s,{maxFractionDigits:5,useRangeFormat:!0}),{heading:d,secondaryText:c,cta:u}=tI[a],m={toTokenAmount:null!=l?l:"",toTokenSymbol:null!==(t=null==o?void 0:o.symbol)&&void 0!==t?t:"",provider:r},p=d?tA(d,m):"",y=c?tA(c,m):"",_=u||"",E=J.wI[null!=n?n:X.Y].icon,[f,g]=(0,k.useState)(!1);return(0,k.useEffect)(()=>{a===T.BOUGHT_TOKEN_ARRIVED&&(g(!0),setTimeout(()=>{g(!1)},5e3))},[a]),(0,h.jsxs)(b.P,{gap:"0",alignItems:"center",className:"direct-buy-done ","data-sentry-element":"StackLayout","data-sentry-component":"DirectBuyDone","data-sentry-source-file":"direct-buy-done.tsx",children:[(0,h.jsx)(tP,{fromIcon:E,toIcon:null==o?void 0:o.logo,showSuccessAnimation:f,"data-sentry-element":"FromToHeader","data-sentry-source-file":"direct-buy-done.tsx"}),(0,h.jsx)(tN.X,{size:"h4",textAlign:"center","data-sentry-element":"Heading","data-sentry-source-file":"direct-buy-done.tsx",children:p}),(0,h.jsxs)(b.P,{gap:"100",className:"direct-buy-done__footer",justifyContent:"end",alignItems:"end","data-sentry-element":"StackLayout","data-sentry-source-file":"direct-buy-done.tsx",children:[(0,h.jsx)(ec.x,{textAlign:"center",fontWeight:"light",size:"m","data-sentry-element":"Text","data-sentry-source-file":"direct-buy-done.tsx",children:y}),_&&(0,h.jsx)(eA.z,{variant:"primary",size:"xl",onClick:i,className:"direct-buy-done__footer-button",children:_})]})]})},tC=e=>{let{url:t,onContinue:a}=e;return(0,k.useEffect)(()=>{let e=e=>{"ramp-success-message"===e.data&&(null==a||a())},t=new BroadcastChannel("ramp-success-channel");return t.onmessage=e,window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1),t.close()}},[a]),(0,h.jsx)("iframe",{role:"presentation",allow:"accelerometer; autoplay; camera; gyroscope; payment",src:t,className:"provider-buy-screen__iframe","data-sentry-component":"ProviderBuyScreen","data-sentry-source-file":"provider-buy-screen.tsx"})},tj=e=>{let{onIconClick:t,statusElements:a,shouldRenderStatusElements:n}=e;return(0,h.jsxs)(b.P,{className:"tx-progress-header",gap:"0",direction:"row",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-component":"TxProgressHeader","data-sentry-source-file":"tx-progress-header.tsx",children:[(0,h.jsx)(ed.J,{className:"tx-progress-header__margin-right-auto tx-progress-header__close-icon",icon:ei.T.CLOSE,onClick:t,"data-sentry-element":"Icon","data-sentry-source-file":"tx-progress-header.tsx"}),n&&(0,h.jsx)(b.P,{className:"tx-progress-header__margin-right-auto",gap:"150",direction:"row",children:a.map((e,t)=>{let{status:a,statusText:n}=e;return(0,h.jsxs)(b.P,{className:"tx-progress-header__status",gap:"25",alignItems:"center",children:[(0,h.jsx)(tb,{status:a}),(0,h.jsx)(ec.x,{size:"m",..."idle"===a?{color:"muted"}:{},children:n})]},"".concat(a,"-").concat(t))})})]})};var tL=a(4786),tD=a(24156);let tU=(e,t)=>(0,B.useQuery)(Y.a.tokensBalances(e),()=>V.W.getTokensBalances(e),t),tF=e=>{let{quoteId:t,network:a,nativeTokenAmountExpectedToArrive:n,buyMode:o,isEnabled:s=!0}=e,[r,i]=(0,k.useState)("waiting"),[l,d]=(0,k.useState)(),{selectedAccount:c}=(0,R.Z)(),u=s&&"waiting"===r&&null!=t&&null!=a&&null!=c,{data:m}=(0,tD.f)({pathParameters:{address:null!=c?c:""},queryParameters:{limit:10,skip:0}},{enabled:u,refetchInterval:5e3}),p=null==m?void 0:m.result.find(e=>e.quoteId===t);(0,k.useEffect)(()=>{let e=!1;"direct"===o?e=(null==p?void 0:p.transactionStatus)===tL.kl.COMPLETED:"indirect"===o&&(e=(null==p?void 0:p.indirectStatus)===tL._H.COMPLETED),!0===e&&i("token-funds-arrived")},[o,p,t]);let{data:y}=tU({body:(0,k.useMemo)(()=>({walletAddress:c,network:null!=a?a:H.a9.id,tokenAddresses:[H.Ji]}),[a,c])},{enabled:u,refetchInterval:5e3});return(0,k.useEffect)(()=>{var e;let t=null==y?void 0:null===(e=y[0])||void 0===e?void 0:e.balance;d(e=>void 0===e?t:e)},[y]),(0,k.useEffect)(()=>{var e;Number(null==y?void 0:null===(e=y[0])||void 0===e?void 0:e.balance)>Number(l)+.9*Number(n)&&i("token-funds-arrived")},[y,l,n]),{status:r}},tW=()=>{var e,t,a,n;let{selectedAccount:o}=(0,A.$)(),s=(0,er.useRouter)(),[r,i]=(0,k.useState)(!0),[,l]=(0,x.KO)(O.n9),[d]=(0,x.KO)(O.aG),{selectedBuyQuote:c,finalToken:u,finalTokenAmount:m,fromFiat:p}=d,y=null!==(e=null==c?void 0:c.provider)&&void 0!==e?e:tS.j.MOONPAY,_=null==c?void 0:c.buyUrl,E=null==c?void 0:c.id,[f,g]=(0,k.useState)(T.USER_BUYING_IN_IFRAME),{buy:v,process:S}=tI[f],w=[{status:v.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(v.statusKey))},{status:S.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(S.statusKey))}];(0,k.useEffect)(()=>{let e=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(e)},[]);let{status:R}=tF({quoteId:E,network:null==u?void 0:u.network,nativeTokenAmountExpectedToArrive:null!==(t=null==c?void 0:c.amountInCryptoAsset)&&void 0!==t?t:"",buyMode:"direct"});(0,k.useEffect)(()=>{"token-funds-arrived"===R&&(g(T.BOUGHT_TOKEN_ARRIVED),l({action:"SET_OVERLAY",payload:{overlay:{type:"confetti-animation",durationInMs:5e3},debug:"direct > on token-funds-arrived"}}))},[R,l]),(0,k.useEffect)(()=>{let e=()=>{g(T.USER_RETURNED);let e=setTimeout(()=>{g(T.USER_RETURNED_AND_WAITED)},3e5);return()=>clearTimeout(e)},t=new BroadcastChannel(tn.N);return t.addEventListener("message",e,!1),()=>{t.removeEventListener("message",e),t.close()}},[]);let N=!r&&f===T.USER_BUYING_IN_IFRAME&&y&&_,I=[T.USER_RETURNED,T.USER_RETURNED_AND_WAITED,T.BOUGHT_TOKEN_ARRIVED].includes(f)&&y&&_;return(0,h.jsxs)(b.P,{gap:"100",className:"direct-buy-progress-view","data-sentry-element":"StackLayout","data-sentry-component":"DirectBuyProgressView","data-sentry-source-file":"direct-buy-progress-view.tsx",children:[(0,h.jsx)(tj,{onIconClick:()=>{l({action:"RESET_VIEW",payload:{debug:"tx header click"}})},statusElements:w,shouldRenderStatusElements:!0,"data-sentry-element":"TxProgressHeader","data-sentry-source-file":"direct-buy-progress-view.tsx"}),r&&(0,h.jsx)(tR,{provider:y,amount:null!==(a=null==c?void 0:c.amountInCryptoAsset)&&void 0!==a?a:"",tokenSymbol:null!==(n=null==u?void 0:u.symbol)&&void 0!==n?n:""}),N&&(0,h.jsx)(tC,{url:_}),I&&(0,h.jsx)(tO,{buyStatus:f,fromFiat:p,toToken:u,toTokenAmount:m,provider:null==c?void 0:c.provider,onCheckPortfolioClicked:()=>{s.push((0,tw.p4)(o))}})]})},tM={[T.USER_BUYING_IN_IFRAME]:{buy:{statusKey:"buying",statusBar:"loading"},process:{statusKey:"process",statusBar:"idle"},swap:{statusKey:"swap",statusBar:"idle"}},[T.USER_RETURNED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processing",statusBar:"loading"},swap:{statusKey:"swap",statusBar:"idle"},heading:"Processing {{fromTokenAmount}} {{fromTokenSymbol}} to swap to ~{{toTokenAmount}} {{toTokenSymbol}}",secondaryText:"Buying {{fromTokenSymbol}} with {{provider}} can take up to 5:00 mins.",cta:"Check portfolio",ctaAction:"check-portfolio"},[T.USER_RETURNED_AND_WAITED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processing",statusBar:"loading"},swap:{statusKey:"swap",statusBar:"idle"},heading:"It seems to take a while...",secondaryText:"Buying {{fromTokenSymbol}} with {{provider}} can take up to 5:00 mins.",cta:"Check portfolio",ctaAction:"check-portfolio"},[T.BOUGHT_TOKEN_ARRIVED]:{buy:{statusKey:"bought",statusBar:"success"},process:{statusKey:"processed",statusBar:"success"},swap:{statusKey:"swap",statusBar:"loading"},heading:"You are all set to get ~{{toTokenAmount}} {{toTokenSymbol}}!",secondaryText:"Your {{fromTokenAmount}} {{fromTokenSymbol}} are ready to get swapped to {{toTokenSymbol}}. Click on 'Swap now' and we will do the rest!",cta:"Swap Now",ctaAction:"swap-now"}},tB=e=>{var t,a;let{buyStatus:n,intermediaryToken:o,intermediaryTokenAmount:s,finalToken:r,finalTokenAmount:i,provider:l,onSwapClicked:d,onCheckPortfolioClicked:c}=e,{providerNetwork:u,switchNetwork:m}=(0,A.$)(),p=eS.z.formatNumber(s,{maxFractionDigits:5,useRangeFormat:!0}),y=eS.z.formatNumber(i,{maxFractionDigits:5,useRangeFormat:!0}),{heading:_,secondaryText:E,cta:f,ctaAction:g}=tM[n],v={fromTokenAmount:null!=p?p:"",fromTokenSymbol:null!==(t=null==o?void 0:o.symbol)&&void 0!==t?t:"",toTokenAmount:null!=y?y:"",toTokenSymbol:null!==(a=null==r?void 0:r.symbol)&&void 0!==a?a:"",provider:l},S=_?tA(_,v):"",w=E?tA(E,v):"",x=n===T.BOUGHT_TOKEN_ARRIVED&&r&&r.network!==u,[R,N]=(0,k.useState)(!1);return(0,k.useEffect)(()=>{n===T.BOUGHT_TOKEN_ARRIVED&&(N(!0),setTimeout(()=>{N(!1)},5e3))},[n]),(0,h.jsxs)(b.P,{gap:"0",alignItems:"center",className:"indirect-buy-done ","data-sentry-element":"StackLayout","data-sentry-component":"IndirectBuyDone","data-sentry-source-file":"indirect-buy-done.tsx",children:[(0,h.jsx)(tP,{fromIcon:null==o?void 0:o.logo,toIcon:null==r?void 0:r.logo,showSuccessAnimation:R,"data-sentry-element":"FromToHeader","data-sentry-source-file":"indirect-buy-done.tsx"}),(0,h.jsx)(tN.X,{size:"h4",textAlign:"center","data-sentry-element":"Heading","data-sentry-source-file":"indirect-buy-done.tsx",children:S}),(0,h.jsxs)(b.P,{gap:"100",className:"indirect-buy-done__footer",justifyContent:"end",alignItems:"end","data-sentry-element":"StackLayout","data-sentry-source-file":"indirect-buy-done.tsx",children:[(0,h.jsx)(ec.x,{textAlign:"center",fontWeight:"light",size:"m","data-sentry-element":"Text","data-sentry-source-file":"indirect-buy-done.tsx",children:w}),(0,h.jsx)(eA.z,{variant:"primary",size:"xl",onClick:x?()=>null==m?void 0:m({chainId:H.Eu[r.network].chainId}):"check-portfolio"===g?c:d,className:"indirect-buy-done__footer-button","data-sentry-element":"Button","data-sentry-source-file":"indirect-buy-done.tsx",children:x?"Switch Network":f||""})]})]})},tK=()=>{var e,t,a,n;let{selectedAccount:o}=(0,A.$)(),s=(0,er.useRouter)(),[r,i]=(0,k.useState)(!0),[,l]=(0,x.KO)(O.n9),[,d]=(0,x.KO)(O.rR),[c]=(0,x.KO)(O.aG),{intermediaryToken:u,selectedBuyQuote:m,finalTokenAmount:p,finalToken:y,network:_}=c,E=null!==(e=null==m?void 0:m.provider)&&void 0!==e?e:tS.j.MOONPAY,f=null==m?void 0:m.buyUrl,g=null==m?void 0:m.id,[v,S]=(0,k.useState)(T.USER_BUYING_IN_IFRAME),{buy:w,process:R,swap:N}=tM[v],I=[{status:w.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(w.statusKey))},{status:R.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(R.statusKey))},{status:N.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(N.statusKey))}];(0,k.useEffect)(()=>{let e=setTimeout(()=>{i(!1)},1e3);return()=>clearTimeout(e)},[]);let{status:P}=tF({quoteId:g,network:null==u?void 0:u.network,nativeTokenAmountExpectedToArrive:null!==(t=null==m?void 0:m.amountInCryptoAsset)&&void 0!==t?t:"",buyMode:"indirect"});(0,k.useEffect)(()=>{"token-funds-arrived"===P&&(S(T.BOUGHT_TOKEN_ARRIVED),l({action:"SET_OVERLAY",payload:{overlay:{type:"confetti-animation",durationInMs:5e3},debug:"indirect > on token-funds-arrived"}}))},[P,l]),(0,k.useEffect)(()=>{let e;let t=()=>(S(T.USER_RETURNED),e=setTimeout(()=>{S(T.USER_RETURNED_AND_WAITED)},3e5),()=>clearTimeout(e)),a=new BroadcastChannel(tn.N);return a.addEventListener("message",t,!1),()=>{clearTimeout(e),a.removeEventListener("message",t),a.close()}},[]);let C=!r&&v===T.USER_BUYING_IN_IFRAME&&E&&f,j=[T.USER_RETURNED,T.USER_RETURNED_AND_WAITED,T.BOUGHT_TOKEN_ARRIVED].includes(v)&&E&&f;return(0,h.jsxs)(b.P,{gap:"100",className:"direct-buy-progress-view","data-sentry-element":"StackLayout","data-sentry-component":"IndirectBuyProgressView","data-sentry-source-file":"indirect-buy-progress-view.tsx",children:[(0,h.jsx)(tj,{onIconClick:()=>{l({action:"RESET_VIEW",payload:{debug:"indirect-buy tx header"}})},statusElements:I,shouldRenderStatusElements:!0,"data-sentry-element":"TxProgressHeader","data-sentry-source-file":"indirect-buy-progress-view.tsx"}),r&&(0,h.jsx)(tR,{provider:E,amount:null!==(a=null==m?void 0:m.amountInCryptoAsset)&&void 0!==a?a:"",tokenSymbol:null!==(n=null==u?void 0:u.symbol)&&void 0!==n?n:""}),C&&(0,h.jsx)(tC,{url:f}),j&&(0,h.jsx)(tB,{buyStatus:v,intermediaryToken:u,intermediaryTokenAmount:null==m?void 0:m.amountInCryptoAsset,finalToken:y,finalTokenAmount:p,provider:E,onSwapClicked:()=>{var e;d({action:"INITIATE_BUY_ANY_SWAP",payload:{network:_,fromToken:u,fromTokenAmount:null!==(e=null==m?void 0:m.amountInCryptoAsset)&&void 0!==e?e:"",toToken:y,debug:"handleSwapToIndirectToken swapStateDispatch"}}),l({action:"SET_VIEW",payload:{view:"SwapDirectTokenView",debug:"handleSwapToIndirectToken widgetDispatch"}})},onCheckPortfolioClicked:()=>{s.push((0,tw.p4)(o))}})]})};var tV=a(16068),tY=a(74127),tG=a(89378);let tz={txHash:void 0,isSuccess:!1,error:void 0,sendTransactions:()=>Promise.resolve()},tH=e=>{let{primaryWallet:t,isZeroDevAccount:a}=(0,A.$)(),n=tQ(e);return t&&a?n:tz},tQ=e=>{let{getKernelClient:t}=(0,A.$)(),[a,n]=(0,k.useState)(tz),o=(0,k.useCallback)(async a=>{n(e=>({...tz,sendTransactions:e.sendTransactions}));let o=null==t?void 0:t(e);if(!o)return n(tz);try{let e=await o.sendUserOperation({userOperation:{callData:await o.account.encodeCallData(a.map(e=>{var t;return{to:e.to,value:BigInt(null!==(t=null==e?void 0:e.value)&&void 0!==t?t:0),data:e.data}}))}}),t=o.extend((0,tY._)(tG.b.getEntryPoint())),{receipt:{transactionHash:s}}=await t.waitForUserOperationReceipt({hash:e,timeout:3e4});n(e=>({...e,txHash:s,isSuccess:!0,error:void 0}))}catch(e){n(t=>({...t,txHash:void 0,isSuccess:!1,error:e}))}},[t,e]);return(0,k.useEffect)(()=>{n({...tz,sendTransactions:o})},[o]),a},tq=(e,t,a)=>{let n=ti(t);return(0,B.useQuery)(n,()=>tc.createSwapTransactionV3(t,e),a)};var tX=a(84409),tJ=a(46337),tZ=a(55972);let t$=e=>{let{primaryWallet:t}=(0,em.SX)(),{userHasEmbeddedWallet:a}=(0,em.yP)(),n=a(),[o,s]=(0,k.useState)();return(0,k.useEffect)(()=>{t&&n&&(async()=>{(0,tJ.UP)(t)&&s(await (null==t?void 0:t.getWalletClient()))})()},[t,n]),(0,k.useMemo)(()=>{let t=null==o?void 0:o.account;if(e)return t0(e,t)},[e,o])},t0=(e,t)=>{var a,n,o,s,r;if(!e)return;let i=(null===(a=e.gasLimit)||void 0===a?void 0:a.hex)?(0,tZ.y_)(e.gasLimit.hex):"string"==typeof e.gasLimit?BigInt(e.gasLimit):e.gasLimit?e.gasLimit:void 0;return{account:null!=t?t:e.from,to:e.to,chain:e.chainId,chainId:e.chainId,data:e.data,gasPrice:(null===(n=e.gasPrice)||void 0===n?void 0:n.hex)?(0,tZ.y_)(e.gasPrice.hex):"string"==typeof e.gasPrice?BigInt(e.gasPrice):e.gasPrice?e.gasPrice:void 0,value:(null===(o=e.value)||void 0===o?void 0:o.hex)?(0,tZ.y_)(e.value.hex):"string"==typeof e.value?BigInt(e.value):e.value?e.value:void 0,maxFeePerGas:(null===(s=e.maxFeePerGas)||void 0===s?void 0:s.hex)?(0,tZ.y_)(e.maxFeePerGas.hex):"string"==typeof e.maxFeePerGas?BigInt(e.maxFeePerGas):e.maxFeePerGas?e.maxFeePerGas:void 0,maxPriorityFeePerGas:(null===(r=e.maxPriorityFeePerGas)||void 0===r?void 0:r.hex)?(0,tZ.y_)(e.maxPriorityFeePerGas.hex):"string"==typeof e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:void 0,gasLimit:i,gas:i}},t1=(e,t)=>{var a,n;let[o,s]=(0,k.useState)(!1),[r,i]=(0,k.useState)(),{selectedAccount:l}=(0,A.$)(),d=(0,ts.P)().refId,{network:c,isBuyAnyCrypto:u=!1}=e,{enabled:m}=t,{txHash:p,isSuccess:y,error:_,sendTransactions:E}=tH(c),f=tT.formValuesToBuildSwapTxParams({selectedAccount:l,values:{...e,slippage:e.slippage||e.defaultSlippage},refId:d}),{data:T,isFetching:g,refetch:v}=tq(null!=l?l:"",f,{enabled:!!f&&m,onError:e=>x(tX.I.SCW_CREATE_SWAP_TX_ERROR,e)}),h=t$(null==T?void 0:null===(a=T.approvalTransaction)||void 0===a?void 0:a.transactionRequest),S=t$(null==T?void 0:null===(n=T.swapTransaction)||void 0===n?void 0:n.transactionRequest),w=(0,k.useCallback)(async()=>{s(!0);let e=[h,S].filter(Boolean);await E(e),s(!1)},[E,h,S]),x=(0,k.useCallback)((t,a)=>{var n,o,s,r,d,c,m;let p=tl.C.getSwapError(a),y=tl.C.parseErrorMessage(a);if(p.log){let n={id:null==l?void 0:l.toLowerCase()};tl.C.logSwapTransactionError(a,t,e,n)}let _=t_.S.getTokenAmountInUSD(e.fromTokenAmount,null===(n=e.fromToken)||void 0===n?void 0:n.usdValue),E=(0,tv.UT)(t,a),f={from_token_symbol:null===(o=e.fromToken)||void 0===o?void 0:o.symbol,from_token_address:null===(s=e.fromToken)||void 0===s?void 0:s.address,from_token_sell_tax:null===(r=e.fromToken)||void 0===r?void 0:r.sellFees,to_token_symbol:null===(d=e.toToken)||void 0===d?void 0:d.symbol,to_token_address:null===(c=e.toToken)||void 0===c?void 0:c.address,to_token_buy_tax:null===(m=e.toToken)||void 0===m?void 0:m.buyFees,slippage:null==e?void 0:e.slippage,swap_amount:_};tV.I.emitEvent(E,{...f,is_buy_any_crypto:u,error:p,error_message:"".concat(y," [SCW Swap]")}),i(p)},[e,u,l]);return(0,k.useEffect)(()=>{(y||r)&&s(!1)},[y,r]),(0,k.useEffect)(()=>{if(p){var t,a,n,o,s,r,i,l,d;tV.I.emitEvent("swap",{from_token_symbol:null===(t=e.fromToken)||void 0===t?void 0:t.symbol,from_token_address:null===(a=e.fromToken)||void 0===a?void 0:a.address,from_token_sell_tax:null===(n=e.fromToken)||void 0===n?void 0:n.sellFees,to_token_symbol:null===(o=e.toToken)||void 0===o?void 0:o.symbol,to_token_address:null===(s=e.toToken)||void 0===s?void 0:s.address,to_token_buy_tax:null===(r=e.toToken)||void 0===r?void 0:r.buyFees,swap_amount:t_.S.getTokenAmountInUSD(e.fromTokenAmount,null===(i=e.fromToken)||void 0===i?void 0:i.usdValue),value:parseFloat(null!==(d=t_.S.getTokenAmountInUSD(e.fromTokenAmount,null===(l=e.fromToken)||void 0===l?void 0:l.usdValue))&&void 0!==d?d:"0"),is_buy_any_crypto:u})}},[p]),(0,k.useEffect)(()=>{_&&x(tX.I.SCW_SEND_SWAP_TX_ERROR,_)},[_,x]),{isSuccess:y,error:r,sendTransaction:w,isFetchingSwap:g,isSwapping:o,refetch:v,transaction:T}};(c=g||(g={})).BUILDING_TRANSACTION="building_transaction",c.SWAP_SUCCESS="swap_success",c.SWAP_ERROR="swap_error";let t5={building_transaction:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirmed",statusBar:"success"},swap:{statusKey:"swapping",statusBar:"loading"}},swap_success:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirmed",statusBar:"success"},swap:{statusKey:"swapping",statusBar:"loading"}},swap_error:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirmed",statusBar:"success"},swap:{statusKey:"swapping",statusBar:"idle"}}},t2=()=>{let[e,t]=(0,k.useState)(g.BUILDING_TRANSACTION),[a,n]=(0,k.useState)(!1),[,o]=(0,x.KO)(O.n9),[s,r]=(0,x.KO)(O.rR),{fromToken:i,toToken:l,fromTokenAmount:d,toTokenAmount:c,network:u,gasPriceLevel:m,customSlippage:p,defaultSlippage:y}=s,{approve:_,confirm:E,swap:f}=t5[e],T=[{status:_.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(_.statusKey))},{status:E.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(E.statusKey))},{status:f.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(f.statusKey))}],v=eS.z.formatNumber(null!=d?d:0,{useSuperscriptFormat:!0,useRangeFormat:!0}),S=eS.z.formatNumber(null!=c?c:0,{fixedFractionDigits:3,useSuperscriptFormat:!0,useRangeFormat:!0}),{isSuccess:w,error:R,sendTransaction:N,transaction:A}=t1({network:u,fromToken:i,toToken:l,fromTokenAmount:d,toTokenAmount:c,slippage:Number(p),defaultSlippage:Number(y),gasPriceLevel:m},{enabled:!0});return(0,k.useEffect)(()=>{A&&N()},[null==A?void 0:A.buyAmount]),(0,k.useEffect)(()=>{w&&(t(g.SWAP_SUCCESS),n(!0),setTimeout(()=>{n(!1)},5e3),o({action:"SET_OVERLAY",payload:{overlay:{type:"confetti-animation",durationInMs:5e3},debug:"SCW = SwapStatus.SWAP_SUCCESS"}}),setTimeout(()=>{o({action:"SET_VIEW",payload:{view:"SwapReceiptView",debug:"SCW SWAP_SUCCESS isIndexedChain"}})},5e3))},[r,null==i?void 0:i.symbol,w,u,null==l?void 0:l.symbol,o]),(0,k.useEffect)(()=>{R&&(t(g.SWAP_ERROR),r({action:"SET_SWAP_ERROR",payload:{error:R,debug:"onSwapError"}}),o({action:"SET_VIEW",payload:{view:"SwapErrorView",debug:"onSwapError"}}))},[r,R,o]),(0,h.jsxs)(b.P,{gap:"100",className:"scw-swap-progress-view","data-sentry-element":"StackLayout","data-sentry-component":"ScwSwapProgressView","data-sentry-source-file":"scw-swap-progress-view.tsx",children:[(0,h.jsx)(tj,{onIconClick:()=>{o({action:"RESET_VIEW",payload:{debug:"on scw swap tx progress"}})},statusElements:T,shouldRenderStatusElements:e!==g.SWAP_SUCCESS,"data-sentry-element":"TxProgressHeader","data-sentry-source-file":"scw-swap-progress-view.tsx"}),(0,h.jsxs)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"scw-swap-progress-view.tsx",children:[(0,h.jsx)(tP,{fromIcon:null==i?void 0:i.logo,toIcon:null==l?void 0:l.logo,showSuccessAnimation:a,"data-sentry-element":"FromToHeader","data-sentry-source-file":"scw-swap-progress-view.tsx"}),(0,h.jsxs)(tN.X,{size:"h4",textAlign:"center","data-sentry-element":"Heading","data-sentry-source-file":"scw-swap-progress-view.tsx",children:[e===g.SWAP_SUCCESS?"Swapped ":"Swapping "," ~",v," ",null==i?void 0:i.symbol," for ",S," ",null==l?void 0:l.symbol," on"," ",u.toUpperCase(),"."]})]})]})};class t3{constructor(){this.renderFiatLabel=(e,t,a)=>{let{id:n,symbol:o}=J.wI[e];return"SYMBOL_ID"===a?"".concat(o," ").concat(n):"".concat(n," - ").concat(t)}}}let t8=new t3,t4=e=>{let{className:t,icon:a,symbolFallback:n,topLeft:o,topRight:s,bottomLeft:r,bottomRight:i,isEnabled:l=!0,isSelected:d=!1,showCheckmarkOnSelected:c=!1,onItemSelect:u}=e,m=eh.c.m;return(0,h.jsx)("button",{disabled:!l,onClick:u,className:"trade-widget__a11y-button","data-sentry-component":"SelectListItem","data-sentry-source-file":"select-list-item.tsx",children:(0,h.jsx)(b.P,{gap:"100",direction:"row",alignItems:"center",wrap:"no-wrap",justifyContent:"space-between",className:w()(t,"select-list-item",{"select-list-item--selected":d,"select-list-item--enabled":l,"select-list-item--disabled":!l}),"data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:(0,h.jsxs)(b.P,{className:"select-list-item__container",style:{"--sya-asset-logo-size":m},gap:"75",direction:"row",wrap:"no-wrap",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:[(0,h.jsx)(ev.y,{symbolFallback:n,size:m,icon:a,"data-sentry-element":"TokenAvatar","data-sentry-source-file":"select-list-item.tsx"}),(0,h.jsxs)(b.P,{gap:"0",direction:"row",className:"select-list-item__contents","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:[(0,h.jsxs)(b.P,{gap:"25",direction:"column",className:"select-list-item__col","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:[o&&(0,h.jsx)(b.P,{gap:"0",className:"select-list-item__top-left ellipsis",children:o}),r&&(0,h.jsx)(b.P,{gap:"0",className:"select-list-item__bottom-left ellipsis",children:r})]}),(0,h.jsxs)(b.P,{gap:"25",direction:"column",className:"select-list-item__col","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:[(0,h.jsx)(b.P,{gap:"0",className:"ellipsis","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:s}),(0,h.jsx)(b.P,{gap:"0",className:"ellipsis","data-sentry-element":"StackLayout","data-sentry-source-file":"select-list-item.tsx",children:i})]})]}),c&&(0,h.jsx)("div",{className:"select-list-item__check",children:d&&(0,h.jsx)(ed.J,{icon:ei.T.CHECK})})]})})})},t6=()=>(0,h.jsx)(b.P,{gap:"100",direction:"row",wrap:"wrap",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"SelectListItemSkeleton","data-sentry-source-file":"select-list-item.tsx",children:(0,h.jsx)(eF.g,{lines:5,className:"select-list-item__skeleton","data-sentry-element":"SkeletonLoader","data-sentry-source-file":"select-list-item.tsx"})});var t7=a(63978);let t9=()=>{let[,e]=(0,x.KO)(O.n9),[t,a]=(0,x.KO)(O.aG),{fromFiat:n}=t,o=()=>{e({action:"SET_VIEW",payload:{view:t7.FE,debug:"navigateBack"}})},s=e=>{a({action:"SET_FROM_FIAT",payload:{fromFiat:e.id,debug:"handleCurrencySelected"}}),o()},r=e=>t8.renderFiatLabel(e.id,J.wI[e.id].name,"ID_NAME"),i=Object.values(J.wI).sort((e,t)=>e.name.localeCompare(t.name));return(0,h.jsxs)(b.P,{gap:"100",className:"select-from-fiat-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectFromFiatView","data-sentry-source-file":"select-from-fiat-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:o}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-from-fiat-view.tsx",children:"Select currency"}),(0,h.jsx)(b.P,{gap:"0","data-sentry-element":"StackLayout","data-sentry-source-file":"select-from-fiat-view.tsx",children:(0,h.jsx)(b.P,{gap:"50",className:"select-from-fiat-view__fiat-select","data-sentry-element":"StackLayout","data-sentry-source-file":"select-from-fiat-view.tsx",children:i.map(e=>(0,h.jsx)(t4,{icon:e.icon,symbolFallback:r(e),topLeft:r(e),isSelected:e.id===n,showCheckmarkOnSelected:!0,onItemSelect:()=>s(e)},e.id))})})]})};var ae=a(8639),at=a(42250);let aa=e=>{let{className:t,readOnly:a,children:n,gap:o}=e;return(0,h.jsx)(b.P,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:null!=o?o:"100",className:w()("input-group",{"input-group--readonly":a},t),"data-sentry-element":"StackLayout","data-sentry-component":"InputGroup","data-sentry-source-file":"input-group.tsx",children:n})};var an=a(11515),ao=a(21300);let as=e=>{let{searchQuery:t,network:a,includeBlacklisted:n=!1}=e,{list:o,status:s}=(0,an.h)(),r=(0,k.useMemo)(()=>ai(t,a,o),[t,a,o]),{data:i,isInitialLoading:l,isSuccess:d}=(0,ao.h)({queryParameters:{query:null!=t?t:"",filteroutBlacklisted:!n,network:null!=a?a:"all",status:"ALL"}},{retry:3}),c=(0,k.useMemo)(()=>t_.S.getCombinedTokens([r,null!=i?i:[]]),[r,i]),u=r.length>0||(null!=i?i:[]).length>0;return{isLoading:l,isEmpty:!(l||"loading"===s)&&!u&&d,tokens:c}},ar=(e,t)=>{var a,n,o;return(null==e?void 0:null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null==e?void 0:null===(n=e.symbol)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null==e?void 0:null===(o=e.address)||void 0===o?void 0:o.toLowerCase().includes(t.toLowerCase()))},ai=(e,t,a)=>a.filter(e=>e.network===t).filter(t=>ar(t,e)).sort((e,t)=>{var a,n;let o=Number(null!==(a=null==e?void 0:e.usdBalance)&&void 0!==a?a:0),s=Number(null!==(n=null==t?void 0:t.usdBalance)&&void 0!==n?n:0);return o<s?1:o>s||e.name<t.name?-1:e.name>t.name?1:e.symbol<t.symbol?-1:e.symbol>t.symbol?1:e.address<t.address?-1:e.address>t.address?1:0}),al=e=>{let{usdBalance:t,cryptoBalance:a}=e,n=t?"$".concat(eS.z.formatNumber(t,{fixedFractionDigits:2,useSuperscriptFormat:!0})):void 0,o=a?"".concat(eS.z.formatNumber(a,{fixedFractionDigits:2,useRangeFormat:!0,useSuperscriptFormat:!0})):void 0;return(0,h.jsxs)(b.P,{gap:"0",direction:"column",alignItems:"end",alt:"Your balance","data-sentry-element":"StackLayout","data-sentry-component":"TokenBalance","data-sentry-source-file":"token-balance.tsx",children:[(0,h.jsx)(ec.x,{fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"token-balance.tsx",children:n}),(0,h.jsx)(ec.x,{fontWeight:"regular",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"token-balance.tsx",children:o})]})},ad=e=>{let{network:t,selectedToken:a,onTokenSelect:n,className:o}=e,[s,r]=(0,k.useState)(""),{tokens:i,isLoading:l,isEmpty:d}=as({searchQuery:s,network:t,includeBlacklisted:!0});return(0,h.jsxs)(b.P,{gap:"100",className:w()(o),"data-sentry-element":"StackLayout","data-sentry-component":"SelectToken","data-sentry-source-file":"select-token.tsx",children:[(0,h.jsxs)(aa,{"data-sentry-element":"InputGroup","data-sentry-source-file":"select-token.tsx",children:[(0,h.jsx)(ed.J,{icon:ei.T.MAGNIFIER,className:"select-token__search-icon","data-sentry-element":"Icon","data-sentry-source-file":"select-token.tsx"}),(0,h.jsx)(at.U,{autoFocus:!0,value:s,placeholder:"Search by name or address",onChange:e=>{r(e.currentTarget.value)},className:"select-token__input","data-sentry-element":"InputField","data-sentry-source-file":"select-token.tsx"})]}),(0,h.jsxs)(b.P,{gap:"50",className:"select-token__list","data-sentry-element":"StackLayout","data-sentry-source-file":"select-token.tsx",children:[l&&(0,h.jsx)(t6,{}),!l&&(null==i?void 0:i.map((e,t)=>(0,h.jsx)(t4,{icon:e.logo,symbolFallback:e.symbol,topLeft:e.symbol,isSelected:q.a.areSameToken(e,a),onItemSelect:()=>n(e),topRight:"balance"in e&&(0,h.jsx)(al,{usdBalance:e.usdBalance,cryptoBalance:e.balance})},t))),d&&(0,h.jsx)(ae.x,{context:ae.FeedbackContext.NO_RESULT,namespace:"select-token"})]})]})};var ac=a(44379);let au=e=>{let{onClick:t,href:a,target:n,backgroundVideoUrl:o,className:s,children:r}=e,i=(0,h.jsxs)(b.P,{className:w()("card-container",{"card-container--clickable":t},s),onClick:t,gap:"25",justifyContent:"start",children:[r,o&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"card-container__bg-video-overlay"}),(0,h.jsx)("video",{className:"card-container__bg-video",autoPlay:!0,loop:!0,muted:!0,children:(0,h.jsx)("source",{src:o})})]})]});return a?(0,h.jsx)(ac.r,{href:a,target:n,children:i}):i},am=e=>{let{className:t,children:a}=e;return(0,h.jsx)("div",{className:w()("card-content",t),"data-sentry-component":"CardContent","data-sentry-source-file":"card-content.tsx",children:a})},ap=e=>{let{additionalNetworks:t}=e;return(0,h.jsx)(b.P,{gap:"0",className:"switch-network__multiple-chains-container",direction:"row","data-sentry-element":"StackLayout","data-sentry-component":"MultipleNetworksIcons","data-sentry-source-file":"switch-network.tsx",children:t.slice(0,3).map(e=>(0,h.jsx)(ed.J,{className:"switch-network__chain-icon--overlapped",icon:e.logo},e.id))})},ay=e=>{let{label:t,isSelected:a,onClick:n,children:o}=e;return(0,h.jsx)(au,{className:w()("switch-network__item",{"switch-network__item--selected":a}),onClick:n,"data-sentry-element":"unknown","data-sentry-component":"NetworkCard","data-sentry-source-file":"switch-network.tsx",children:(0,h.jsx)("button",{className:"trade-widget__a11y-button",children:(0,h.jsx)(am,{"data-sentry-element":"unknown","data-sentry-source-file":"switch-network.tsx",children:(0,h.jsxs)(b.P,{gap:"25",direction:"column",alignItems:"center",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-network.tsx",children:[(0,h.jsx)(b.P,{gap:"0",direction:"row",alignItems:"end",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-network.tsx",children:o}),(0,h.jsx)(b.P,{gap:"0",direction:"row","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-network.tsx",children:(0,h.jsx)(ec.x,{fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"switch-network.tsx",children:t})})]})})})})},a_=e=>{let{mode:t,selectedNetwork:a,onNetworkSelect:n,onMoreNetworksClick:o}=e,{networks:s}=(0,Z.u)(t),r=s.length>8?s.slice(0,7).length:s.slice(0,8).length,i=s.slice(0,r),l=s.slice(r,s.length),d=null!=l.find(e=>e.id===a),c=Math.min(Math.floor(8),Math.ceil(s.length)/4);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ec.x,{size:"m","data-sentry-element":"Text","data-sentry-source-file":"switch-network.tsx",children:"Select chain"}),(0,h.jsxs)(b.P,{gap:"25",direction:"row",wrap:"wrap",className:w()("switch-network__container",{"switch-network__container--1-row":1===c,"switch-network__container--2-rows":2===c}),"data-sentry-element":"StackLayout","data-sentry-source-file":"switch-network.tsx",children:[i.map(e=>(0,h.jsx)(ay,{label:e.label,isSelected:e.id===a,onClick:()=>n(e.id),children:(0,h.jsx)(ed.J,{className:w()("switch-network__chain-icon",{"switch-network__chain-icon--selected":e.id===a}),icon:e.logo})},e.chainId)),l.length>0&&(0,h.jsx)(ay,{label:"".concat(l.length,"+"),isSelected:d,onClick:o,children:(0,h.jsx)(ap,{additionalNetworks:l})})]})]})},aE=()=>{let[,e]=(0,x.KO)(O.n9),[t,a]=(0,x.KO)(O.rR),{fromToken:n,network:o}=t;return(0,h.jsxs)(b.P,{gap:"100",className:"select-from-token-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectFromTokenView","data-sentry-source-file":"select-from-token-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{e({action:"SET_VIEW",payload:{view:"SwapView",debug:"navigateBack"}}),(null==n?void 0:n.network)&&(null==n?void 0:n.network)!==o&&a({action:"SET_NETWORK",payload:{network:null==n?void 0:n.network,debug:"shouldRevertNetworkChange"}})}}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-from-token-view.tsx",children:"Swap from"}),(0,h.jsx)(a_,{mode:"swap",onMoreNetworksClick:()=>{e({action:"SET_VIEW",payload:{view:"SelectNetworkView",debug:"onMoreNetworksClick"}})},selectedNetwork:o,onNetworkSelect:e=>{a({action:"SET_NETWORK",payload:{network:e,debug:"onNetworkSelect"}})},"data-sentry-element":"SwitchNetwork","data-sentry-source-file":"select-from-token-view.tsx"}),(0,h.jsx)(ad,{className:"select-from-token-view__token-select",network:o,selectedToken:n,onTokenSelect:t=>{a({action:"SET_FROM_TOKEN",payload:{fromToken:t,debug:"SelectToken onTokenSelect"}}),a({action:"SET_NETWORK",payload:{network:t.network,debug:"SelectToken onTokenSelect"}}),e({action:"RESET_VIEW",payload:{debug:"on select token"}})},"data-sentry-element":"SelectToken","data-sentry-source-file":"select-from-token-view.tsx"})]})},af=e=>{let{mode:t,selectedNetworkId:a,onNetworkSelect:n,className:o}=e,{networks:s}=(0,Z.u)(t);return(0,h.jsx)(b.P,{gap:"100",className:w()(o),"data-sentry-element":"StackLayout","data-sentry-component":"SelectNetwork","data-sentry-source-file":"select-network.tsx",children:(0,h.jsx)(b.P,{gap:"50",className:"select-network__list","data-sentry-element":"StackLayout","data-sentry-source-file":"select-network.tsx",children:null==s?void 0:s.map(e=>(0,h.jsx)(t4,{icon:e.logo,symbolFallback:e.name,topLeft:e.name,showCheckmarkOnSelected:!0,isSelected:e.id===a,onItemSelect:()=>n(e)},e.chainId))})})},aT=()=>{let[,e]=(0,x.KO)(O.n9),[t,a]=(0,x.KO)(O.rR),{network:n}=t;return(0,h.jsxs)(b.P,{gap:"100",className:"select-network-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectNetworkView","data-sentry-source-file":"select-network-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{e({action:"SET_VIEW",payload:{view:"SelectFromTokenView",debug:"navigateBack"}})}}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-network-view.tsx",children:"Select chain"}),(0,h.jsx)(af,{mode:"swap",className:"select-network-view__network-select",selectedNetworkId:n,onNetworkSelect:e=>{a({action:"SET_NETWORK",payload:{network:e.id,debug:"SelectNetwork onNetworkSelect"}})},"data-sentry-element":"SelectNetwork","data-sentry-source-file":"select-network-view.tsx"})]})};var ag=a(11331),av=a(22790),ah=a(63909);let aS=e=>{let{quote:t}=e;if(!t.isValid){var a,n;let e=null!==(n=null==t?void 0:null===(a=t.quoteError)||void 0===a?void 0:a.userFriendlyErrorMessage)&&void 0!==n?n:"Please try again in a while";return(0,h.jsx)(ec.x,{fontWeight:"light",size:"m",children:e})}return t.isBestRate?(0,h.jsx)(ah.A,{size:"small",className:"quote-badge__chip quote-badge__chip-cheapest",children:"Cheapest"}):t.provider===tS.j.MERCURYO||t.provider===tS.j.MERCURYO_CAMPAIGN?(0,h.jsx)(ah.A,{size:"small",className:"quote-badge__chip quote-badge__chip-no-kyc",children:(0,h.jsxs)(ec.x,{fontWeight:"regular",children:["No KYC ",(0,h.jsx)("span",{className:"quote-badge__chip-no-kyc--gray",children:"up to"})," 700"]})}):void 0},aw=e=>{var t,a;let{quote:n,selectedQuote:o}=e;if(n===o)return;let s=Number(null!==(t=null==n?void 0:n.amountInCryptoAsset)&&void 0!==t?t:"0"),r=Number(null!==(a=null==o?void 0:o.amountInCryptoAsset)&&void 0!==a?a:"0");if(0===s||0===r)return;let i=(s-r)/((s+r)/2)*100,l=eS.z.formatNumber(i,{fixedFractionDigits:2,useSuperscriptFormat:!1});return(0,h.jsxs)(ec.x,{fontWeight:"light",size:"m",textAlign:"right",className:w()(i>0?"quote-price-diff__plus":"quote-price-diff__minus"),"data-sentry-element":"Text","data-sentry-component":"QuotePriceDiff","data-sentry-source-file":"quote-price-diff.tsx",children:[i>0&&"+",l,"%"]})},ax=e=>{let{quote:t,tokenSymbol:a}=e;return t.isValid?(0,h.jsxs)(ec.x,{textAlign:"right",children:[eS.z.formatNumber(t.amountInCryptoAsset,{maxFractionDigits:5,minFractionDigits:0,useRangeFormat:!0})," ",a]}):void 0},ak=e=>{let{tokenSymbol:t,quotes:a,selectedQuote:n,onQuoteSelect:o,isEnabled:s=!0}=e;return(0,h.jsx)(b.P,{gap:"0",className:"select-quote","data-sentry-element":"StackLayout","data-sentry-component":"SelectQuote","data-sentry-source-file":"select-quote.tsx",children:(0,h.jsx)(b.P,{gap:"50",className:"select-quote__list","data-sentry-element":"StackLayout","data-sentry-source-file":"select-quote.tsx",children:null==a?void 0:a.map((e,a)=>(0,h.jsx)(t4,{className:"select-quote__list-item",icon:eB.Q[e.provider].iconCircle,symbolFallback:eB.Q[e.provider].displayName,isSelected:e.id===(null==n?void 0:n.id),isEnabled:s&&e.isValid,onItemSelect:()=>o(e),topLeft:eB.Q[e.provider].displayName,bottomLeft:(0,h.jsx)(aS,{quote:e}),topRight:(0,h.jsx)(ax,{quote:e,tokenSymbol:t}),bottomRight:(0,h.jsx)(aw,{quote:e,selectedQuote:n})},a))})})},ab=e=>{let{label:t,isSelected:a,onClick:n,children:o}=e;return(0,h.jsx)(au,{className:w()("switch-payment__item",{"switch-payment__item--selected":a}),onClick:n,"data-sentry-element":"unknown","data-sentry-component":"PaymentCard","data-sentry-source-file":"switch-payment-type.tsx",children:(0,h.jsx)("button",{className:"trade-widget__a11y-button",children:(0,h.jsx)(am,{"data-sentry-element":"unknown","data-sentry-source-file":"switch-payment-type.tsx",children:(0,h.jsxs)(b.P,{gap:"25",direction:"column",alignItems:"center",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-payment-type.tsx",children:[(0,h.jsx)(b.P,{gap:"0",direction:"row",alignItems:"end",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-payment-type.tsx",children:o}),(0,h.jsx)(b.P,{gap:"0",direction:"row","data-sentry-element":"StackLayout","data-sentry-source-file":"switch-payment-type.tsx",children:(0,h.jsx)(ec.x,{fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"switch-payment-type.tsx",children:t})})]})})})})},aR=e=>{let{selectedPaymentType:t,onPaymentTypeSelect:a}=e;return(0,h.jsx)(b.P,{gap:"25",direction:"row",wrap:"wrap",className:"switch-payment__container","data-sentry-element":"StackLayout","data-sentry-component":"SwitchPaymentType","data-sentry-source-file":"switch-payment-type.tsx",children:Object.values(eM).map(e=>(0,h.jsx)(ab,{label:e.label,isSelected:e.id===t,onClick:()=>a(e.id),children:(0,h.jsx)(eK,{paymentMethod:e})},e.id))})},aN=()=>{var e,t,a;let[,n]=(0,x.KO)(O.n9),[o,s]=(0,x.KO)(O.aG),{buyQuotes:r,selectedBuyQuote:i,finalToken:l,network:d}=o,[c,u]=(0,k.useState)(null!==(a=null==i?void 0:i.paymentType)&&void 0!==a?a:eW.A.CARD_PAYMENT),m=(null!=r?r:[]).filter(e=>e.paymentType===c),p=()=>{n({action:"SET_VIEW",payload:{view:t7.FE,debug:"navigateBack"}})},y=e8.s.isTokenSupported({partialToken:l,isEmbedded:!1})?null==l?void 0:l.symbol:null===(t=H.Eu[null!=d?d:H.a9.id])||void 0===t?void 0:null===(e=t.nativeCurrency)||void 0===e?void 0:e.symbol,_=e8.s.isApplePayError(c);return(0,h.jsxs)(b.P,{gap:"100",className:"select-payment-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectPaymentView","data-sentry-source-file":"select-payment-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:p}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-payment-view.tsx",children:"Select payment"}),(0,h.jsx)(aR,{selectedPaymentType:c,onPaymentTypeSelect:u,"data-sentry-element":"SwitchPaymentType","data-sentry-source-file":"select-payment-view.tsx"}),_&&(0,h.jsx)(aA,{}),!_&&0===m.length&&(0,h.jsx)(aI,{}),(0,h.jsx)(ak,{isEnabled:!_,tokenSymbol:null!=y?y:"",quotes:m,selectedQuote:i,onQuoteSelect:e=>{s({action:"BUY_QUOTE_SELECTED",payload:{selectedBuyQuote:e,debug:"handleQuoteSelected"}}),p()},"data-sentry-element":"SelectQuote","data-sentry-source-file":"select-payment-view.tsx"})]})},aA=()=>(0,h.jsxs)(b.P,{className:"select-payment-view__not-supported",gap:"50",direction:"column",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"ApplePayNotSupported","data-sentry-source-file":"select-payment-view.tsx",children:[(0,h.jsx)(ec.x,{textAlign:"center",fontWeight:"bold",size:"l","data-sentry-element":"Text","data-sentry-source-file":"select-payment-view.tsx",children:"Bummer! This payment method is not supported on this browser."}),(0,h.jsx)(ec.x,{textAlign:"center",fontWeight:"regular",size:"m","data-sentry-element":"Text","data-sentry-source-file":"select-payment-view.tsx",children:"If you want to use Apple Pay please try on Safari instead."})]}),aI=()=>{var e,t,a;return(0,h.jsxs)(b.P,{className:"select-payment-view__no-quotes",gap:"50",direction:"column",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"NoQuotes","data-sentry-source-file":"select-payment-view.tsx",children:[(0,h.jsx)("div",{className:"select-payment-view__no-quotes-icon",children:(0,h.jsx)(ed.J,{icon:ei.T.MONEY_SEARCH,"data-sentry-element":"Icon","data-sentry-source-file":"select-payment-view.tsx"})}),(0,h.jsx)(ec.x,{textAlign:"center",fontWeight:"bold",size:"l","data-sentry-element":"Text","data-sentry-source-file":"select-payment-view.tsx",children:"We are unable to show quotes for this payment method"}),(0,h.jsxs)(ec.x,{textAlign:"center",fontWeight:"light",size:"m","data-sentry-element":"Text","data-sentry-source-file":"select-payment-view.tsx",children:["Try again after you switch payment method and if ","it's"," not fixed please"," ",(0,h.jsx)(ag.default,{href:null!==(a=null===(t=av.zy.find(e=>"company"==e.id))||void 0===t?void 0:null===(e=t.links.find(e=>"contact-us"==e.id))||void 0===e?void 0:e.href)&&void 0!==a?a:"",target:"_blank","data-sentry-element":"Link","data-sentry-source-file":"select-payment-view.tsx",children:"let us know"})]})]})},aP=()=>{let[,e]=(0,x.KO)(O.n9),[t,a]=(0,x.KO)(O.rR),{toToken:n,network:o}=t,{logo:s,label:r}=H.Eu[o];return(0,h.jsxs)(b.P,{gap:"100",className:"select-to-token-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectToTokenView","data-sentry-source-file":"select-to-token-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{e({action:"SET_VIEW",payload:{view:"SwapView",debug:"navigateBack"}})}}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-to-token-view.tsx",children:(0,h.jsxs)(b.P,{direction:"column",gap:"0",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"select-to-token-view.tsx",children:["Swap to",(0,h.jsxs)(b.P,{direction:"row",alignItems:"center",justifyContent:"center",wrap:"no-wrap",gap:"25","data-sentry-element":"StackLayout","data-sentry-source-file":"select-to-token-view.tsx",children:[(0,h.jsx)(ev.y,{symbolFallback:r,icon:s,size:eh.c.xxs,"data-sentry-element":"TokenAvatar","data-sentry-source-file":"select-to-token-view.tsx"}),(0,h.jsx)(ec.x,{size:"s",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"select-to-token-view.tsx",children:r})]})]})}),(0,h.jsx)(ad,{className:"select-to-token-view__token-select",network:o,selectedToken:n,onTokenSelect:t=>{a({action:"SET_TO_TOKEN",payload:{toToken:t,debug:"handleTokenSelect"}}),e({action:"RESET_VIEW",payload:{debug:"handleTokenSelect"}})},"data-sentry-element":"SelectToken","data-sentry-source-file":"select-to-token-view.tsx"})]})},aO=()=>{let[,e]=(0,x.KO)(O.n9),[t,a]=(0,x.KO)(O.aG),{finalToken:n,network:o}=t;return(0,h.jsxs)(b.P,{gap:"100",className:"select-token-to-buy-view","data-sentry-element":"StackLayout","data-sentry-component":"SelectTokenToBuyView","data-sentry-source-file":"select-token-to-buy-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{e({action:"SET_VIEW",payload:{view:t7.FE,debug:"SelectTokenToBuyView navigateBack"}})}}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"select-token-to-buy-view.tsx",children:"Select token to buy"}),(0,h.jsx)(a_,{mode:"buy",onMoreNetworksClick:()=>{e({action:"SET_VIEW",payload:{view:"SelectNetworkView",debug:"SwitchNetwork onMoreNetworksClick"}})},selectedNetwork:o,onNetworkSelect:e=>{a({action:"SET_NETWORK",payload:{network:e,debug:"SwitchNetwork onNetworkSelect"}})},"data-sentry-element":"SwitchNetwork","data-sentry-source-file":"select-token-to-buy-view.tsx"}),(0,h.jsx)(ad,{className:"select-token-to-buy-view__token-select",network:o,selectedToken:n,onTokenSelect:t=>{a({action:"TO_TOKEN_CHANGED",payload:{toToken:t,debug:"SelectToken onTokenSelect"}}),e({action:"RESET_VIEW",payload:{debug:"on TO_TOKEN_CHANGED"}})},"data-sentry-element":"SelectToken","data-sentry-source-file":"select-token-to-buy-view.tsx"})]})};var aC=a(11843);let aj={[eT.f.LOW]:{networkSpeed:eT.f.LOW,label:"Slow",numberOfSeconds:"90"},[eT.f.MEDIUM]:{networkSpeed:eT.f.MEDIUM,label:"Normal",numberOfSeconds:"60"},[eT.f.HIGH]:{networkSpeed:eT.f.HIGH,label:"Fast",numberOfSeconds:"30"}},aL=e=>{let{currentGasPriceLevel:t,onSpeedChange:a,className:n,label:o}=e,s=Object.keys(aj),r=s.indexOf(t),i=aj[t],l=i.numberOfSeconds,d=i.label,[c,u]=(0,k.useState)(!1),[m,p]=(0,k.useState)(!1),[y,_]=(0,k.useState)(l),[E,f]=(0,k.useState)("middle"),T=(0,k.useRef)(l);(0,k.useEffect)(()=>{l!==T.current&&(_(T.current),u(!0),p(!1),T.current=l)},[l]);let g=()=>{u(!1),p(!0)};return(0,k.useEffect)(()=>{let e=Number(l);f(e>60?"top":e>30?"middle":"bottom")},[l]),(0,h.jsx)("button",{className:w()("network-speed",n),onClick:()=>{let e=r===s.length-1?0:r+1,t=s[e];a(eT.f[t])},"data-sentry-component":"NetworkSpeedButton","data-sentry-source-file":"network-speed-button.tsx",children:(0,h.jsxs)(b.P,{gap:"0",direction:"row",justifyContent:"space-between",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"network-speed-button.tsx",children:[(0,h.jsx)(ec.x,{size:"m",className:"network-speed-button__label",textAlign:"left","data-sentry-element":"Text","data-sentry-source-file":"network-speed-button.tsx",children:null!=o?o:d}),(0,h.jsxs)(b.P,{gap:"50",direction:"row","data-sentry-element":"StackLayout","data-sentry-source-file":"network-speed-button.tsx",children:[(0,h.jsxs)(b.P,{gap:"0",className:"network-speed__text-container","data-sentry-element":"StackLayout","data-sentry-source-file":"network-speed-button.tsx",children:[(0,h.jsxs)(ec.x,{size:"l",fontWeight:"bold",color:"white",className:w()("network-speed__text",{"network-speed__text--animate-out":c,"network-speed__text--hidden":m}),onAnimationEnd:g,"data-sentry-element":"Text","data-sentry-source-file":"network-speed-button.tsx",children:["~",y,"s"]}),(0,h.jsxs)(ec.x,{size:"l",fontWeight:"bold",color:"white",className:w()("network-speed__text",{"network-speed__text--animate-in":c}),onAnimationEnd:g,"data-sentry-element":"Text","data-sentry-source-file":"network-speed-button.tsx",children:["~",l,"s"]})]}),(0,h.jsxs)(b.P,{gap:"25",direction:"column",justifyContent:"space-between",alignItems:"center",className:"network-speed__dots-container","data-sentry-element":"StackLayout","data-sentry-source-file":"network-speed-button.tsx",children:[s.map(e=>(0,h.jsx)("div",{className:"network-speed__unselected-dot"},e)),(0,h.jsx)("div",{className:"network-speed__dot network-speed__selected-dot network-speed__dot--sliding network-speed__dot--".concat(E)})]})]})]})})},aD=e=>{let{question:t,answer:a,className:n}=e;return(0,h.jsx)(eg.U.Item,{header:(0,h.jsx)(ec.x,{size:"m",color:"muted",children:t}),className:"faq-section__item ".concat(n),"data-sentry-element":"unknown","data-sentry-component":"SettingsFAQitem","data-sentry-source-file":"settings-faq-item.tsx",children:(0,h.jsx)(ec.x,{size:"m",color:"muted",fontWeight:"regular",component:"span",className:"settings-faq-item__answer","data-sentry-element":"Text","data-sentry-source-file":"settings-faq-item.tsx",children:(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})})},aU=e=>{let{slippage:t,customSlippage:a,onCustomSlippageChange:n,onCustomSlippageReset:o}=e;return(0,h.jsxs)(b.P,{gap:"75",direction:"row","data-sentry-element":"StackLayout","data-sentry-component":"SlippageInput","data-sentry-source-file":"slippage-input.tsx",children:[(0,h.jsx)(eA.z,{variant:"text",size:"s",className:"reset-button",onClick:o,"data-sentry-element":"Button","data-sentry-source-file":"slippage-input.tsx",children:a&&"Reset"}),(0,h.jsxs)(aa,{className:"new-slippage-field",gap:"25","data-sentry-element":"InputGroup","data-sentry-source-file":"slippage-input.tsx",children:[(0,h.jsx)(ec.x,{size:"m",color:"muted","data-sentry-element":"Text","data-sentry-source-file":"slippage-input.tsx",children:void 0!==a?"Custom":"Auto"}),(0,h.jsx)(at.M,{className:"new-slippage-field__input",radix:".",mapToRadix:[","],thousandsSeparator:",",scale:1,mask:Number,unmask:!0,min:0,placeholder:"0",value:null!=a?a:t,inputMode:"decimal",autoComplete:"off",max:100,onBlur:e=>{""===e.target.value&&o(),function(e){if(e===t){o();return}n(e)}(e.target.value)},"data-sentry-element":"InputFieldMasked","data-sentry-source-file":"slippage-input.tsx"}),(0,h.jsx)(ec.x,{color:"white","data-sentry-element":"Text","data-sentry-source-file":"slippage-input.tsx",children:"%"})]})]})},aF=[{question:"What is Flooz?",answer:"Flooz is a blockchain analytics platform that DeFi users to discover opportunities, perform due diligence, trade any digital asset, and track portfolios with real-time data and alerts."},{question:"How do I connect my wallet?",answer:"Flooz is non-custodial, ensuring maximum trust for you and Flooz. Flooz does not, nor does it intend to have any access to user funds. Connect to over 300 Web3 Wallets, from Metamask, Rainbow to WalletConnect v2, including hardware wallets such as Ledger.  <br/><br/> If you don't have a wallet, simply create a secure web wallet with Flooz. Sign in using your email or via Google, Apple, Twitter/ X or Discord. After signing in, Flooz creates a non-custodial wallet for you. Unlike custodial wallets, where a third party holds your keys, a non-custodial approach ensures that only you can access your funds.<br/><br/> Backup is vital! Your seedphrase is the only way to recover your wallet if you lose access. Without it, your assets could be irretrievably lost. Well ask you to securely backup your seedphrase once the wallet is set up. At any moment in time, you can securely access your private key and seedphrases."},{question:"What chains are supported?",answer:"Flooz is currently available for Ethereum, the Binance Smart Chain, and Polygon and Layer 2 blockchains such as Arbitrum, Avalanche (Avax), Optimism, ZkSynch and Base with many more blockchains following in the coming months."},{question:"Can I buy tokens with card too?",answer:'Absolutely, you can buy any token in any currency with Flooz! Weve partnered with renowned on-ramp providers in Web3, including our partners at MoonPay, Transak, Ramp Networks, Mercuryo and others. Flooz seamlessly aggregates all on-ramp providers, compares quotes for certain routes in real-time and then routes the user to the offer, all whilst providing a smooth user experience and optimizing for the local jurisdiction, AML and KYC processes. <br/><br/> Through our aggregation of fiat on-ramp providers, you can provide FIAT to crypto services (on and off-ramping) in over 190 countries whilst reducing development time by 95%. We support all popular payment methods, such as Debit and Credit Card, Apple Pay, Google Pay, Samsung Pay, Mobile Money for African users and Bank Transfers.<br/><br/> Learn more <a href="https://docs.flooz.xyz/token-teams/onboard/flooz-checkout" target="_blank">here</a>'},{question:"Why is my wallet not displaying my tokens?",answer:'Flooz is enabling you to buy and swap any token on Ethereum, the Binance Smart Chain, and Polygon and Layer 2 blockchains such as Arbitrum, Avalanche (Avax), Optimism, ZkSynch and Base with many more blockchains following in the coming months.</br><br/> However, tracking your portfolio currently only works on Ethereum, the Binance Smart Chain and Polygon. Your assets are always safe and you can use a block explorer to always see your balance and your token holdings.</br><br/> <b>What is a Blockchain Explorer?</b></br>A blockchain explorer is a tool that allows you to view and analyze the contents of a blockchain. It works like a search engine for various types of blockchain transactions, blocks, and addresses.</br><br/> <b>How Can I Use a Blockchain Explorer to Track My Wallet?</b> </br> You can use a blockchain explorer to track your wallet by entering your wallet\'s public address. This lets you see all transactions associated with that address, including incoming and outgoing funds, the balance, and transaction statuses. <br/><br/>Links to block explorers for chains that were not actively tracking: <br/>- Arbitrum: <a href="https://arbiscan.io/" target="_blank">arbiscan.io</a> <br/> - Avalanche: <a href="https://snowtrace.io/" target="_blank">snowtrace.io</a><br/> - Optimism: <a href="https://optimistic.etherscan.io/" target="_blank">optimistic.etherscan.io</a><br/> - ZkSync: <a href="https://explorer.zksync.io/" target="_blank">explorer.zksync.io</a> <br/> - Base: <a href="https://basescan.org/" target="_blank">basescan.org</a><br/><br/> <b>Are Blockchain Explorers Free to Use?</b></br> Yes, blockchain explorers are generally free to use. They are open to the public and provide a transparent view of all the transactions on the blockchain.</br><br/>Remember, blockchain explorers are a powerful tool for ensuring transparency and tracking in the world of cryptocurrencies.'},{question:"What is Slippage?",answer:"Slippage in token swapping refers to the difference between the expected and executed trade prices due to rapid market changes during the transaction period. When swapping tokens, it can lead to receiving a different amount of the target token than initially anticipated, especially in markets with low liquidity or high volatility. Most swapping platforms allow users to control slippage by setting a tolerance percentage, indicating the maximum acceptable price movement. However, setting a very low tolerance might protect against price fluctuations but increase the risk of transaction failure in volatile markets. High slippage can indicate potential risks like low liquidity or extreme market volatility, but in some fast-moving markets, accepting higher slippage might be necessary for prompt transactions. To minimize slippage, users can trade during less volatile periods, choose tokens with higher liquidity, or adjust their slippage tolerance on platforms like Flooz."},{question:"What is Transaction speed?",answer:"<b>What Are Gas Fees in Cryptocurrency Transactions?</b><br/> Gas fees are like a service charge for making transactions on a blockchain network. Just like you pay a fee to send a package via a courier, you pay gas fees to have your cryptocurrency transaction processed and validated by the network.<br/><br/><b>How Are Gas Fees Calculated?</b><br/> Gas fees are determined by two main factors: the complexity of the transaction and the network's congestion level. Complex transactions require more computational work and thus higher fees. Also, when the network is busy, fees go up, similar to surge pricing in ride-sharing services. <br/><br/> <b>What is Gwei and How Does it Relate to Gas Fees?</b><br/> Gwei is a small unit of Ethereum, like cents to a dollar. Gas fees on the Ethereum blockchain are calculated in gwei. It's the 'currency' used to pay for the computational effort needed to execute transactions.<br/><br/> <b>How Do Gas Fees Affect the Speed of My Transaction?</b><br/>The higher the gas fee you're willing to pay, the faster your transaction is likely to be processed. It's like being in a cafe: if you tip the barista well (high gas fee), they might make your coffee first (faster transaction).<br/><br/> <b>Can I Choose Not to Pay High Gas Fees?</b><br/> Yes, you can set lower gas fees, but this means your transaction might take longer to process, especially during busy times when the network is congested (= busy).<br/><br/> <b>Are Gas Fees the Same Across All Blockchain Networks?</b><br/> No, different blockchain networks have their own ways of calculating and charging gas fees. Some might be cheaper or more expensive than others."}],aW=()=>{let{selectedAccount:e,disconnect:t,setShowAuthFlow:a}=(0,A.$)(),[n,o]=(0,x.KO)(O.n9),{isEmbedded:s}=n,[r,i]=(0,x.KO)(O.rR),{customSlippage:l,defaultSlippage:d,gasPriceLevel:c}=r,u=Number(null!=l?l:d)<Number(d),m=Number(null!=l?l:0)>30;return(0,h.jsxs)(b.P,{gap:"100","data-sentry-element":"StackLayout","data-sentry-component":"SettingsView","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{o({action:"SET_VIEW",payload:{view:"swap"===n.mode?"SwapView":"BuyView",debug:"SettingsView navigateBack"}})}}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"settings-view.tsx",children:(0,h.jsx)(ec.x,{size:"l","data-sentry-element":"Text","data-sentry-source-file":"settings-view.tsx",children:s?"Wallet & Settings":"Settings"})}),s&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ec.x,{size:"m",children:"Wallet"}),(0,h.jsxs)(b.P,{gap:"50",direction:"row",justifyContent:"space-between",children:[e&&(0,h.jsxs)(b.P,{gap:"75",direction:"column",className:"settings-view__account-wrapper",children:[(0,h.jsxs)(b.P,{gap:"50",direction:"row",wrap:"no-wrap",className:"settings-view__account-info",children:[(0,h.jsx)(ec.x,{size:"xl",className:"settings-view__account",children:eG.i.shortenAddress(e,6)}),(0,h.jsx)(eY.CopyValue,{copyValue:e,size:"s"})]}),(0,h.jsxs)(b.P,{gap:"50",direction:"row",wrap:"no-wrap",children:[(0,h.jsx)(eI.ButtonLink,{variant:"primary",size:"m",href:"https://www.flooz.xyz",target:"_blank",className:"settings-view__wallet-button",children:"Check flooz.xyz"}),(0,h.jsx)(eA.z,{variant:"secondary",size:"m",onClick:()=>t(),className:"settings-view__wallet-button",children:"Disconnect"})]})]}),!e&&(0,h.jsx)(eA.z,{variant:"primary",size:"xl",onClick:()=>a(!0),className:"settings-view__connect",children:"Connect"})]})]}),(0,h.jsx)(ec.x,{size:"m","data-sentry-element":"Text","data-sentry-source-file":"settings-view.tsx",children:"Swap"}),(0,h.jsxs)(eD,{"data-sentry-element":"GrayBorderWrapper","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsxs)(b.P,{gap:"50",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsx)(aC.b,{containerClassName:"tooltip-label",primaryInfo:"Transaction speed in crypto refers to how quickly a cryptocurrency transaction is processed and confirmed on the blockchain, influenced by network congestion.",label:"Transaction speed",className:"tooltip-label",labelSize:"m",labelFontWeight:"bold","data-sentry-element":"InfoTooltip","data-sentry-source-file":"settings-view.tsx"}),(0,h.jsx)(aL,{currentGasPriceLevel:c,onSpeedChange:e=>{i({action:"SET_NETWORK_SPEED",payload:{gasPriceLevel:e,debug:"onNetworkSpeedChange"}})},"data-sentry-element":"NetworkSpeedButton","data-sentry-source-file":"settings-view.tsx"})]}),(0,h.jsxs)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsxs)(b.P,{gap:"50",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsx)(aC.b,{containerClassName:"tooltip-label",primaryInfo:"Slippage in crypto is the difference between the expected and actual price when executing a trade, often due to market volatility or low liquidity.",label:"Slippage",className:"tooltip-label",labelSize:"m",labelFontWeight:"bold","data-sentry-element":"InfoTooltip","data-sentry-source-file":"settings-view.tsx"}),(0,h.jsx)(aU,{slippage:d,customSlippage:l,onCustomSlippageChange:e=>{e?i({action:"SET_CUSTOM_SLIPPAGE",payload:{customSlippage:e,debug:"onSlippageChange"}}):i({action:"REMOVE_CUSTOM_SLIPPAGE",payload:{debug:"onSlippageChange"}})},onCustomSlippageReset:()=>{i({action:"REMOVE_CUSTOM_SLIPPAGE",payload:{debug:"onSlippageReset"}})},"data-sentry-element":"SlippageInput","data-sentry-source-file":"settings-view.tsx"})]}),m&&(0,h.jsx)(ec.x,{size:"s",color:"muted",fontWeight:"regular",children:"Your current slippage is too high, change it to avoid any loss."}),u&&(0,h.jsx)(ec.x,{size:"s",color:"muted",fontWeight:"regular",children:"Your current slippage is too low, transaction might fail."})]})]}),(0,h.jsxs)(b.P,{gap:"100",className:"settings-view__faq-section","data-sentry-element":"StackLayout","data-sentry-source-file":"settings-view.tsx",children:[(0,h.jsx)(ec.x,{size:"m","data-sentry-element":"Text","data-sentry-source-file":"settings-view.tsx",children:"FAQs"}),(0,h.jsx)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"settings-view.tsx",children:aF.map(e=>(0,h.jsx)(aD,{question:e.question,answer:e.answer,className:"settings-faq-item__child"},e.question))})]})]})},aM=e=>{let{}=e,{isZeroDevAccount:t}=(0,A.$)(),[,a]=(0,x.KO)(O.n9),[n,o]=(0,x.KO)(O.rR),{network:s,fetchQuoteFor:r,fromToken:i,toToken:l,fromTokenAmount:d,toTokenAmount:c,defaultSlippage:u,customSlippage:m}=n,{data:p}=tg({values:(0,tv.Kf)({network:s,fromToken:i,toToken:l,fromTokenAmount:d,toTokenAmount:c,slippage:void 0!==m?Number(m):Number(u),gasPriceLevel:eT.f.LOW}),getFromAmount:"toToken"===r});(0,k.useEffect)(()=>{p&&(o({action:"SET_QUOTE_FOR_TO_TOKEN",payload:{toTokenAmount:tx.s.isValidPositiveNumber(d)?q.a.fromBaseUnit(null==p?void 0:p.amount,null==l?void 0:l.decimals):"",quote:p,debug:"SwapDirectTokenView useEffect"}}),a({action:"SET_VIEW",payload:{view:t?"ScwSwapProgressView":"SwapProgressView",debug:t?"Set view to ScwSwapDirectTokenView":"Set view to SwapDirectTokenView"}}))},[o,d,t,p,null==l?void 0:l.decimals,a]);let[y]=(0,k.useState)(T.USER_RETURNED),{buy:_,process:E,swap:f}=tM[y],g=[{status:_.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(_.statusKey))},{status:E.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(E.statusKey))},{status:f.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(f.statusKey))}];return(0,h.jsxs)(b.P,{className:"swap-direct-token-view",gap:"200",direction:"column",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"SwapDirectTokenView","data-sentry-source-file":"swap-direct-token-view.tsx",children:[(0,h.jsx)(tj,{statusElements:g,onIconClick:()=>{a({action:"RESET_VIEW",payload:{debug:"swap direct token tx header"}})},shouldRenderStatusElements:!0,"data-sentry-element":"TxProgressHeader","data-sentry-source-file":"swap-direct-token-view.tsx"}),(0,h.jsxs)(b.P,{gap:"100",className:"swap-direct-token-view__content",direction:"column",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-direct-token-view.tsx",children:[(0,h.jsx)(b.P,{className:"swap-direct-token-view__icons",gap:"0",direction:"row",alignItems:"center",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-direct-token-view.tsx",children:(0,h.jsx)(ed.J,{icon:ei.T.WALLET_FLOOZ,"data-sentry-element":"Icon","data-sentry-source-file":"swap-direct-token-view.tsx"})}),(0,h.jsx)(ec.x,{fontWeight:"bold",size:"l",color:"muted",textAlign:"center","data-sentry-element":"Text","data-sentry-source-file":"swap-direct-token-view.tsx",children:"Creating swap transaction..."}),(0,h.jsx)(tb,{status:"loading","data-sentry-element":"TxProgressHeaderStatusBar","data-sentry-source-file":"swap-direct-token-view.tsx"})]})]})},aB={UNKNOWN:{title:"Sorry, your transaction failed!",description:"",buttonLabel:"Try swapping again"},TOKEN_APPROVAL_TOO_LOW:{title:"Sorry, the trade was rejected because you approved a lower amount!",description:"You've approved a lower number of tokens compared to what you are trying to swap. Please try again and ensure the number of tokens you're swapping matches what you approve.",buttonLabel:"Re-approve"},EXPIRED:{title:"Sorry, the trade was rejected because you havent signed in time!",description:"Please try again and keep an eye on your wallet; you'll need to approve the trade for it to go through.",buttonLabel:"Retry"},TRANSACTION_REJECTED:{title:"Sorry, the trade was rejected because you didnt sign it!",description:"Please try again and keep an eye on your wallet; you'll need to sign the trade for it to go through.",buttonLabel:"Retry"},SLIPPAGE_TOO_LOW:{title:"Sorry, the trade was rejected because your slippage was too low.",description:'Please choose a higher value in the "Slippage" field.',buttonLabel:"Update slippage"},TRANSACTION_UNDERPRICED:{title:"Gas limit changed",description:'This occurred because the gas price was manually changed. Please use the "Transaction speed" field for speeding up transactions.',buttonLabel:"Update transaction speed"},PRICE_IMPACT_TOO_HIGH:{title:"Price impact too high",description:"This is caused by low liquidity. Try trading again but with a smaller amount, or increase the slippage tolerance via Settings",buttonLabel:"Start over"},INSUFFICIENT_OUTPUT:{title:"Wrong slippage tolerance",description:"When your slippage tolerance is too low, your order may fail to execute because the price movement is too high. Try setting a higher slippage.",buttonLabel:"Update slippage"},TRANSFER_FROM_FAILED:{title:"Cannot transfer tokens",description:"There could be a problem with the token you are swapping.",buttonLabel:"Start over"},TRANSFER_FAILED:{title:"More tokens needed",description:"Make sure you have enough tokens in your wallet. If you want to sell the maximum possible, try trading a lower amount.",buttonLabel:"Start over"},INSUFFICIENT_USER_BALANCE:{title:"Fund your wallet",description:"You need to add more {{nativeTokenSymbol}} to your wallet for this trade to go through. This is needed to pay the blockchains gas fees. Once you've added more {{nativeTokenSymbol}}, please try again.",buttonLabel:"Start over"},PANCAKE_K_ERROR:{title:"Exchange error",description:"We routed your trade to a decentralised exchange, however they have rejected it. Please increase the slippage on your trade and try again.",buttonLabel:"Start over"},TRANSACTION_REVERTED:{title:"Blockchain error",description:"We sent your transaction to the blockchain but it failed. This could be due to several reasons such as a large price movement, or not enough liquidity. Please try to place your trade again.",buttonLabel:"Start over"},SELF_REFERRAL:{title:"Self referral",description:"You cannot swap tokens using your own referral link. Please use another wallet and try again.",buttonLabel:"Start over"},INSUFFICIENT_ASSET_LIQUIDITY:{title:"This token has a low liquidity",description:"There are insufficient funds in the {{toTokenName}} liquidity pool to complete this trade.",buttonLabel:"Start over"},COULD_NOT_ESTIMATE_GAS:{title:"Something went wrong",description:"We could not estimate the gas price, please try again.",buttonLabel:"Start over"},SCW_SWAP_ERROR:{title:"Something went wrong",description:"We could not complete the swap, please try again.",buttonLabel:"Start over"},QUOTE_ERROR:{title:"",description:"",buttonLabel:""},CREATE_SWAP_ERROR:{title:"",description:"",buttonLabel:""}},aK=()=>{var e,t,a,n,o,s;let[,r]=(0,x.KO)(O.n9),[i,l]=(0,x.KO)(O.rR),{error:d,network:c,toToken:u}=i,m={nativeTokenSymbol:null===(t=H.Eu[c])||void 0===t?void 0:null===(e=t.nativeCurrency)||void 0===e?void 0:e.symbol,toTokenName:null!==(a=null==u?void 0:u.name)&&void 0!==a?a:"To token"},p={title:tA(aB[null!==(n=null==d?void 0:d.id)&&void 0!==n?n:e_.i.UNKNOWN].title,m),message:tA(aB[null!==(o=null==d?void 0:d.id)&&void 0!==o?o:e_.i.UNKNOWN].description,m)},y=()=>{l({action:"RESET_ERROR",payload:{debug:"showSwapView"}}),r({action:"SET_VIEW",payload:{view:"SwapView",debug:"showSwapView"}})},_=()=>{l({action:"RESET_ERROR",payload:{debug:"showSettingsView"}}),r({action:"SET_VIEW",payload:{view:"settings",debug:"showSettingsView"}})},E=()=>{l({action:"RESET_ERROR",payload:{debug:"showProgressView"}}),r({action:"SET_VIEW",payload:{view:"SwapProgressView",debug:"showProgressView"}})},f=(null==d?void 0:d.id)?aB[null!==(s=null==d?void 0:d.id)&&void 0!==s?s:e_.i.UNKNOWN].buttonLabel:aB[e_.i.UNKNOWN].buttonLabel,T=[e_.i.TRANSACTION_REJECTED,e_.i.SLIPPAGE_TOO_LOW].find(e=>e===(null==d?void 0:d.id));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{r({action:"SET_VIEW",payload:{view:"SwapView",debug:"SwapErrorView navigateBack"}})},icon:ei.T.CLOSE}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"swap-error-view.tsx"}),(0,h.jsxs)(b.P,{gap:"0",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-error-view.tsx",children:[(0,h.jsx)(ed.J,{icon:ei.T.SWAP_ERROR,className:"swap-error-view__icon","data-sentry-element":"Icon","data-sentry-source-file":"swap-error-view.tsx"}),T&&(0,h.jsx)(ec.x,{size:"m",color:"muted",fontWeight:"light",textAlign:"center",className:"swap-error-view__pill",children:"You havent been charged!"}),(0,h.jsx)(tN.X,{size:"h4",textAlign:"center",className:"swap-error-view__title","data-sentry-element":"Heading","data-sentry-source-file":"swap-error-view.tsx",children:null==p?void 0:p.title}),(null==p?void 0:p.message)&&(0,h.jsx)(ec.x,{size:"m",color:"muted",fontWeight:"light",textAlign:"center",className:"swap-error-view__message",children:null==p?void 0:p.message}),(0,h.jsx)(eA.z,{size:"l",onClick:()=>{switch(null==d?void 0:d.id){case e_.i.UNKNOWN:y();break;case e_.i.TOKEN_APPROVAL_TOO_LOW:case e_.i.EXPIRED:case e_.i.TRANSACTION_REJECTED:E();break;case e_.i.SLIPPAGE_TOO_LOW:case e_.i.TRANSACTION_UNDERPRICED:_();break;case e_.i.PRICE_IMPACT_TOO_HIGH:y();break;case e_.i.INSUFFICIENT_OUTPUT:_();break;case e_.i.TRANSFER_FROM_FAILED:case e_.i.TRANSFER_FAILED:case e_.i.INSUFFICIENT_USER_BALANCE:case e_.i.PANCAKE_K_ERROR:case e_.i.TRANSACTION_REVERTED:case e_.i.SELF_REFERRAL:case e_.i.INSUFFICIENT_ASSET_LIQUIDITY:case e_.i.COULD_NOT_ESTIMATE_GAS:default:y()}},className:"swap-error-view__button","data-sentry-element":"Button","data-sentry-source-file":"swap-error-view.tsx",children:(0,h.jsx)(ec.x,{size:"l",color:"inherit","data-sentry-element":"Text","data-sentry-source-file":"swap-error-view.tsx",children:f})}),(null==d?void 0:d.id)===e_.i.UNKNOWN&&(0,h.jsxs)(b.P,{direction:"column",gap:"75",className:"swap-error-view__faqs",children:[(0,h.jsx)(ec.x,{size:"m",children:"Most common reasons:"}),(0,h.jsx)(eg.U.Container,{expand:"none",children:[{question:"Cannot transfer token",answer:"There could a problem with the  token you are swapping and can be due to various reasons. Verify the accuracy of the contract address, and be aware of any transfer restrictions. Adjust gas settings if applicable. Stay informed about updates to the token."},{question:"Exchange error",answer:"We routed your trade to a decentralised exchange, however, they have rejected it. Please increase the slippage on your trade and try again."},{question:"Blockchain error",answer:"We sent your transaction to the blockchain but it failed. This could be due to several reasons such as a large price movement, or not enough liquidity. Please try to place your trade again."},{question:"Gas limit changed",answer:"This occurred because the gas price was manually changed. Please try again by increasing your transaction speed."}].map((e,t)=>(0,h.jsx)(eg.U.Item,{header:(0,h.jsx)(ec.x,{size:"m",color:"muted",children:e.question}),className:"swap-error-view__faqs-item",children:(0,h.jsx)(ec.x,{size:"s",color:"muted",fontWeight:"regular",component:"span",className:"swap-error-view__faqs-answer",children:e.answer})},t))})]})]})]})};var aV=a(84552),aY=a(16222);let aG=(e,t)=>(0,B.useQuery)(Y.a.transaction(e),()=>V.W.getTransaction(e),t);var az=a(55135),aH=a(39439),aQ=a(19174),aq=a(22524),aX=a(84721),aJ=a(80381),aZ=a(4897),a$=a(5490);let a0=()=>{let{isSolanaWallet:e}=(0,A.$)(),{txHash:t,isSuccess:a,isError:n,error:o,sendTransaction:s}=(0,a$.O)(),{data:r,isSuccess:i,isError:l,error:d,sendTransaction:c}=(0,aZ.p)();return e?{txHash:t,isSuccess:a,isError:n,error:o,sendTransaction:s}:{txHash:r,isSuccess:i,isError:l,error:d,sendTransaction:c}};var a1=a(86614);let a5=e=>{var t,a,n,o,s,r;let{values:i,onSwapEvent:l,onSwapError:d,isBuyAnyCrypto:c=!1,onEstimationError:u}=e,{selectedAccount:m,isSolanaWallet:p}=(0,A.$)(),y=(0,ts.P)().refId,{data:_}=(0,aX.D)({key:a1.m.recentActivities(m)},{enabled:null!=m}),{mutate:E}=(0,aq.h)(),f=tT.formValuesToBuildSwapTxParams({selectedAccount:m,values:i,refId:y}),{data:T,isFetching:g}=tq(null!=m?m:"",f,{enabled:!!f,onError:e=>V(tX.I.CREATE_SWAP_TX_ERROR,e)}),v=null==i?void 0:i.network,h=H.Eu[v].chainId,S=t$(null==T?void 0:null===(t=T.approvalTransaction)||void 0===t?void 0:t.transactionRequest),w=t$(null==T?void 0:null===(a=T.swapTransaction)||void 0===a?void 0:a.transactionRequest),x=p?null==T?void 0:null===(o=T.approvalTransaction)||void 0===o?void 0:null===(n=o.transactionRequest)||void 0===n?void 0:n.data:S,b=p?null==T?void 0:null===(r=T.swapTransaction)||void 0===r?void 0:null===(s=r.transactionRequest)||void 0===s?void 0:s.data:w,R=!!p&&(null==T?void 0:T.type)==="v0",{error:N,isLoading:I}=(0,aH.N)({..."object"==typeof b?b:{},query:{enabled:!p}}),{txHash:P,isSuccess:O,isError:C,error:j,sendTransaction:L}=a0(),{txHash:D,isSuccess:U,isError:F,error:W,sendTransaction:M}=a0(),B=()=>{var e;tV.I.emitEvent("approve_success",{token_address:null===(e=i.fromToken)||void 0===e?void 0:e.address,is_buy_any_crypto:c}),l(tX.I.APPROVE_SUCCESS)};(0,aQ.A)({...aJ.c,chainId:h,hash:P,confirmations:3,query:{enabled:P&&O&&!p,onSuccess:B,onError:e=>V(tX.I.SEND_APPROVE_TX_ERROR,e)}});let K=()=>{var e,t,a,n,o,s,r,d,u;tV.I.emitEvent("swap",{from_token_symbol:null===(e=i.fromToken)||void 0===e?void 0:e.symbol,from_token_address:null===(t=i.fromToken)||void 0===t?void 0:t.address,from_token_sell_tax:null===(a=i.fromToken)||void 0===a?void 0:a.sellFees,to_token_symbol:null===(n=i.toToken)||void 0===n?void 0:n.symbol,to_token_address:null===(o=i.toToken)||void 0===o?void 0:o.address,to_token_buy_tax:null===(s=i.toToken)||void 0===s?void 0:s.buyFees,swap_amount:t_.S.getTokenAmountInUSD(i.fromTokenAmount,null===(r=i.fromToken)||void 0===r?void 0:r.usdValue),value:parseFloat(null!==(u=t_.S.getTokenAmountInUSD(i.fromTokenAmount,null===(d=i.fromToken)||void 0===d?void 0:d.usdValue))&&void 0!==u?u:"0"),is_buy_any_crypto:c}),l(tX.I.SWAP_SUCCESS,D)};(0,aQ.A)({...aJ.c,chainId:h,hash:D,confirmations:3,query:{enabled:D&&U&&!p,onSuccess:K,onError:e=>V(tX.I.SEND_SWAP_TX_ERROR,e)}});let V=(0,k.useCallback)((e,t)=>{var a,n,o,s,r,l,u;let p=tl.C.getSwapError(t),y=tl.C.parseErrorMessage(t);if(d((0,tv.Ds)(e,p.id),p),p.log){let a={id:null==m?void 0:m.toLowerCase()};tl.C.logSwapTransactionError(t,e,i,a)}let _=t_.S.getTokenAmountInUSD(i.fromTokenAmount,null===(a=i.fromToken)||void 0===a?void 0:a.usdValue),E=(0,tv.UT)(e,t),f={from_token_symbol:null===(n=i.fromToken)||void 0===n?void 0:n.symbol,from_token_address:null===(o=i.fromToken)||void 0===o?void 0:o.address,from_token_sell_tax:null===(s=i.fromToken)||void 0===s?void 0:s.sellFees,to_token_symbol:null===(r=i.toToken)||void 0===r?void 0:r.symbol,to_token_address:null===(l=i.toToken)||void 0===l?void 0:l.address,to_token_buy_tax:null===(u=i.toToken)||void 0===u?void 0:u.buyFees,slippage:null==i?void 0:i.slippage,swap_amount:_};tV.I.emitEvent(E,"swap_sign_reject"===E?{...f,value:_,is_buy_any_crypto:c}:{...f,is_buy_any_crypto:c,error:p,error_message:y})},[d,i,c,m]),Y=(0,k.useCallback)(e=>{if(null==(null!=_?_:[]).find(t=>t.transactionHash===e)){var t,a,n,o,s,r,d;let u=(null!=_?_:[]).concat(tT.swapValuesToActivity(i,e));E({key:a1.m.recentActivities(m),value:u});let p=t_.S.getTokenAmountInUSD(i.fromTokenAmount,null===(t=i.fromToken)||void 0===t?void 0:t.usdValue);tV.I.emitEvent("swap_sign_success",{from_token_symbol:null===(a=i.fromToken)||void 0===a?void 0:a.symbol,from_token_address:null===(n=i.fromToken)||void 0===n?void 0:n.address,from_token_sell_tax:null===(o=i.fromToken)||void 0===o?void 0:o.sellFees,to_token_symbol:null===(s=i.toToken)||void 0===s?void 0:s.symbol,to_token_address:null===(r=i.toToken)||void 0===r?void 0:r.address,to_token_buy_tax:null===(d=i.toToken)||void 0===d?void 0:d.buyFees,slippage:null==i?void 0:i.slippage,swap_amount:p,value:parseFloat(null!=p?p:"0"),is_buy_any_crypto:c}),l(tX.I.SWAP_SIGN_SUCCESS)}},[i,l,c,_,m,E]),G=async()=>{var e,t,a,n,o,s,r;N&&await new Promise(e=>setTimeout(e,3e3));let d=t_.S.getTokenAmountInUSD(i.fromTokenAmount,null===(e=i.fromToken)||void 0===e?void 0:e.usdValue);tV.I.emitEvent("swap_sign_request",{from_token_symbol:null===(t=i.fromToken)||void 0===t?void 0:t.symbol,from_token_address:null===(a=i.fromToken)||void 0===a?void 0:a.address,from_token_sell_tax:null===(n=i.fromToken)||void 0===n?void 0:n.sellFees,to_token_symbol:null===(o=i.toToken)||void 0===o?void 0:o.symbol,to_token_address:null===(s=i.toToken)||void 0===s?void 0:s.address,to_token_buy_tax:null===(r=i.toToken)||void 0===r?void 0:r.buyFees,slippage:null==i?void 0:i.slippage,swap_amount:d,value:parseFloat(null!=d?d:"0"),is_buy_any_crypto:c}),l(tX.I.SWAP_SIGN_REQUEST),M(b,R)};return(0,k.useEffect)(()=>{C&&j&&V(tX.I.APPROVE_SIGN_ERROR,j)},[C,j,V]),(0,k.useEffect)(()=>{F&&W&&V(tX.I.SWAP_SIGN_ERROR,W)},[F,W,V]),(0,k.useEffect)(()=>{U&&D&&!p&&Y(D)},[U,D,Y,p]),(0,k.useEffect)(()=>{var e;T&&!g&&((null==T?void 0:null===(e=T.approvalTransaction)||void 0===e?void 0:e.transactionRequest)?l(tX.I.APPROVE_SIGN_REQUEST):l(tX.I.APPROVE_SUCCESS))},[T,g,l]),(0,k.useEffect)(()=>{N&&u(N)},[N,u]),(0,k.useEffect)(()=>{p&&(P&&B(),D&&K())},[p,D,P]),{isBuildingTransaction:g,sendApprovalTransaction:()=>{var e;l(tX.I.APPROVE_SIGN_REQUEST),tV.I.emitEvent("approve_sign_request",{token_address:null===(e=i.fromToken)||void 0===e?void 0:e.address,is_buy_any_crypto:c}),L(x&&x)},sendSwapTransaction:G,isLoadingEstimation:!p&&I}};(u=v||(v={})).BUILDING_TRANSACTION="building_transaction",u.APPROVE_SIGN_REQUEST="approve_sign_request",u.APPROVE_SIGN_SUCCESS="approve_sign_success",u.APPROVE_SIGN_ERROR="approve_sign_error",u.APPROVE_SUCCESS="approve_success",u.APPROVE_ERROR="approve_error",u.SWAP_SIGN_REQUEST="swap_sign_request",u.SWAP_SIGN_SUCCESS="swap_sign_success",u.SWAP_SIGN_ERROR="swap_sign_error",u.SWAP_SUCCESS="swap_success",u.SWAP_ERROR="swap_error";let a2={building_transaction:{approve:{statusKey:"approve",statusBar:"loading"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},approve_sign_request:{approve:{statusKey:"approve",statusBar:"loading"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},approve_sign_success:{approve:{statusKey:"approve",statusBar:"loading"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},approve_sign_error:{approve:{statusKey:"approve",statusBar:"loading"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},approve_success:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},approve_error:{approve:{statusKey:"approve",statusBar:"loading"},confirm:{statusKey:"confirm",statusBar:"idle"},swap:{statusKey:"swapping",statusBar:"idle"}},swap_sign_request:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirm",statusBar:"loading"},swap:{statusKey:"swapping",statusBar:"idle"}},swap_sign_success:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirmed",statusBar:"success"},swap:{statusKey:"swapping",statusBar:"loading"}},swap_sign_error:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirm",statusBar:"loading"},swap:{statusKey:"swapping",statusBar:"idle"}},swap_success:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirmed",statusBar:"success"},swap:{statusKey:"swapped",statusBar:"success"}},swap_error:{approve:{statusKey:"approved",statusBar:"success"},confirm:{statusKey:"confirm",statusBar:"loading"},swap:{statusKey:"swapping",statusBar:"idle"}}},a3=e=>"approve_sign_request"===e||"approve_sign_success"===e||"approve_success"===e||"approve_sign_error"===e||"approve_error"===e?"approval-sent":"swap_sign_request"===e||"swap_sign_success"===e||"swap_success"===e||"swap_sign_error"===e||"swap_error"===e?"confirm-sent":"placeholder",a8=()=>{let{selectedAccount:e}=(0,A.$)(),[t,a]=(0,x.KO)(O.n9),{flowId:n}=t,[o,s]=(0,x.KO)(O.rR),{fromToken:r,toToken:i,fromTokenAmount:l,toTokenAmount:d,txHash:c,network:u,gasPriceLevel:m,customSlippage:p,defaultSlippage:y,quoteId:_}=o,[E,f]=(0,k.useState)(v.BUILDING_TRANSACTION),{mutate:T}=(0,aY.Z)();aG({pathParameters:{address:e,hash:c},queryParameters:{network:u}},{retry:!0,enabled:!!c&&E===v.SWAP_SUCCESS});let g=(0,tv.Kf)({network:u,fromToken:r,toToken:i,fromTokenAmount:l,toTokenAmount:d,slippage:Number(p)||Number(y),gasPriceLevel:m}),{isBuildingTransaction:S,sendApprovalTransaction:w,sendSwapTransaction:R,isLoadingEstimation:N}=a5({values:g,onSwapEvent:(0,k.useCallback)((e,t)=>{e===tX.I.APPROVE_SIGN_REQUEST&&f(v.APPROVE_SIGN_REQUEST),e===tX.I.APPROVE_SIGN_SUCCESS&&f(v.APPROVE_SIGN_SUCCESS),e===tX.I.APPROVE_SUCCESS&&f(v.APPROVE_SUCCESS),e===tX.I.SWAP_SIGN_REQUEST&&f(v.SWAP_SIGN_REQUEST),e===tX.I.SWAP_SIGN_SUCCESS&&f(v.SWAP_SIGN_SUCCESS),e===tX.I.SWAP_SUCCESS&&(f(v.SWAP_SUCCESS),t&&(setTimeout(()=>{a({action:"SET_VIEW",payload:{view:"SwapReceiptView",debug:"SWAP_SUCCESS isIndexedChain"}})},5e3),"complete-buy-any-tx-flow"===n&&_&&t&&T({pathParameters:{transactionId:_},body:{action:aV.B.UPDATE_INDIRECT_STATUS,indirectStatus:tL._H.COMPLETED,indirectTransactionHash:t}}),s({action:"SET_SWAP_SUCCESS",payload:{txHash:t,debug:"SWAP_SUCCESS"}})))},[T,s,n,_,a]),onSwapError:(0,k.useCallback)((e,t)=>{let n={[tX.I.CREATE_SWAP_TX_ERROR]:v.SWAP_ERROR,[tX.I.APPROVE_SIGN_ERROR]:v.APPROVE_SIGN_ERROR,[tX.I.SEND_APPROVE_TX_ERROR]:v.APPROVE_ERROR,[tX.I.SWAP_SIGN_ERROR]:v.SWAP_SIGN_ERROR,[tX.I.SEND_SWAP_TX_ERROR]:v.SWAP_ERROR}[e];n&&(f(n),s({action:"SET_SWAP_ERROR",payload:{error:t,debug:"onSwapError"}}),a({action:"SET_VIEW",payload:{view:"SwapErrorView",debug:"onSwapError"}}))},[s,a]),onEstimationError:(0,k.useCallback)(()=>{az.F.notificationError({message:"Beware!",description:"There is a high risk of failure and associated gas costs due to trade limitations on the Smart Contract, or Network errors.",duration:8e3})},[])});(0,k.useEffect)(()=>{S||N||(E===v.APPROVE_SIGN_REQUEST&&w(),E===v.APPROVE_SUCCESS&&(f(v.SWAP_SIGN_REQUEST),R()))},[S,N,E,f]);let{approve:I,confirm:P,swap:C}=a2[E],j=[{status:I.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(I.statusKey))},{status:P.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(P.statusKey))},{status:C.statusBar,statusText:"".concat(tx.s.capitalizeFirstLetter(C.statusKey))}],L=eS.z.formatNumber(null!=l?l:0,{useSuperscriptFormat:!0,useRangeFormat:!0}),D=eS.z.formatNumber(null!=d?d:0,{fixedFractionDigits:3,useSuperscriptFormat:!0,useRangeFormat:!0}),[U,F]=(0,k.useState)(!1);return(0,k.useEffect)(()=>{E===v.SWAP_SUCCESS&&(F(!0),setTimeout(()=>{F(!1)},5e3),a({action:"SET_OVERLAY",payload:{overlay:{type:"confetti-animation",durationInMs:5e3},debug:"swapStatus = SwapStatus.SWAP_SUCCESS"}}))},[E,a]),(0,h.jsxs)(b.P,{gap:"100",className:"swap-progress-view","data-sentry-element":"StackLayout","data-sentry-component":"SwapProgressView","data-sentry-source-file":"swap-progress-view.tsx",children:[(0,h.jsx)(tj,{onIconClick:()=>{a({action:"RESET_VIEW",payload:{debug:"on tx progress"}})},statusElements:j,shouldRenderStatusElements:E!==v.SWAP_SUCCESS,"data-sentry-element":"TxProgressHeader","data-sentry-source-file":"swap-progress-view.tsx"}),(0,h.jsxs)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-progress-view.tsx",children:[(0,h.jsx)(tP,{fromIcon:null==r?void 0:r.logo,toIcon:null==i?void 0:i.logo,showSuccessAnimation:U,"data-sentry-element":"FromToHeader","data-sentry-source-file":"swap-progress-view.tsx"}),(0,h.jsxs)(tN.X,{size:"h4",textAlign:"center","data-sentry-element":"Heading","data-sentry-source-file":"swap-progress-view.tsx",children:[E===v.SWAP_SUCCESS?"Swapped":"Swapping"," ~",L," ",null==r?void 0:r.symbol," for ",D," ",null==i?void 0:i.symbol," on ",u.toUpperCase()]}),E!==v.SWAP_SUCCESS&&(0,h.jsx)(ec.x,{color:"muted",textAlign:"center",fontWeight:"light",size:"m",className:E===v.APPROVE_SIGN_REQUEST||E===v.SWAP_SIGN_REQUEST?"swap-progress-view__fade-in-from-bottom":"swap-progress-view__fade-out-to-bottom",children:"approval-sent"===a3(E)?(0,h.jsxs)(h.Fragment,{children:["We sent an approval request to your wallet. Make sure ","you're"," on the"," ",u.toUpperCase()," chain when you approve. "," Didnt"," receive?"," ",(0,h.jsx)(ec.x,{component:"span",color:"white",className:"swap-progress-view__send-again-txt",isUnderlined:!0,onClick:E===v.APPROVE_SIGN_REQUEST?w:R,children:"Send again"})]}):"confirm-sent"===a3(E)?(0,h.jsxs)(h.Fragment,{children:["Please confirm in your wallet.",(0,h.jsx)("br",{})," ","Didn't"," receive anything?"," ",(0,h.jsx)(ec.x,{component:"span",color:"white",className:"swap-progress-view__send-again-txt",isUnderlined:!0,onClick:E===v.APPROVE_SIGN_REQUEST?w:R,children:"Send again"})]}):""})]})]})};var a4=a(32661);let a6=e=>{let{network:t}=e,a=(0,H.hY)(t),{data:n,isInitialLoading:o,isError:s}=(0,a4.d)({queryParameters:{networks:t,timespan:a?"5m":"1h",volumeSortOrder:"desc",buyVolumeSortOrder:"desc",pressureIndicatorSortOrder:"asc"}}),r=null==n?void 0:n.slice(0,5);return s?null:(0,h.jsxs)(b.P,{gap:"100",className:"trending-tokens","data-sentry-element":"StackLayout","data-sentry-component":"TrendingTokens","data-sentry-source-file":"trending-tokens.tsx",children:[(0,h.jsxs)(tN.X,{size:"h5","data-sentry-element":"Heading","data-sentry-source-file":"trending-tokens.tsx",children:["Discover the most trending tokens from the last ","".concat(a?"5 mins":"hour")]}),(0,h.jsx)(b.P,{gap:"75","data-sentry-element":"StackLayout","data-sentry-source-file":"trending-tokens.tsx",children:o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(eF.g,{height:"40px",width:"100%"}),(0,h.jsx)(eF.g,{height:"40px",width:"100%"}),(0,h.jsx)(eF.g,{height:"40px",width:"100%"}),(0,h.jsx)(eF.g,{height:"40px",width:"100%"}),(0,h.jsx)(eF.g,{height:"40px",width:"100%"})]}):null==r?void 0:r.map((e,t)=>(0,h.jsx)(ag.default,{href:(0,tw.FN)(e.address,e.network,e.name,e.symbol),children:(0,h.jsxs)(b.P,{gap:"50",direction:"row",alignItems:"center",children:[(0,h.jsx)(ev.y,{size:eh.c.m,symbolFallback:e.symbol,icon:e.logo}),(0,h.jsx)(ec.x,{ellipsis:!0,className:"trending-tokens-token-name",size:"l",fontWeight:"bold",children:"$".concat(e.symbol,"  ").concat(e.name)})]})},t))})]})},a7=e=>{let{title:t,toTokenAmount:a,network:n,fromToken:o,toToken:s,isLoading:r,children:i,isExpanded:l=!1}=e,[d,c]=(0,k.useState)(!l),u=eS.z.formatNumber(null!=a?a:0,{fixedFractionDigits:3,useSuperscriptFormat:!0}),m="".concat(u," ").concat(null==s?void 0:s.symbol," on ").concat(n.toUpperCase());return(0,h.jsxs)(b.P,{gap:"50","data-sentry-element":"StackLayout","data-sentry-component":"TxReceiptCollapsible","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:[(0,h.jsxs)(b.P,{className:"tx-receipt-collapsible__header-container",gap:"0",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:[(0,h.jsxs)(b.P,{gap:"25","data-sentry-element":"StackLayout","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:[(0,h.jsxs)(b.P,{tabIndex:1,className:"tx-receipt-collapsible__header",gap:"50",direction:"row",alignItems:"center",onClick:()=>{r||c(!d)},"data-sentry-element":"StackLayout","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:[(0,h.jsx)(tN.X,{size:"h4","data-sentry-element":"Heading","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:t}),r?(0,h.jsx)(ed.J,{className:"tx-receipt-collapsible__loading",icon:ei.T.LOADING}):(0,h.jsx)(eA.z,{className:w()("tx-receipt-collapsible__button tx-receipt-collapsible__fade-in",{"tx-receipt-collapsible__expanded":!d,"tx-receipt-collapsible__collapsed":d}),icon:ei.T.CARET_DOWN,size:"l",variant:"text"})]}),a?(0,h.jsx)(ec.x,{className:"tx-receipt-collapsible__fade-in",size:"l",color:"muted",fontWeight:"regular",children:m}):""]}),o&&s&&(0,h.jsxs)(b.P,{className:"tx-receipt-collapsible__token-logo-container tx-receipt-collapsible__fade-in",gap:"0",direction:"row",alignItems:"center",children:[(0,h.jsx)(eX.S,{className:"tx-receipt-collapsible__token-logo",partialToken:o}),(0,h.jsx)(eX.S,{className:"tx-receipt-collapsible__token-logo tx-receipt-collapsible__to-token-logo",partialToken:s})]})]}),(0,h.jsx)(eP.z,{isCollapsed:d,"data-sentry-element":"Collapsible","data-sentry-source-file":"tx-receipt-collapsible.tsx",children:i})]})},a9=(e,t)=>{let a=H.Eu[t].blockExplorer.url;return"".concat(a,"/tx/").concat(e)},ne=e=>{let{label:t,children:a}=e;return(0,h.jsxs)(b.P,{gap:"0",direction:"row",justifyContent:"space-between",alignItems:"center","data-sentry-element":"StackLayout","data-sentry-component":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsx)(ec.x,{size:"m",color:"muted",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:t}),"string"==typeof a?(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold",children:a}):(0,h.jsx)(b.P,{gap:"50",direction:"row",justifyContent:"space-between",alignItems:"start",children:a})]},t)},nt=e=>{let{status:t,timestamp:a,network:n,fromTokenAmount:o,toTokenAmount:s,toTokenAmountUsd:r,feeUsdAmount:i,transactionHash:l,nonce:d,fromToken:c,toToken:u}=e,m=eS.z.formatNumber(null!=o?o:0,{fixedFractionDigits:3,useSuperscriptFormat:!0}),p=eS.z.formatNumber(null!=s?s:0,{fixedFractionDigits:3,useSuperscriptFormat:!0}),{address:y,network:_,name:E,symbol:f}=c,{address:T,network:g,name:v,symbol:S}=u,w=(0,tw.FN)(T,g,v,S),x=(0,tw.FN)(y,_,E,f);return(0,h.jsxs)(b.P,{gap:"75","data-sentry-element":"StackLayout","data-sentry-component":"TxReceiptForm","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsxs)(ne,{label:"Status","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:"success"===t?"Completed":"Failed"}),(0,h.jsx)(ed.J,{className:"tx-receipt-form__icon",icon:"success"===t?ei.T.FEEDBACK_SUCCESS:ei.T.FEEDBACK_ERROR,"data-sentry-element":"Icon","data-sentry-source-file":"tx-receipt-form.tsx"})]}),(0,h.jsx)(ne,{label:"Date","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:"".concat(new Date(a).toDateString()," ").concat(new Date(a).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}))}),(0,h.jsx)(ne,{label:"Network","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:H.Eu[n].name}),(0,h.jsxs)(ne,{label:"From","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:m}),(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:(0,h.jsx)(ag.default,{className:"tx-receipt-form__link",href:x,"data-sentry-element":"Link","data-sentry-source-file":"tx-receipt-form.tsx",children:c.symbol})})]}),(0,h.jsxs)(ne,{label:"To","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:p}),(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:(0,h.jsx)(ag.default,{className:"tx-receipt-form__link",href:w,"data-sentry-element":"Link","data-sentry-source-file":"tx-receipt-form.tsx",children:u.symbol})})]}),(0,h.jsx)(ne,{label:"USD value","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:"$".concat(eS.z.formatNumber(null!=r?r:0,{fixedFractionDigits:3,useSuperscriptFormat:!0}))}),(0,h.jsx)(ne,{label:"Fees","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:"$".concat(eS.z.formatNumber(null!=i?i:0,{fixedFractionDigits:3,useSuperscriptFormat:!0}))}),(0,h.jsxs)(ne,{label:"Transaction #","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:[(0,h.jsx)(ec.x,{size:"m",fontWeight:"bold","data-sentry-element":"Text","data-sentry-source-file":"tx-receipt-form.tsx",children:eG.i.shortenAddress(l,6)}),(0,h.jsx)(ag.default,{className:"tx-receipt-form__link",href:a9(l,n),target:"_blank","data-sentry-element":"Link","data-sentry-source-file":"tx-receipt-form.tsx",children:(0,h.jsx)(ed.J,{className:"tx-receipt-form__icon",icon:ei.T.LINK,"data-sentry-element":"Icon","data-sentry-source-file":"tx-receipt-form.tsx"})})]}),(0,h.jsx)(ne,{label:"Nonce","data-sentry-element":"Row","data-sentry-source-file":"tx-receipt-form.tsx",children:d})]})},na=e=>{let{title:t,userAddress:a,txHash:n,fromToken:o,toToken:s,network:r}=e,i=(0,H.hY)(r),{data:l,isLoading:d,isError:c}=aG({pathParameters:{address:a,hash:n},queryParameters:{network:r}},{retry:!0,enabled:i}),u=!!i&&(d||c);return(0,h.jsx)(a7,{title:t,toTokenAmount:null==l?void 0:l.amountOut,network:r,fromToken:o,toToken:s,isLoading:u,isExpanded:!i,"data-sentry-element":"TxReceiptCollapsible","data-sentry-component":"TxReceipt","data-sentry-source-file":"tx-receipt.tsx",children:u?null:i&&l?(0,h.jsx)(nt,{status:l.status?"success":"failure",timestamp:l.blockTimestamp,network:l.network,fromTokenAmount:l.amountIn,toTokenAmount:l.amountOut,toTokenAmountUsd:l.amountOutUsd,feeUsdAmount:l.transactionFeeUsd,transactionHash:n,nonce:l.nonce,fromToken:o,toToken:s}):(0,h.jsxs)(ec.x,{size:"m",color:"muted",fontWeight:"regular",children:["We dont support portfolio tracking data on ",r.toUpperCase()," yet. However you can check your transaction"," ",(0,h.jsx)(ag.default,{className:"tx-receipt__link",href:a9(n,r),target:"_blank",children:"here"}),"."]})})},nn=()=>{var e;let{selectedAccount:t}=(0,A.$)(),[,a]=(0,x.KO)(O.n9),[n]=(0,x.KO)(O.rR),{txHash:o,network:s,toToken:r,fromToken:i}=n,l=(0,H.hY)(s);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ea._,{leftIcon:(0,h.jsx)(eU.l,{onClick:()=>{a({action:"SET_VIEW",payload:{view:"SwapView",debug:"navigateBack"}})},icon:ei.T.CLOSE}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"swap-receipt-view.tsx"}),(0,h.jsxs)(b.P,{gap:"100","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-receipt-view.tsx",children:[(0,h.jsx)(na,{title:"Swapped",userAddress:t,txHash:o,fromToken:i,toToken:r,network:s,"data-sentry-element":"TxReceipt","data-sentry-source-file":"swap-receipt-view.tsx"}),!l&&(0,h.jsx)(tN.X,{size:"h4",children:"Swapped"}),(0,h.jsx)(ey.L,{className:"swap-receipt-view__market",network:s,address:null!==(e=null==r?void 0:r.address)&&void 0!==e?e:"",cta:"track-in-telegram","data-sentry-element":"MarketClient","data-sentry-source-file":"swap-receipt-view.tsx"}),(0,h.jsx)(a6,{network:s,"data-sentry-element":"TrendingTokens","data-sentry-source-file":"swap-receipt-view.tsx"})]})]})};var no=a(14795);let ns=e=>{let{isFetchingQuote:t,estimatedFees:a}=e;return(0,h.jsx)(ec.x,{className:"estimated-fees__text",size:"m",fontWeight:"light","data-sentry-element":"Text","data-sentry-component":"EstimatedFees","data-sentry-source-file":"estimated-fees.tsx",children:t?(0,h.jsxs)(h.Fragment,{children:["+ estimated fees of ",(0,h.jsx)(eF.g,{className:"estimated-fees__skeleton",width:32})]}):(0,h.jsxs)(h.Fragment,{children:["+ estimated fees of"," ",(0,h.jsxs)(ec.x,{className:"estimated-fees--left-padding estimated-fees--fade-in-from-bottom",component:"span",size:"l",fontWeight:"bold",children:["$",a]})]})})},nr=e=>{var t;let{select:a,token:n,inputValue:o,isLoadingBalance:s,onMaxBalanceClicked:r,balance:i}=e,l=eS.z.formatNumber(null!=i?i:"",{fixedFractionDigits:3,useSuperscriptFormat:!0,useRangeFormat:!0}),d=Number(o)*Number(null!==(t=null==n?void 0:n.usdValue)&&void 0!==t?t:0),c=eS.z.formatNumber(null!=d?d:0,{fixedFractionDigits:2,useSuperscriptFormat:!0,useRangeFormat:!0}),u="from"===a&&i&&Number(i)>0?(.99*Number(i)).toString():"";return(0,h.jsxs)(b.P,{gap:"25",direction:"row",justifyContent:"space-between","data-sentry-element":"StackLayout","data-sentry-component":"HoldingsAndBalance","data-sentry-source-file":"holdings-and-balance.tsx",children:[s?(0,h.jsx)(eF.g,{className:"holdings-and-balance__skeleton",width:32}):(0,h.jsxs)(b.P,{gap:"25",direction:"row",children:[(0,h.jsx)(ec.x,{size:"m",color:"muted",fontWeight:"light",children:l}),""!=u&&(0,h.jsx)(ec.x,{className:"holdings-and-balance__max",onClick:()=>null==r?void 0:r(u),size:"m",children:"Max"})]}),(0,h.jsxs)(ec.x,{size:"m",color:"muted",fontWeight:"light","data-sentry-element":"Text","data-sentry-source-file":"holdings-and-balance.tsx",children:["$",c]})]})};var ni=a(97828),nl=a(81294),nd=a(97700);let nc={"not-enough-funds-01":{title:"Not enough funds \uD83E\uDEE0",description:"You need more {{tokenSymbol}} to complete this trade. Please try again with a smaller amount."},"not-enough-funds-02":{title:"I wish I had that! \uD83E\uDD29",description:"You need more {{tokenSymbol}} to complete this trade. Please try again with a smaller amount."},"not-enough-funds-03":{title:"Ohhhhhh!!! Nice try! \uD83E\uDD29",description:"You need more {{tokenSymbol}} to complete this trade. Please try again with a smaller amount."},"no-token-assets-at-all":{title:"You dont have any {{tokenName}}",description:"Dont worry, we can help you buy some."},"something-went-wrong":{title:"Sorry, something went wrong \uD83D\uDE23",description:"Tell us about this problem to help us fix it."},"unable-to-fetch-quotes":{title:"We are unable to fetch {{tokenSymbol}} quotes now",description:"This might be a network issue. Please try again."},"low-liquidity":{title:"{{tokenSymbol}} has low liquidity",description:"This token has low liquidity. This might happen when it's a new token or due to low trading volume. Please make sure you understand low liquidity risks before proceeding."},"low-gas":{title:"Running low on gas \uD83E\uDEAB",description:"You need more {{tokenName}} to pay for the gas fees. Please, try to lower the amount if you want to continue trading."},"no-money-for-gas":{title:"You dont have {{tokenName}}  for gas ",description:"You need $1.5 worth of {{tokenName}} to cover the transaction fees. Buy with Flooz."},"low-slippage":{title:"You've set a low slippage, trade might fail!",description:"Your trade could fail if the price moves beyond the slippage % you've set. While a lower tolerance can prevent front running, it can also cause you to lose your gas fee money if your trade fails."}},nu=e=>{var t,a,n,o,s,r,i,l,d,c,u,m,p,y,_,E;let{isFetchingQuote:f,quote:T,refetchQuoteCallback:g,shouldRefetchQuote:v,error:h,state:S,fromTokenBalance:w}=e,{selectedAccount:k,providerNetwork:b,switchNetwork:R,setShowAuthFlow:N,isZeroDevAccount:I}=(0,A.$)(),[P,C]=(0,x.KO)(O.n9),{flowId:j,miniappIntent:L}=P,[D,U]=(0,x.KO)(O.rR),{customSlippage:F,defaultSlippage:W,fromToken:M,toToken:B,fromTokenAmount:K,toTokenAmount:V,network:Y,gasPriceLevel:G}=S,{data:z}=(0,nl.s)({pathParameters:{address:null!==(i=null==B?void 0:B.address)&&void 0!==i?i:"",network:null!==(l=null==B?void 0:B.network)&&void 0!==l?l:H.a9.id}},{enabled:(null==B?void 0:B.address)!=null&&!(0,H.Lh)(null==B?void 0:B.network)}),Q=0>=Number(K)&&0>=Number(V),X=Y!==b&&void 0!==Y,J=Number(K)>Number(w),Z=Number(null==M?void 0:M.usdValue)*Number(K)<1e4,$=Number(null==M?void 0:M.usdValue)*Number(K)<1e5,ee=Number(F||0)<Number(W),et=tx.s.isValidPositiveNumber(w||""),ea={tokenSymbol:null!==(d=null==M?void 0:M.symbol)&&void 0!==d?d:"",tokenName:null!==(c=null==M?void 0:M.name)&&void 0!==c?c:""},en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea;return{title:tA(nc[e].title,t),description:tA(nc[e].description,t)}},eo=!!(null==T?void 0:null===(t=T.transactionCostBreakDown)||void 0===t?void 0:t.formattedUnits),es=null==T?void 0:null===(n=T.transactionCostBreakDown)||void 0===n?void 0:null===(a=n.formattedUnits)||void 0===a?void 0:a[G],er=q.a.isNativeTokenAddress((null==M?void 0:M.address)||"",Y),ei=!eo||!!((null==T?void 0:null===(o=T.transactionCostBreakDown)||void 0===o?void 0:o.formattedUnits)&&1.35*T.transactionCostBreakDown.formattedUnits[G]+Number(K)<=Number(w)),el=null==T||null===(s=T.transactionCostBreakDown)||void 0===s||!s.formattedUnits||Number((null==T?void 0:null===(r=T.transactionCostBreakDown)||void 0===r?void 0:r.formattedUnits[G])*1.35)<Number(w);if(h){let{title:e,description:t}=en("unable-to-fetch-quotes",{tokenSymbol:null!==(u=null==B?void 0:B.symbol)&&void 0!==u?u:"",tokenName:null!==(m=null==B?void 0:B.name)&&void 0!==m?m:""});return{title:e,description:t,actionCtas:[{buttonText:"Try again",onClick:()=>{g()},type:"primary",disabled:!1}]}}if(!k&&"miniapp-flow"===j){if("swap"!==L)return{actionCtas:[{buttonText:"Connect",onClick:()=>N(!0),type:"primary",disabled:!1}]};{let e=new URLSearchParams;return L&&e.set(e5.m7.miniappIntent,L.toString()),(null==B?void 0:B.address)&&e.set("tokenAddress",B.address.toString()),Y&&e.set("network",Y.toString()),K&&e.set("swapFromTokenAmount",K.toString()),(null==M?void 0:M.address)&&e.set("swapFromTokenAddress",null==M?void 0:M.address.toString()),{actionCtas:[{linkText:"Connect",href:"".concat(e2.J.miniAppConnect,"?").concat(e.toString()),openInNewWindow:!1}]}}}if(!k)return{actionCtas:[{buttonText:"Connect",onClick:()=>N(!0),type:"primary",disabled:!1}]};if(!M||!B)return{actionCtas:[{buttonText:"Select token",onClick:()=>{},type:"primary",disabled:!0}]};if(Q)return{actionCtas:[{buttonText:"Enter amount",onClick:()=>{},type:"primary",disabled:!0}]};let ed=b&&(0,H.Qs)(b)&&M.network===H.cU.SOLANA_MAINNET||b&&!(0,H.Qs)(b)&&(0,H.Qs)(M.network);if(X&&!I||X&&ed)return{actionCtas:[{buttonText:"Switch Network",onClick:()=>null==R?void 0:R({chainId:H.Eu[Y].chainId}),type:"primary",disabled:!1}]};if(!et&&tx.s.isValidPositiveNumber(null!=K?K:"")){let{title:e,description:t}=en("no-token-assets-at-all");return{title:e,description:t,actionCtas:[{linkText:"Buy ".concat(ea.tokenSymbol," now"),href:nd.J.getBuyHref(M.network,M.address),openInNewWindow:!0}]}}if(J&&Z){let{title:e,description:t}=en("not-enough-funds-01");return{title:e,description:t,actionCtas:[{buttonText:"Lower amount",onClick:()=>{U({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:w||String(.9*Number(K)),debug:"lower-amount-10k"}})},type:"primary",disabled:!1}]}}if(J&&$){let{title:e,description:t}=en("not-enough-funds-02");return{title:e,description:t,actionCtas:[{buttonText:"Lower amount",onClick:()=>{U({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:w||String(.9*Number(K)),debug:"lower-amount-100k"}})},type:"primary",disabled:!1}]}}if(J){let{title:e,description:t}=en("not-enough-funds-03");return{title:e,description:t,actionCtas:[{buttonText:"Lower amount",onClick:()=>{U({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:w||String(.9*Number(K)),debug:"not-enough-funds-03"}})},type:"primary",disabled:!1}]}}if(!1===f&&D.quote&&er&&!el){let e=1.35*Number(Number(null===(y=D.quote.transactionCostBreakDown)||void 0===y?void 0:null===(p=y.usd)||void 0===p?void 0:p[G]).toFixed(2));return{title:"You dont have enough ".concat(M.symbol||"Native Token","  for gas"),description:"You need ".concat(e?"$".concat(e," worth"):"more"," of ").concat(M.symbol||"Native Token"," to cover the transaction fees. Buy with Flooz. "),actionCtas:[{linkText:"Buy ".concat(ea.tokenSymbol," now"),href:(0,tw.Gn)(e2.J.buy,{tokenAddress:M.address}),openInNewWindow:!0}]}}if(D.quote&&!1===f&&el&&er&&!ei){let e=Number(w)-1.7*Number(es);return{title:"Running low on gas \uD83E\uDEAB",titleColor:"white",containerClassName:"form-actions__container--black",description:"To swap this amount you need more ".concat(M.symbol," to cover for gas fees. To continue trading, please either lower the amount or buy more ").concat(M.symbol),actionCtas:[{buttonText:"Lower amount",onClick:()=>{U({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:String(e),debug:"remove-on-low-slippage"}})},type:"primary",disabled:!1},{linkText:"or top up ".concat(M.symbol," to cover gas fees"),openInNewWindow:!0,href:(0,tw.Gn)(e2.J.buy,{tokenAddress:M.address}),className:"form-actions__text-button"}]}}if(void 0!==F&&ee){let{title:e,description:t}=en("low-slippage");return{title:e,description:t,actionCtas:[{buttonText:"Update slippage",onClick:()=>{U({action:"REMOVE_CUSTOM_SLIPPAGE",payload:{debug:"remove-on-low-slippage"}})},type:"primary",disabled:!1},{buttonText:"Continue anyway",onClick:()=>{C({action:"SET_VIEW",payload:{view:"SwapProgressView",debug:"continue-anyway"}})},type:"tertiary",disabled:!1}]}}if((null==z?void 0:z.liquidityIndicator)===ni.s.LOW){let{title:e,description:t}=en("low-liquidity",{tokenSymbol:null!==(_=null==B?void 0:B.symbol)&&void 0!==_?_:"",tokenName:null!==(E=null==B?void 0:B.name)&&void 0!==E?E:""});return{title:e,description:t,actionCtas:[{buttonText:"Swap anyway",onClick:()=>{C({action:"SET_VIEW",payload:{view:"SwapProgressView",debug:"swap-anyway"}})},type:"tertiary",disabled:!1}]}}return f?{actionCtas:[{buttonText:"Getting best quotes...",onClick:()=>{},type:"primary",disabled:!0}]}:v?{actionCtas:[{buttonText:"Refresh quote",onClick:()=>g(),type:"primary",disabled:!1}]}:T?{actionCtas:[{buttonText:"Swap",onClick:()=>{C({action:"SET_VIEW",payload:{view:I?"ScwSwapProgressView":"SwapProgressView",debug:I?"submit scw swap":"submit swap"}})},type:"primary",disabled:!1}]}:{actionCtas:[{buttonText:"Getting best quotes...",onClick:()=>{},type:"primary",disabled:!0}]}},nm=e=>{var t,a,n,o;let{children:s,leftIcon:r}=e,{selectedAccount:i}=(0,A.$)(),{dynamicConfig:l}=(0,no.aT)(),[d,c]=(0,k.useState)(!1),[u,m]=(0,k.useState)(!0),[p,y]=(0,x.KO)(O.n9),{isInitialized:_,isEmbedded:E,destinationWallet:f}=p,[T,g]=(0,x.KO)(O.rR),{customSlippage:v,defaultSlippage:S,fetchQuoteFor:w,fromToken:R,gasPriceLevel:N,toToken:I,fromTokenAmount:P,toTokenAmount:C,lockToToken:j,network:L}=T,D=q.a.isNativeToken(R),U=q.a.isNativeToken(I),{data:F,status:W,refetch:M}=tU({body:{walletAddress:i,network:null==R?void 0:R.network,tokenAddresses:[D?void 0:null==R?void 0:R.address,U?void 0:null==I?void 0:I.address].filter(Boolean)}},{enabled:(null==R?void 0:R.network)!=null&&null!=i}),{data:B,isFetching:K,refetch:V,error:Y}=tg({values:(0,tv.Kf)({network:L,fromToken:R,toToken:I,fromTokenAmount:P,toTokenAmount:C,slippage:void 0!==v?Number(v):Number(S),gasPriceLevel:eT.f.LOW}),getFromAmount:"fromToken"===w});(0,k.useEffect)(()=>{B&&("toToken"===w?g({action:"SET_QUOTE_FOR_TO_TOKEN",payload:{toTokenAmount:tx.s.isValidPositiveNumber(null==B?void 0:B.amount)?q.a.fromBaseUnit(null==B?void 0:B.amount,null==I?void 0:I.decimals):"",quote:B,debug:"quote changed useEffect"}}):g({action:"SET_QUOTE_FOR_FROM_TOKEN",payload:{fromTokenAmount:tx.s.isValidPositiveNumber(null==B?void 0:B.amount)?q.a.fromBaseUnit(null==B?void 0:B.amount,null==R?void 0:R.decimals):"",quote:B,debug:"quote changed useEffect"}}))},[g,w,null==R?void 0:R.decimals,B,null==I?void 0:I.decimals]),(0,k.useEffect)(()=>{K&&c(!1)},[K]),(0,k.useEffect)(()=>{let e=null;return B&&(e=setTimeout(()=>{c(!0)},6e4)),()=>{e&&clearInterval(e)}},[B,V]),(0,k.useEffect)(()=>{B&&!Y&&m(!1),Y&&m(!0)},[B,Y,m]),(0,k.useEffect)(()=>{M()},[M]);let G=e=>t=>{if("from"===e)t!==P&&g({action:"SET_FROM_TOKEN_AMOUNT",payload:{fromTokenAmount:t,debug:"amountOnChangeHandler"}});else{if(t===C)return;g({action:"SET_TO_TOKEN_AMOUNT",payload:{toTokenAmount:t,debug:"amountOnChangeHandler"}})}},z=(0,k.useCallback)((e,t)=>{var a;if(e)return null==F?void 0:null===(a=F.find(a=>{let n={...a};return t&&q.a.areSameAddress(n.address,H.Ji)&&(n.address=e.address),q.a.areSameToken(n,e)?n:null}))||void 0===a?void 0:a.balance},[F]),Q=(0,k.useMemo)(()=>z(R,D),[R,D,z]),X=(0,k.useMemo)(()=>z(I,U),[I,U,z]),J=eS.z.formatNumber(null!==(n=null==B?void 0:null===(t=B.transactionCostUSD)||void 0===t?void 0:t[N])&&void 0!==n?n:0,{fixedFractionDigits:2,useSuperscriptFormat:!0,useRangeFormat:!0}),Z="loading"===W&&null!=i,$=(null==l?void 0:null===(a=l.enableEstimatedFees)||void 0===a?void 0:a.value)==="true",ee=nu({isFetchingQuote:K,quote:B,refetchQuoteCallback:V,shouldRefetchQuote:d,state:T,error:Y,fromTokenBalance:Q}),et=E&&i?ei.T.GEAR_WITH_DOT:ei.T.GEAR,en=(0,er.usePathname)(),{showToTokenLinksInTradeWidget:eo}=null!==(o=ef.M.getRouteDefinition(en))&&void 0!==o?o:{},es=!0===eo&&I;return(0,h.jsxs)(b.P,{gap:"0",direction:"column",className:"swap-view","data-sentry-element":"StackLayout","data-sentry-component":"SwapView","data-sentry-source-file":"swap-view.tsx",children:[(0,h.jsxs)(b.P,{gap:"100","data-sentry-element":"StackLayout","data-sentry-source-file":"swap-view.tsx",children:[(0,h.jsx)(ea._,{leftIcon:r,rightIcon:(0,h.jsx)(eU.l,{onClick:()=>{y({action:"SET_VIEW",payload:{view:"settings",debug:"navigateToSettings"}})},icon:et}),"data-sentry-element":"TopNavigation","data-sentry-source-file":"swap-view.tsx",children:s}),(0,h.jsxs)(eD,{onSeparatorClick:()=>{g({action:"SWITCH_TOKENS",payload:{debug:"onTokensSwitch"}})},"data-sentry-element":"GrayBorderWrapper","data-sentry-source-file":"swap-view.tsx",children:[(0,h.jsx)(eZ,{select:"from",token:R,onSelectToken:()=>{y({action:"SET_VIEW",payload:{view:"SelectFromTokenView",debug:"fromToken onSelectToken"}})},onInputChange:G("from"),inputValue:P,holdingsAndBalance:(0,h.jsx)(nr,{select:"from",onMaxBalanceClicked:G("from"),inputValue:P,isLoadingBalance:Z,token:R,balance:Q}),lockSelectToken:!_,isInitializing:!_,"data-sentry-element":"TokenInput","data-sentry-source-file":"swap-view.tsx"}),(0,h.jsx)(eZ,{select:"to",lockSelectToken:j,token:I,onSelectToken:()=>{y({action:"SET_VIEW",payload:{view:"SelectToTokenView",debug:"TokenInput onSelectToken"}})},onInputChange:G("to"),inputValue:C,holdingsAndBalance:(0,h.jsx)(nr,{select:"to",inputValue:C,isLoadingBalance:Z,token:I,balance:X}),disabled:!0,isFetchingQuote:K,isInitializing:!_,"data-sentry-element":"TokenInput","data-sentry-source-file":"swap-view.tsx"})]}),$&&(0,h.jsx)(eP.z,{isCollapsed:u,animateOpacity:!0,children:(0,h.jsxs)(b.P,{className:"swap-view__estimated-fees-container",gap:"0",direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,h.jsx)(ns,{isFetchingQuote:K,estimatedFees:J}),(0,h.jsx)(aL,{className:"swap-view__network-speed-button",label:"in",currentGasPriceLevel:N,onSpeedChange:e=>{g({action:"SET_NETWORK_SPEED",payload:{gasPriceLevel:e,debug:"onNetworkSpeedChange"}})}})]})}),(0,h.jsx)(eC,{actions:ee,"data-sentry-element":"FormActions","data-sentry-source-file":"swap-view.tsx"}),es&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ey.L,{address:I.address,network:I.network,className:"swap-view__market",mode:"trade-widget"}),(0,h.jsx)(eu,{name:I.name,address:I.address,network:I.network,mode:"trade-widget"})]}),f&&(0,h.jsx)(eq,{walletAddress:f})]}),(0,h.jsx)(ep,{className:"swap-view__loading-bar",color:"var(--fds-color-border-primary)",isLoading:K,"data-sentry-element":"LoadingBar","data-sentry-source-file":"swap-view.tsx"})]})},np=e=>{let{children:t,leftIcon:a}=e,[n]=(0,x.KO)(O.n9),{view:o}=n;switch(o){case"BuyView":return(0,h.jsx)(th,{leftIcon:a,children:t});case"SelectFromFiatView":return(0,h.jsx)(t9,{});case"SelectTokenToBuyView":return(0,h.jsx)(aO,{});case"SelectPaymentView":return(0,h.jsx)(aN,{});case"DirectBuyProgressView":return(0,h.jsx)(tW,{});case"IndirectBuyProgressView":return(0,h.jsx)(tK,{});case"SettingsView":case"settings":return(0,h.jsx)(aW,{});case"SwapView":return(0,h.jsx)(nm,{leftIcon:a,children:t});case"SwapDirectTokenView":return(0,h.jsx)(aM,{});case"SelectFromTokenView":return(0,h.jsx)(aE,{});case"SelectToTokenView":return(0,h.jsx)(aP,{});case"SelectNetworkView":return(0,h.jsx)(aT,{});case"ScwSwapProgressView":return(0,h.jsx)(t2,{});case"SwapProgressView":return(0,h.jsx)(a8,{});case"SwapReceiptView":return(0,h.jsx)(nn,{});case"SwapErrorView":return(0,h.jsx)(aK,{});default:return(0,h.jsx)(nm,{children:t})}},ny=e=>{let{flowId:t,params:a,onRampQuote:n,onToTokenChanged:o,onRampQuotesFetched:s,onRampQuoteChange:r,leftIcon:i,className:l,disableOnBreakpoint:d}=e,{selectedAccount:c}=(0,R.Z)(),{setShowAuthFlow:u,isAuthenticated:m}=(0,A.$)(),[p,y]=(0,k.useState)(!1),[_,E]=(0,k.useState)(!1),{isMDown:f,isSDown:T}=(0,N.Pf)(),g=(0,I.d)(),[v,S]=(0,x.KO)(O.n9),{mode:P,initErrorMessage:C,overlay:j}=v,[D]=(0,x.KO)(O.rR),{toToken:U}=D,[F,B]=(0,x.KO)(O.aG),{finalToken:K,buyQuotes:V,selectedBuyQuote:Y}=F;return(et(t,{params:a}),(0,k.useEffect)(()=>{n&&B({action:"BUY_QUOTE_SELECTED",payload:{selectedBuyQuote:n,debug:"handleQuoteSelected"}})},[B,null==n?void 0:n.id]),(0,k.useEffect)(()=>{null==r||r(Y)},[r,Y]),(0,k.useEffect)(()=>{let e=null!=V?V:[];null==s||s(e)},[V,s]),(0,k.useEffect)(()=>{null==o||o("swap"===P?U:K)},[null==K?void 0:K.address,P,o,null==U?void 0:U.address]),(0,k.useEffect)(()=>{E(!!(("m"===d?f:T)&&d))},[f,T,g,d]),(0,k.useEffect)(()=>{(null==j?void 0:j.durationInMs)&&setTimeout(()=>{S({action:"REMOVE_OVERLAY",payload:{debug:"Removing overlay '".concat(j.type,"' after ").concat(null==j?void 0:j.durationInMs," ms")}})},null==j?void 0:j.durationInMs)},[null==j?void 0:j.durationInMs,null==j?void 0:j.type,S]),(0,k.useEffect)(()=>()=>{S({action:"UNLOAD",payload:{debug:"Unload on onmounting TradeWidget"}})},[]),(0,k.useEffect)(()=>{!p&&"miniapp-flow"==t&&!c&&!m&&v.miniappIntent.includes("-complete")&&(u(!0),y(!0))},[t,u,c,v.miniappIntent,p,m]),_)?null:(0,h.jsx)(b.P,{gap:"0",className:w()("trade-widget",l),"data-sentry-element":"StackLayout","data-sentry-component":"TradeWidget","data-sentry-source-file":"trade-widget.tsx",children:(0,h.jsxs)("div",{className:"trade-widget__wrapper",children:[(null==j?void 0:j.type)==="progress-animation"&&(0,h.jsx)(M,{}),(null==j?void 0:j.type)==="confetti-animation"&&(0,h.jsx)(W,{}),C&&(0,h.jsx)(en,{leftIcon:i}),!C&&(0,h.jsx)(np,{leftIcon:i,children:(0,h.jsx)(L,{})})]})})}},40159:function(e,t,a){"use strict";a.d(t,{U:function(){return o},Y:function(){return s}});var n=a(41020);let o={[n.Y.AUD]:"300",[n.Y.ARS]:"20000",[n.Y.BRL]:"500",[n.Y.CAD]:"300",[n.Y.CHF]:"200",[n.Y.EUR]:"200",[n.Y.GBP]:"200",[n.Y.GEL]:"250",[n.Y.GHS]:"1000",[n.Y.HKD]:"800",[n.Y.IDR]:"1500000",[n.Y.ILS]:"400",[n.Y.INR]:"10000",[n.Y.JPY]:"25000",[n.Y.KRW]:"130000",[n.Y.KSH]:"14000",[n.Y.KWD]:"60",[n.Y.NGN]:"45000",[n.Y.PHP]:"10000",[n.Y.PLN]:"400",[n.Y.RON]:"500",[n.Y.SEK]:"1000",[n.Y.SGD]:"250",[n.Y.TRY]:"2000",[n.Y.USD]:"200",[n.Y.UGX]:"400000",[n.Y.ZAR]:"2000",[n.Y.ZMW]:"2000"},s=n.Y.USD},12221:function(e,t,a){"use strict";a.d(t,{I:function(){return c}});var n=a(76411),o=a(40676),s=a.n(o),r=a(28364),i=a(65502),l=a(98193),d=a.n(l);let c=e=>{let{icon:t,className:a}=e;return(0,n.jsx)(i.P,{gap:"0",className:s()(a,d().icon),"data-sentry-element":"StackLayout","data-sentry-component":"IconWithBackground","data-sentry-source-file":"icon-with-background.tsx",children:(0,n.jsx)(r.J,{icon:t,"data-sentry-element":"Icon","data-sentry-source-file":"icon-with-background.tsx"})})}},88302:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var n=a(76411),o=a(40676),s=a.n(o),r=a(50180);let i=(0,r.memo)(function(e){let{tabs:t,initialTab:a,onTabChange:o,activeTabClassName:i,inactiveTabClassName:l}=e,d=(0,r.useRef)({}),[c,u]=(0,r.useState)(a),[m,p]=(0,r.useState)({});(0,r.useEffect)(()=>{u(a)},[a]),(0,r.useEffect)(()=>{if(0===t.length)return;let e=d.current[c.id];e&&p({width:"".concat(e.offsetWidth,"px"),transform:"translateX(".concat(e.offsetLeft,"px)"),transition:"all ".concat(.2,"s ease")})},[c,t]);let y=e=>{e!==c&&(u(e),setTimeout(()=>{o(e)},200))};return(0,n.jsxs)("div",{className:"animated-tabs__tabs-container",children:[(0,n.jsx)("div",{className:"animated-tabs__tabs",children:t.map(e=>(0,n.jsx)("div",{ref:t=>{d.current[e.id]=t},className:s()("animated-tabs__tab-item ".concat((null==c?void 0:c.id)===e.id?"active":""),(null==c?void 0:c.id)===e.id?i:l),onClick:()=>y(e),children:e.text},e.id))}),(null==t?void 0:t.length)>1&&(0,n.jsx)("div",{className:s()("animated-tabs__line"),style:m})]})})},63909:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var n=a(76411),o=a(40676),s=a.n(o),r=a(50180),i=a(83187),l=a(28364),d=a(43350),c=a(44379),u=a(55135);let m=(0,r.forwardRef)((e,t)=>{let{href:a,target:o,icon:m,iconPosition:p="right",copyValue:y,onClick:_,onDelete:E,variant:f="default",size:T="default",children:g,className:v}=e,h=async()=>{await i.C.copyValue({value:y,inputTargetSelector:".copy-value"}),u.F.notificationCopy()},S=s()("chip","chip--variant-".concat(f),"chip--size-".concat(T),"chip--icon-position-".concat(p),v),w=y?h:_,x=(0,r.useMemo)(()=>(0,n.jsxs)(n.Fragment,{children:[g,m&&(0,n.jsx)(l.J,{icon:m,className:"chip__icon"}),null!=E&&(0,n.jsx)(l.J,{type:"button",icon:d.T.CLOSE,className:"chip__delete-btn",onClick:E})]}),[g,m,E]);return null!=a?(0,n.jsx)(c.r,{href:a,target:o,onClick:w,className:S,children:x}):null!=w?(0,n.jsx)("button",{ref:t,onClick:w,className:s()("chip--button",S),children:x}):(0,n.jsx)("div",{ref:t,className:S,children:x})});m.displayName="Chip"},8639:function(e,t,a){"use strict";a.d(t,{FeedbackContext:function(){return u},x:function(){return p}});var n=a(76411),o=a(40676),s=a.n(o),r=a(20814),i=a(8027),l=a(82348),d=a(65502),c=a(23864);let u={ERROR:"ERROR",EMPTY:"EMPTY",NO_RESULT:"NO_RESULT"},m={"liquidity-pools-revalidating":{emoji:{ERROR:"\uD83D\uDD04",EMPTY:"",NO_RESULT:""},title:{ERROR:"Fetching liquidity pools...",EMPTY:"",NO_RESULT:""},message:{ERROR:"",EMPTY:"",NO_RESULT:""},action:{ERROR:"Try Again",EMPTY:"",NO_RESULT:""}},"liquidity-pools":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:""},title:{ERROR:"Couldn't load liquidity pools",EMPTY:"",NO_RESULT:""},message:{ERROR:"We encountered an issue loading the liquidity pools for this token. Please try again.",EMPTY:"",NO_RESULT:""},action:{ERROR:"Try Again",EMPTY:"",NO_RESULT:""}},"widget-token-performance-chart":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading the chart",EMPTY:"",NO_RESULT:"We do not have the chart for this token, yet!"},message:{ERROR:"We are working to fix it",EMPTY:"",NO_RESULT:"We are adding more token by the day, hold tight"},action:{ERROR:"",EMPTY:"",NO_RESULT:""}},"select-token":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading the tokens right now",EMPTY:"",NO_RESULT:"Can't find it."},message:{ERROR:"We are working to fix it",EMPTY:"",NO_RESULT:""},action:{ERROR:"",EMPTY:"",NO_RESULT:""}},"token-security":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:""},title:{ERROR:"Couldnt load security info",EMPTY:"",NO_RESULT:""},message:{ERROR:"We encountered an issue loading the security information  for this token. Please try again.",EMPTY:"",NO_RESULT:""},action:{ERROR:"Try again",EMPTY:"",NO_RESULT:""}},"token-security-revalidating":{emoji:{ERROR:"\uD83D\uDD04",EMPTY:"",NO_RESULT:""},title:{ERROR:"Fetching security info...",EMPTY:"",NO_RESULT:""},message:{ERROR:"",EMPTY:"",NO_RESULT:""},action:{ERROR:"Try Again",EMPTY:"",NO_RESULT:""}},"search-bar":{emoji:{ERROR:"",EMPTY:"\uD83D\uDC40",NO_RESULT:""},title:{ERROR:"",EMPTY:"No result found",NO_RESULT:""},message:{ERROR:"",EMPTY:"",NO_RESULT:""},action:{ERROR:"",EMPTY:"",NO_RESULT:""}},"performance-chart":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading the chart",EMPTY:"",NO_RESULT:"We do not have the chart for this token, yet!"},message:{ERROR:"We are working to fix it",EMPTY:"",NO_RESULT:"We are adding more token by the day, hold tight"},action:{ERROR:"",EMPTY:"",NO_RESULT:""}},"all-tokens":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading the tokens right now",EMPTY:"",NO_RESULT:"Can't find it. Is your token listed?"},message:{ERROR:"We are working to fix it",EMPTY:"",NO_RESULT:""},action:{ERROR:"",EMPTY:"",NO_RESULT:"List your token"}},"my-tokens":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"\uD83E\uDD11",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading the tokens right now",EMPTY:"Connect your wallet to view your tokens",NO_RESULT:"Can't find it. Is your token listed?"},message:{ERROR:"We are working to fix it",EMPTY:"",NO_RESULT:""},action:{ERROR:"",EMPTY:"Connect",NO_RESULT:"List your token"}},"trade-page-tokens-table":{emoji:{ERROR:"\uD83D\uDEE0",EMPTY:"\uD83D\uDE2E",NO_RESULT:"\uD83D\uDC40"},title:{ERROR:"We have an issue loading tokens right now",EMPTY:"No tokens in this wallet",NO_RESULT:"No result found"},message:{ERROR:"",EMPTY:"",NO_RESULT:"Try to change the filter setting"},action:{ERROR:"",EMPTY:"Connect",NO_RESULT:""}}},p=e=>{let{namespace:t,context:a,className:o,onActionClick:u,actionHref:p,actionLinkTarget:y}=e,_=m[t],E=null==_?void 0:_.emoji[a],f=null==_?void 0:_.title[a],T=null==_?void 0:_.message[a],g=null==_?void 0:_.action[a];return(0,n.jsxs)(d.P,{className:s()("feedback",o),gap:"100",alignItems:"center",grow:"1",justifyContent:"center","data-sentry-element":"StackLayout","data-sentry-component":"Feedback","data-sentry-source-file":"feedback.tsx",children:[(0,n.jsxs)(d.P,{direction:"column",gap:"50","data-sentry-element":"StackLayout","data-sentry-source-file":"feedback.tsx",children:[(0,n.jsx)("p",{className:"feedback__emoji",children:E}),(0,n.jsx)(l.X,{size:"h5","data-sentry-element":"Heading","data-sentry-source-file":"feedback.tsx",children:f}),T&&(0,n.jsx)(c.x,{size:"m",color:"muted",fontWeight:"light",children:T})]}),g&&null!=u&&null==p&&(0,n.jsx)(r.z,{size:"m",variant:"secondary",onClick:u,children:g}),g&&null!=p&&(0,n.jsx)(i.ButtonLink,{size:"m",variant:"secondary",href:p,target:y,children:g})]})}},11843:function(e,t,a){"use strict";a.d(t,{b:function(){return p}});var n=a(76411),o=a(40676),s=a.n(o),r=a(28364),i=a(43350),l=a(65502),d=a(23864),c=a(4943),u=a(44379);let m=e=>{let{primaryInfo:t,secondaryInfo:a,link:o,linkTarget:r,className:i}=e;return(0,n.jsxs)(l.P,{className:s()("info-tooltip-content",i),gap:"75",direction:"column","data-sentry-element":"StackLayout","data-sentry-component":"InfoTooltipContent","data-sentry-source-file":"info-tooltip-content.tsx",children:[(0,n.jsx)(d.x,{size:"m",color:"white","data-sentry-element":"Text","data-sentry-source-file":"info-tooltip-content.tsx",children:o?(0,n.jsx)(u.r,{href:o,target:r,children:t}):t}),a&&(0,n.jsx)("div",{className:"info-tooltip-content__secondary-info",children:(0,n.jsx)(d.x,{size:"m",fontWeight:"regular",children:a})})]})},p=e=>{let{label:t,labelSize:a="l",labelFontWeight:o="regular",className:u,containerClassName:p,iconClassName:y,..._}=e;return(0,n.jsxs)(l.P,{gap:"25",direction:"row",alignItems:"center",className:p,"data-sentry-element":"StackLayout","data-sentry-component":"InfoTooltip","data-sentry-source-file":"info-tooltip.tsx",children:[t&&(0,n.jsx)(d.x,{size:a,fontWeight:o,children:t}),(0,n.jsx)(c.u,{className:s()("info-tooltip",u),contentClassName:"info-tooltip__content-wrapper",tooltipContent:(0,n.jsx)(m,{..._}),"data-sentry-element":"Tooltip","data-sentry-source-file":"info-tooltip.tsx",children:(0,n.jsx)(l.P,{gap:"0","data-sentry-element":"StackLayout","data-sentry-source-file":"info-tooltip.tsx",children:(0,n.jsx)(r.J,{icon:i.T.INFO,className:y,"data-sentry-element":"Icon","data-sentry-source-file":"info-tooltip.tsx"})})})]})}},42250:function(e,t,a){"use strict";a.d(t,{M:function(){return m},U:function(){return c}});var n=a(76411),o=a(40676),s=a.n(o),r=a(50180),i=a(61902),l=a(65502),d=a(54057);let c=(0,r.forwardRef)((e,t)=>{var a;let{className:o,value:r,maxLength:i,severity:c,variant:u,readOnly:m,isLoading:p,extraBottomMargin:y,..._}=e;return(0,n.jsxs)(l.P,{direction:"column",gap:"50",className:s()("input-field",o),children:[(0,n.jsx)("input",{className:s()("input-field__input",{"input-field__input--readonly":m},{["input-field__input--severity-".concat(c)]:null!=c},{"input-field__input--quiet":"quiet"===u},{"input-field__input--extra-bottom-margin":y}),ref:t,value:r,maxLength:i,readOnly:m,autoComplete:"off",autoCorrect:"off",spellCheck:"false",..._}),p&&(0,n.jsx)(d.g,{className:"input-field__loader"}),i&&(0,n.jsxs)("p",{className:"input-field__max-length",children:[null!==(a=null==r?void 0:r.length)&&void 0!==a?a:0,"/",i]})]})});c.displayName="InputField";let u=(0,i._z)(e=>{let{inputRef:t,...a}=e;return(0,n.jsx)(c,{ref:t,...a})}),m=e=>{let{placeholder:t,value:a,...o}=e;return(0,n.jsx)(u,{placeholder:t,value:a,...o,"data-sentry-element":"InternalInputFieldMasked","data-sentry-component":"InputFieldMasked","data-sentry-source-file":"input-field.tsx"})}},70959:function(e,t,a){"use strict";a.d(t,{F:function(){return m}});var n=a(76411),o=a(40676),s=a.n(o),r=a(50180),i=a(62076),l=a.n(i),d=a(82518);let c={[d.r.ERROR]:"/assets/lottie/error.json",[d.r.LOADING]:"/assets/lottie/loading.json",[d.r.SIMPLE_SPINNER]:"/assets/lottie/simple-spinner.json",[d.r.SPINNER]:"/assets/lottie/spinner.json",[d.r.SUCCESS]:"/assets/lottie/success.json",[d.r.SWITCH]:"/assets/lottie/switch.json",[d.r.VERIFIED_TOKEN]:"/assets/lottie/verified-token.json"},u=e=>{let{container:t,loopsOnMount:a,speed:n,animation:o,...s}=e,i=(0,r.useRef)(s),d=(0,r.useRef)(n),[u,m]=(0,r.useState)(),p=(0,r.useCallback)(e=>{e?null==u||u.playSegments([0,e],!0):null==u||u.goToAndPlay(0,!0)},[u]),y=(0,r.useCallback)(()=>{null==u||u.goToAndStop(0)},[u]);return(0,r.useEffect)(()=>{if(!t)return;let e=0,n=l().loadAnimation({container:t,renderer:"svg",loop:!1,autoplay:!1,path:c[o],...i.current});return m(n),d.current&&(null==n||n.setSpeed(d.current)),a&&(e++,n.goToAndPlay(0,!0)),n.addEventListener("complete",()=>{a&&e<a&&(e++,n.goToAndPlay(0,!0))}),()=>{n.destroy()}},[o,t,a]),{playAnimation:p,resetAnimation:y,animationItem:u}},m=e=>{let{animationParams:t,className:a,onClick:o,...i}=e,[l,d]=(0,r.useState)(null),{playAnimation:c}=u({container:l,...t}),m=(0,r.useCallback)(e=>{t.playOnClick&&c(),null==o||o(e)},[t.playOnClick,c,o]);return(0,n.jsx)("div",{className:s()("lottie-animation",a),ref:d,onClick:m,...i,"data-sentry-component":"LottieAnimation","data-sentry-source-file":"lottie-animation.tsx"})}},78356:function(e,t,a){"use strict";a.d(t,{L:function(){return i}});var n=a(76411),o=a(12670),s=a(54057),r=a(42217);let i=e=>{var t;let{address:a,network:i,primaryColor:l,mode:d,className:c,cta:u}=e,{data:m}=(0,o.d)({pathParameters:{tokenAddress:a},queryParameters:{network:i,filteroutBlacklisted:!1}},{enabled:null!=a});return m?(0,n.jsx)(r.Market,{usdValue:null==m?void 0:m.usdValue,marketCap:null==m?void 0:m.marketCap,volumeUsdStatsDaily:null==m?void 0:null===(t=m.volumeUsdStats)||void 0===t?void 0:t.daily,address:a,network:i,tokenIcon:null==m?void 0:m.logo,className:c,mode:d,placeholder:(0,n.jsx)(s.g,{}),cta:u,tokenName:m.name,tokenSymbol:m.symbol,primaryColor:l,"data-sentry-element":"Market","data-sentry-component":"MarketClient","data-sentry-source-file":"market.client.tsx"}):null}},4943:function(e,t,a){"use strict";a.d(t,{u:function(){return p}});var n=a(76411),o=a(53997),s=a(61281),r=a(77467),i=a(40676),l=a.n(i),d=a(11071),c=a(31489),u=a(50180);let m=e=>({top:"bottom",right:"left",left:"right",bottom:"top"})[e.split("-")[0]],p=e=>{let{className:t,children:a,renderContent:i,tooltipContent:p,mouseOnly:y,contentClassName:_,...E}=e,[f,T]=(0,u.useState)(!1),g=(0,u.useRef)(null),{x:v,y:h,strategy:S,context:w,refs:x,update:k,middlewareData:b,placement:R}=(0,o.YF)({...E,open:f,onOpenChange:T,middleware:[(0,s.cv)(5),(0,s.RR)(),(0,s.uY)(),(0,s.x7)({element:g})]});(0,u.useEffect)(()=>{if(x.reference.current&&x.floating.current&&f)return(0,r.Me)(x.reference.current,x.floating.current,k)},[f,k,x.reference,x.floating]);let{getReferenceProps:N,getFloatingProps:A}=(0,o.NI)([(0,o.XI)(w,{mouseOnly:y,handleClose:(0,o.xp)(),restMs:y?void 0:40}),(0,o.KK)(w),(0,o.qs)(w,{role:"tooltip"}),(0,o.bQ)(w,{outsidePressEvent:"mousedown"})]),I=(0,u.useMemo)(()=>{var e,t,a,n;return{top:null!==(a=null===(e=b.arrow)||void 0===e?void 0:e.y)&&void 0!==a?a:"",left:null!==(n=null===(t=b.arrow)||void 0===t?void 0:t.x)&&void 0!==n?n:"",[m(R)]:"-4px"}},[b.arrow,R]),P=(0,u.useMemo)(()=>A({ref:x.floating,className:l()("tooltip__content",_),style:{position:S,top:null!=h?h:"",left:null!=v?v:""}}),[A,x.floating,_,S,h,v]);return(0,n.jsxs)("div",{className:l()("tooltip",t),"data-sentry-component":"Tooltip","data-sentry-source-file":"tooltip.tsx",children:[(0,u.isValidElement)(a)&&(0,u.cloneElement)(a,N()),f&&(0,n.jsx)(d.M,{children:(0,n.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",damping:20,stiffness:200},...P,children:[null==i?void 0:i(),p,(0,n.jsx)("div",{className:"tooltip__arrow",ref:g,style:I})]})})]})}},71306:function(e,t,a){"use strict";a.d(t,{_:function(){return s}});var n=a(32829);class o{constructor(){this.isMacDevice=()=>n.Q5,this.isAndroidDevice=()=>n.Dt,this.isIOSDevice=()=>n.gn,this.isSafari=()=>n.G6,this.isFirefox=()=>n.vU,this.isBrave=async()=>{var e,t;return(null===(e=navigator)||void 0===e?void 0:e.brave)&&await (null===(t=navigator)||void 0===t?void 0:t.brave.isBrave())||!1},this.isMobileDevice=()=>this.isAndroidDevice()||this.isIOSDevice()}}let s=new o},21300:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});var n=a(73563),o=a(47203),s=a(19454);let r=(e,t)=>(0,n.useQuery)(o.a.searchTokens(e),()=>s.F.searchTokens(e),t)},47203:function(e,t,a){"use strict";var n,o;a.d(t,{a:function(){return s}}),(o=n||(n={})).SEARCH_ITEMS="SEARCH_FLOOZ_API_SEARCH_ITEMS",o.SEARCH_TOKENS="SEARCH_FLOOZ_API_SEARCH_TOKENS",o.SEARCH_ITEMS_V2="SEARCH_FLOOZ_API_SEARCH_ITEMS_V2";let s={searchItems:e=>["SEARCH_FLOOZ_API_SEARCH_ITEMS",e],searchItemsV2:e=>["SEARCH_FLOOZ_API_SEARCH_ITEMS_V2",e],searchTokens:e=>["SEARCH_FLOOZ_API_SEARCH_TOKENS",e]}},19454:function(e,t,a){"use strict";a.d(t,{F:function(){return l}});var n,o,s=a(79569),r=a(15103);(n=o||(o={})).SEARCH_V2="v2/search",n.TOKENS_SEARCH="v1/search/meili";class i extends s.g{constructor(){super({context:""}),this.searchTokens=async e=>{let{queryParameters:t}=e,{data:a}=await this.http.get((0,r.Gn)("v1/search/meili"),{params:t});return a},this.searchItemsV2=async(e,t)=>{let{queryParameters:a}=e,{data:n}=await this.http.get((0,r.Gn)("v2/search"),{params:{...a,pageNumber:t},baseURL:"".concat("https://api.flooz.trade")});return n}}}let l=new i},65632:function(e,t,a){"use strict";a.d(t,{M:function(){return m}});var n=a(80186),o=a(86576),s=a(55113);let r={partners:s.v.PARTNERS_PORTAL,onboard:"".concat(s.v.PARTNERS_PORTAL,"/get-started"),manage:"".concat(s.v.PARTNERS_PORTAL,"/manage")};var i=a(35268),l=a(93031),d=a(14360);let c={[i.U.tokenDetails]:{route:i.U.tokenDetails,hasMobileWidget:!0},[d.r.wallet]:{route:d.r.wallet,hasMobileWidget:!0},[l.O.trade]:{route:l.O.trade,hasMobileWidget:!0},[l.O.swap]:{route:l.O.swap,hideMobileNavigation:!1,showToTokenLinksInTradeWidget:!0},[o.J.buy]:{route:o.J.buy,hideMobileNavigation:!1},[n.D.discover]:{route:n.D.discover},[l.O.embedTrade]:{route:l.O.embedTrade,showToTokenLinksInTradeWidget:!0},[r.partners]:{route:r.partners,hideFooter:!0}};class u{constructor(){this.isPathnameMatchWithDynamicRoute=(e,t)=>{let a=new RegExp("^".concat(t.replace(/:(\w+)/g,"([^/]+)"),"$"));return!!e.match(a)},this.getRouteDefinition=e=>Object.values(c).find(t=>this.isPathnameMatchWithDynamicRoute(e,t.route)),this.isActive=(e,t)=>this.isPathnameMatchWithDynamicRoute(e,t)}}let m=new u},40651:function(e,t,a){"use strict";a.d(t,{S:function(){return i}}),(n=o||(o={})).ONRAMP="onramp",n.OFFRAMP="offramp";var n,o,s=a(22790);class r{constructor(){this.getTokenAmountInUSD=(e,t)=>(parseFloat(null!=e?e:"0")*parseFloat(null!=t?t:"0")).toFixed(2),this.filterTokenByName=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.toLowerCase().includes(null==a?void 0:a.toLowerCase())||t.toLowerCase().includes(a.toLowerCase())},this.filterTokenByNetwork=(e,t)=>null==t||t===e,this.filterTokenByStatus=(e,t)=>null==t||t===e,this.filterTokenByRampProvider=(e,t)=>null==t||t===o.OFFRAMP&&(null==e?void 0:e.some(e=>e.allowsSellingToken))||t===o.ONRAMP&&(null==e?void 0:e.some(e=>e.allowsBuyingToken)),this.generateReportTokenHref=(e,t)=>"".concat(s.Ve,"?subject=Reporting ").concat(e.name,"&body=I would like to report ").concat(e.address,"::").concat(e.network," (").concat(e.symbol,") token on ").concat("https://flooz.xyz"+t),this.getCombinedTokens=e=>{var t;let a=new Map;return e.forEach(e=>{e.forEach(e=>{let t=e.address.toLowerCase(),n=a.get(t);n?a.set(t,{...n,...e}):a.set(t,e)})}),null!==(t=Array.from(a.values()))&&void 0!==t?t:[]}}}let i=new r},97280:function(e,t,a){"use strict";var n,o;a.d(t,{f:function(){return n}}),(o=n||(n={})).LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"},18002:function(e,t,a){"use strict";a.d(t,{N:function(){return n},v:function(){return o}});let n="trade-widget-ramp-success-channel",o="".concat("https://flooz.xyz","/on-ramp-return")},84409:function(e,t,a){"use strict";var n,o;a.d(t,{I:function(){return n}}),(o=n||(n={})).CREATE_SWAP_TX_ERROR="create_swap_tx_error",o.SEND_APPROVE_TX_ERROR="send_approve_tx_error",o.SEND_SWAP_TX_ERROR="send_swap_tx_error",o.APPROVE_SUCCESS="approve_success",o.APPROVE_SIGN_REQUEST="approve_sign_request",o.APPROVE_SIGN_SUCCESS="approve_sign_success",o.APPROVE_SIGN_ERROR="approve_sign_error",o.SWAP_SUCCESS="swap_success",o.SWAP_SIGN_REQUEST="swap_sign_request",o.SWAP_SIGN_SUCCESS="swap_sign_success",o.SWAP_SIGN_ERROR="swap_sign_error",o.SCW_CREATE_SWAP_TX_ERROR="scw_create_swap_tx_error",o.SCW_SEND_SWAP_TX_ERROR="scw_send_swap_tx_error"},63978:function(e,t,a){"use strict";a.d(t,{Af:function(){return r},FE:function(){return s},kQ:function(){return n}});let n="SwapView",o=["BuyView","SelectFromFiatView","SelectTokenToBuyView","SelectPaymentView","interstitial","providerScreen","DirectBuyProgressView","IndirectBuyProgressView","SettingsView"],s="BuyView";function r(e){return o.includes(e)}},26142:function(e,t,a){"use strict";a.d(t,{aG:function(){return I},$f:function(){return P},rR:function(){return A},n9:function(){return N}});var n=a(560),o=a(31001),s=a(14012),r=a.n(s),i=a(59031),l=a(40159),d=a(38374),c=a(16278);let u={fromFiat:d.uz.id,fromFiatAmount:"",finalTokenAmount:"",lockFinalToken:!1,network:i.a9.id,debug:"initial"},m=e=>{let{callerData:t,action:a}=e;return"Caller: ".concat(t," | Action: buyReducer=>").concat(a)},p=(e,t)=>{var a;let{partnerWidgetBuyQuote:n}=e,{buyQuotes:o,network:s}=t,i={},l=r().isEqual(o,e.buyQuotes),d=o.find(e=>e.isValid&&e.paymentType===(null==n?void 0:n.paymentType)&&e.provider===(null==n?void 0:n.rampProviderId));if(d){let e=o.map(e=>({...e,isBestRate:e.id===d.id}));i.buyQuotes=e,i.selectedBuyQuote=d}else i.buyQuotes=l?e.buyQuotes:o,i.selectedBuyQuote=l?e.selectedBuyQuote:c.s.getBestRateQuote(o);return i.finalTokenAmount="direct"===e.buyMode?null===(a=i.selectedBuyQuote)||void 0===a?void 0:a.amountInCryptoAsset:void 0,i.network=null!=s?s:e.network,{...e,...i,debug:m({callerData:t.debug,action:"BUY_QUOTES_RECEIVED"})}},y=(e,t)=>{let{swapQuote:a}=t,n={},o=r().isEqual(a,e.swapQuote);return n.swapQuote=o?e.swapQuote:a,n.finalTokenAmount=null==a?void 0:a.amount,{...e,...n,debug:m({callerData:t.debug,action:"SWAP_QUOTE_RECEIVED"})}},_=(e,t)=>{var a;let{toToken:n}=t,o=c.s.isTokenSupported({partialToken:n,isEmbedded:!1})?"direct":"indirect",s="direct"===o?void 0:i.Eu[null!==(a=null==n?void 0:n.network)&&void 0!==a?a:i.a9.id].nativeCurrency,r={network:n.network,intermediaryToken:s,finalToken:n,finalTokenAmount:"",buyQuotes:void 0,selectedBuyQuote:void 0,swapQuote:void 0,buyMode:o};return{...e,...r,debug:m({callerData:t.debug,action:"TO_TOKEN_CHANGED"})}};var E=a(17086),f=a(69644),T=a(37456),g=a(97280),v=a(8624);let h={network:i.a9.id,fetchQuoteFor:"toToken",fromTokenAmount:"",toTokenAmount:"",lockToToken:!1,gasPriceLevel:g.f.HIGH,defaultSlippage:E.M,quote:void 0,debug:"initial"},S=e=>{let{callerData:t,action:a}=e;return"Caller: ".concat(t," | Action: swapReducer=>").concat(a)},w=e=>{var t,a;let{fromToken:n,toToken:o}=e,s=v.u.getSwapSlippage({fromTokenSellFees:null!==(t=null==n?void 0:n.sellFees)&&void 0!==t?t:0,toTokenBuyFees:null!==(a=null==o?void 0:o.buyFees)&&void 0!==a?a:0}).toString();return Number(s)<Number(E.M)?E.M:s},x=(e,t)=>{let{network:a,fromToken:n,fromTokenAmount:o,toToken:s}=t;return{...e,fetchQuoteFor:"fromToken",network:a,fromToken:n,fromTokenAmount:o,toToken:s,toTokenAmount:"",debug:S({callerData:t.debug,action:"INITIATE_BUY_ANY_SWAP"})}};var k=a(63978);let b={mode:"swap",flowId:"swap-token-flow",view:k.kQ,isSwapEnabled:!0,isBuyEnabled:!0,isEmbedded:!1,initErrorMessage:"",isInitialized:!1,miniappIntent:"swap",debug:"initial"},R=e=>{let{callerData:t,action:a}=e;return"Caller: ".concat(t," | Action: widgetReducer=>").concat(a)},N=(0,o.w0)(b,(e,t)=>{let a=t.action;switch(a){case"INIT_IN_MINIAPP_MODE":return{...e,mode:t.payload.miniappIntent.includes("swap")?"swap":"buy",flowId:"miniapp-flow",view:t.payload.miniappIntent.includes("swap")?k.kQ:k.FE,isBuyEnabled:!0,isSwapEnabled:!0,isEmbedded:!1,initErrorMessage:"",isInitialized:!0,miniappIntent:t.payload.miniappIntent,debug:R({callerData:t.payload.debug,action:a})};case"INIT_IN_BUY_MODE":return{...e,mode:"buy",flowId:"buy-token-flow",view:k.FE,destinationWallet:t.payload.destinationWallet,isSwapEnabled:t.payload.isSwapEnabled,isBuyEnabled:!0,isEmbedded:t.payload.isEmbedded,initErrorMessage:"",isInitialized:!0,debug:R({callerData:t.payload.debug,action:a})};case"INIT_IN_SWAP_MODE":return{...e,mode:"swap",flowId:"swap-token-flow",view:k.kQ,isSwapEnabled:!0,isBuyEnabled:t.payload.isBuyEnabled,isEmbedded:t.payload.isEmbedded,initErrorMessage:"",isInitialized:!0,debug:R({callerData:t.payload.debug,action:a})};case"INIT_IN_COMPLETE_BUY_ANY_MODE":return{...e,mode:"swap",flowId:"complete-buy-any-tx-flow",view:k.kQ,isSwapEnabled:!0,isBuyEnabled:!1,isEmbedded:!1,initErrorMessage:"",isInitialized:!0,debug:R({callerData:t.payload.debug,action:a})};case"INIT_IN_ERROR_STATE":return{...e,isSwapEnabled:!1,isBuyEnabled:!1,initErrorMessage:t.payload.initErrorMessage,isInitialized:!0,debug:R({callerData:t.payload.debug,action:a})};case"SET_MODE":var n;let{mode:o}=t.payload,[s,r]=(null===(n=e.miniappIntent)||void 0===n?void 0:n.includes("-complete"))?["swap-complete","buy-complete"]:["swap","buy"];return{...e,mode:o,miniappIntent:"swap"===o?s:r,view:"swap"===o?k.kQ:k.FE,debug:R({callerData:t.payload.debug,action:a})};case"SET_VIEW":let{view:i}=t.payload;return{...e,mode:(0,k.Af)(i)?"buy":"swap",view:i,debug:R({callerData:t.payload.debug,action:a})};case"RESET_VIEW":return{...e,mode:(0,k.Af)(e.view)?"buy":"swap",view:(0,k.Af)(e.view)?k.FE:k.kQ,debug:R({action:a})};case"SET_OVERLAY":let{overlay:l}=t.payload;return{...e,overlay:l,debug:R({callerData:t.payload.debug,action:a})};case"REMOVE_OVERLAY":return{...e,overlay:void 0,debug:R({callerData:t.payload.debug,action:a})};case"UNLOAD":return{...e,isInitialized:!1,debug:R({callerData:t.payload.debug,action:a})};default:return{...e}}}),A=(0,o.w0)(h,(e,t)=>{var a,n,o,s,r;let l=t.action;switch(l){case"INIT_SWAP_TOKEN_TO_TOKEN":return{...e,defaultSlippage:w({fromToken:null==t?void 0:null===(a=t.payload)||void 0===a?void 0:a.fromToken,toToken:null==t?void 0:null===(n=t.payload)||void 0===n?void 0:n.toToken}),network:t.payload.network,fetchQuoteFor:"toToken",fromToken:t.payload.fromToken,fromTokenAmount:null!==(o=t.payload.fromTokenAmount)&&void 0!==o?o:"",toToken:t.payload.toToken,toTokenAmount:"",lockToToken:!!t.payload.toToken&&t.payload.lockToToken,txHash:void 0,quoteId:void 0,error:void 0,debug:S({callerData:t.payload.debug,action:l})};case"INIT_COMPLETE_BUY_ANY":return{...e,network:t.payload.fromToken.network,fetchQuoteFor:"toToken",fromToken:t.payload.fromToken,fromTokenAmount:t.payload.fromTokenAmount,toToken:t.payload.toToken,toTokenAmount:"",lockToToken:!0,txHash:void 0,quoteId:t.payload.quoteId,error:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_FROM_TOKEN":let{fromToken:d}=t.payload,c=e.toToken,u=f.a.areSameToken(d,c),m=u?void 0:c;m=(null==m?void 0:m.network)!==(null==d?void 0:d.network)?void 0:m;let p=w({fromToken:d,toToken:c}),y=!f.a.areSameToken(c,m),_=T.s.isValidPositiveNumber(e.toTokenAmount);return{...e,fromToken:d,network:null!==(s=null==d?void 0:d.network)&&void 0!==s?s:i.cU.ETHEREUM_MAINNET,toToken:m,toTokenAmount:_||y||u?"":e.toTokenAmount,defaultSlippage:p,customSlippage:void 0,quoteId:void 0,quote:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_FROM_TOKEN_AMOUNT":let{fromTokenAmount:E}=t.payload;return{...e,fromTokenAmount:E,toTokenAmount:T.s.isValidPositiveNumber(E)?e.toTokenAmount:"",quote:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_TO_TOKEN":let{toToken:g}=t.payload,v=e.fromToken,h=f.a.areSameToken(v,g)?void 0:v;return{...e,fetchQuoteFor:"toToken",toToken:g,toTokenAmount:"",network:(null==g?void 0:g.network)||(null===(r=e.fromToken)||void 0===r?void 0:r.network)||i.a9.id,fromToken:h,customSlippage:void 0,defaultSlippage:w({fromToken:v,toToken:g}),quoteId:void 0,quote:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_TO_TOKEN_AMOUNT":let{toTokenAmount:k}=t.payload;return{...e,toTokenAmount:k,debug:S({callerData:t.payload.debug,action:l})};case"SET_QUOTE_FOR_FROM_TOKEN":let{quote:b}=t.payload;return{...e,quote:b,fromTokenAmount:t.payload.fromTokenAmount,debug:S({callerData:t.payload.debug,action:l})};case"SET_QUOTE_FOR_TO_TOKEN":let{quote:R,toTokenAmount:N}=t.payload;return{...e,quote:R,toTokenAmount:N,debug:S({callerData:t.payload.debug,action:l})};case"SET_SWAP_SUCCESS":let{txHash:A}=t.payload;return{...e,txHash:A,error:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_SWAP_ERROR":let{error:I}=t.payload;return{...e,error:I,debug:S({callerData:t.payload.debug,action:l})};case"RESET_ERROR":return{...e,error:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SWITCH_TOKENS":let P=T.s.isValidPositiveNumber(e.toTokenAmount);return{...e,toToken:e.fromToken,fromToken:e.toToken,fromTokenAmount:P?e.toTokenAmount:"",toTokenAmount:"",customSlippage:void 0,defaultSlippage:w({fromToken:e.fromToken,toToken:e.toToken}),quoteId:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_NETWORK":let{network:O}=t.payload;return{...e,network:O,quoteId:void 0,debug:S({callerData:t.payload.debug,action:l})};case"SET_NETWORK_SPEED":let{gasPriceLevel:C}=t.payload;return{...e,gasPriceLevel:C,debug:S({callerData:t.payload.debug,action:l})};case"SET_CUSTOM_SLIPPAGE":let{customSlippage:j}=t.payload;return{...e,customSlippage:j,debug:S({callerData:t.payload.debug,action:l})};case"REMOVE_CUSTOM_SLIPPAGE":return{...e,customSlippage:void 0,debug:S({callerData:t.payload.debug,action:l})};case"INITIATE_BUY_ANY_SWAP":return x(e,t.payload);default:return{...e}}}),I=(0,o.w0)(u,(e,t)=>{let a=t.action;switch(a){case"INIT_BUY_TOKEN":return{...e,..._(e,t.payload),network:t.payload.network,fromFiat:t.payload.fromFiat,fromFiatAmount:t.payload.fromFiatAmount,lockFinalToken:t.payload.lockFinalToken,partnerWidgetBuyQuote:t.payload.partnerWidgetBuyQuote,debug:m({callerData:t.payload.debug,action:a})};case"INIT_BUY_DEFAULT_NATIVE":return{...e,buyMode:"direct",fromFiat:t.payload.fromFiat,fromFiatAmount:t.payload.fromFiatAmount,intermediaryToken:void 0,finalToken:i.Eu[i.a9.id].nativeCurrency,finalTokenAmount:"",lockFinalToken:!1,buyQuotes:void 0,selectedBuyQuote:void 0,swapQuote:void 0,debug:m({callerData:t.payload.debug,action:a})};case"SET_FROM_FIAT":let{fromFiat:n}=t.payload,o=n?l.U[n]:"";return{...e,buyQuotes:void 0,selectedBuyQuote:void 0,fromFiat:n,fromFiatAmount:o,partnerWidgetBuyQuote:void 0,debug:m({callerData:t.payload.debug,action:a})};case"SET_FROM_FIAT_AMOUNT":let{fromFiatAmount:s}=t.payload;return{...e,buyQuotes:void 0,selectedBuyQuote:void 0,fromFiatAmount:s,partnerWidgetBuyQuote:void 0,debug:m({callerData:t.payload.debug,action:a})};case"BUY_QUOTES_RECEIVED":return p(e,t.payload);case"BUY_QUOTE_SELECTED":let{selectedBuyQuote:r}=t.payload;return{...e,selectedBuyQuote:r,partnerWidgetBuyQuote:void 0,debug:m({callerData:t.payload.debug,action:a})};case"SWAP_QUOTE_RECEIVED":return y(e,t.payload);case"TO_TOKEN_CHANGED":return _(e,t.payload);case"SET_NETWORK":let{network:d}=t.payload;return{...e,network:d,partnerWidgetBuyQuote:void 0,debug:m({callerData:t.payload.debug,action:a})};default:return{...e}}}),P=(0,n.cn)(!1)},50320:function(e,t,a){"use strict";a.d(t,{Ds:function(){return d},Kf:function(){return i},UT:function(){return l},Wz:function(){return c}});var n=a(17086),o=a(24315),s=a(18002),r=a(84409);let i=e=>{let{network:t,fromToken:a,toToken:n,fromTokenAmount:o,toTokenAmount:s,slippage:r,gasPriceLevel:i}=e;return{network:t,fromToken:a,toToken:n,fromTokenAmount:o,toTokenAmount:s,gasPriceLevel:i,slippage:r}},l=(e,t)=>{switch(e){case r.I.APPROVE_SUCCESS:return"approve_success";case r.I.APPROVE_SIGN_REQUEST:return"approve_sign_request";case r.I.APPROVE_SIGN_SUCCESS:return"approve_sign_success";case r.I.APPROVE_SIGN_ERROR:return"approve_sign_error";case r.I.SWAP_SUCCESS:return"swap";case r.I.SWAP_SIGN_REQUEST:return"swap_sign_request";case r.I.SWAP_SIGN_SUCCESS:return"swap_sign_success";case r.I.SWAP_SIGN_ERROR:var a;return(null===(a=o.C.getSwapError(t))||void 0===a?void 0:a.id)===n.i.TRANSACTION_REJECTED?"swap_sign_reject":"swap_sign_error";case r.I.CREATE_SWAP_TX_ERROR:case r.I.SCW_CREATE_SWAP_TX_ERROR:case r.I.SEND_SWAP_TX_ERROR:case r.I.SCW_SEND_SWAP_TX_ERROR:return"swap_error";case r.I.SEND_APPROVE_TX_ERROR:return"approve_error"}},d=(e,t)=>{switch(e){case r.I.APPROVE_SIGN_ERROR:if(t===n.i.TRANSACTION_REJECTED)return r.I.APPROVE_SIGN_ERROR;return r.I.SEND_APPROVE_TX_ERROR;case r.I.SWAP_SIGN_ERROR:if(t===n.i.TRANSACTION_REJECTED)return r.I.SWAP_SIGN_ERROR;return r.I.SEND_SWAP_TX_ERROR;default:return e}},c=()=>{try{let e=new BroadcastChannel(s.N);return e.postMessage("on ramp return success"),()=>{e.close()}}catch(e){window.parent.postMessage({},"*")}}},16278:function(e,t,a){"use strict";a.d(t,{s:function(){return l}});var n=a(21818),o=a(68434),s=a(96507),r=a(71306);class i{constructor(){this.isApplePayError=e=>e===s.A.APPLE_PAY&&!r._.isSafari(),this.getBestRateQuote=e=>(null!=e?e:[]).find(e=>{let{isBestRate:t}=e;return t}),this.getEnabledRampProviders=e=>{var t;let a="embedded"===e?"TRANSAK":"RAMP_NETWORK,MOONPAY,TRANSAK,MERCURYO";return null!==(t=null==a?void 0:a.split(","))&&void 0!==t?t:[]},this.isTokenSupported=e=>{let{partialToken:t,isEmbedded:a}=e,n=this.getEnabledRampProviders(!0===a?"embedded":"regular"),{rampProviders:o=[]}=null!=t?t:{};return o.some(e=>null==n?void 0:n.includes(e.providerId))},this.formValuesToRampTransactionData=e=>{let{buyQuote:t,fiatAmount:a,fiatId:s,userAddress:i,partialToken:l,email:d,finalPartialToken:c,refId:u}=e;if((null==t?void 0:t.id)==null||null==l||null==i)return;let m=c?o.L.INDIRECT:o.L.DIRECT,p=r._.isSafari()?n.B.SAFARI_WEB_BROWSER:n.B.GENERIC_WEB_BROWSER;return{quoteId:t.id,tokenAddress:l.address,tokenSymbol:l.symbol,network:l.network,fiatAmount:Number(a),fiatSymbol:s,userAddress:i,paymentType:t.paymentType,provider:t.provider,rate:t.cryptoAssetUnitPrice.toString(),client:p,type:m,email:d,indirectTokenAddress:null==c?void 0:c.address,referralId:u}},this.isRampProviderSupportedInEmbeddedMode=e=>{let t=this.getEnabledRampProviders("embedded");return null!=e&&(null==t?void 0:t.includes(e))}}}let l=new i},8624:function(e,t,a){"use strict";a.d(t,{u:function(){return p}});var n,o,s,r,i=a(6650),l=a(59031),d=a(69644),c=a(97280),u=a(24315);(n=s||(s={})).TOKEN_AMOUNT_REQUIRED="TOKEN_AMOUNT_REQUIRED",n.TOKEN_AMOUNT_INSUFFICIENT_BALANCE="TOKEN_AMOUNT_INSUFFICIENT_BALANCE",n.TOKEN_FIELD_REQUIRED="TOKEN_FIELD_REQUIRED",(o=r||(r={})).SWAP="SWAP",o.WRAP="WRAP",o.UNWRAP="UNWRAP",o.UNKNOWN="UNKNOWN";class m{constructor(){this.minSwapBalance=d.a.toBaseUnit("0.01",l.U.decimals),this.validateTokenAmount=e=>{let{amount:t,isFromField:a=!1,maxBalance:n="0",decimals:o=l.zo}=e;if(!this.validateStringAmount(t,o))return"TOKEN_AMOUNT_REQUIRED";let s=d.a.toBaseUnit(t,o),r=d.a.toBaseUnit(n,o);if(a&&s>r)return"TOKEN_AMOUNT_INSUFFICIENT_BALANCE"},this.validateStringAmount=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.zo;return null!=e&&0!==e.length&&d.a.toBaseUnit(e,t)>0},this.validateToken=e=>{if(!e)return"TOKEN_FIELD_REQUIRED"},this.getSwapSlippage=e=>{let{fromTokenSellFees:t,toTokenBuyFees:a}=e;return Math.min(Math.round((null!=t?t:0)*10)/10+Math.round((null!=a?a:0)*10)/10+1,100)},this.getSwapTokensInitialValues=e=>{var t,a,n,o,s,r,i;return{[u.$.GAS_PRICE_LEVEL]:c.f.MEDIUM,[u.$.SLIPPAGE]:this.getSwapSlippage({fromTokenSellFees:null==e?void 0:null===(t=e.fromToken)||void 0===t?void 0:t.sellFees,toTokenBuyFees:null==e?void 0:null===(a=e.toToken)||void 0===a?void 0:a.buyFees}),[u.$.NETWORK]:null!==(i=null!==(r=null!==(s=null==e?void 0:e.network)&&void 0!==s?s:null==e?void 0:null===(n=e.fromToken)||void 0===n?void 0:n.network)&&void 0!==r?r:null==e?void 0:null===(o=e.toToken)||void 0===o?void 0:o.network)&&void 0!==i?i:l.cU.BINANCE_MAINNET,...e}},this.getSwapTokensInitialErrors=(e,t)=>{var a,n;let o={[u.$.FROM_TOKEN]:this.validateToken(null==e?void 0:e.fromToken),[u.$.TO_TOKEN]:this.validateToken(null==e?void 0:e.toToken),[u.$.FROM_TOKEN_AMOUNT]:this.validateTokenAmount({amount:null==e?void 0:e.fromTokenAmount,isFromField:!0,maxBalance:t,decimals:null==e?void 0:null===(a=e.fromToken)||void 0===a?void 0:a.decimals}),[u.$.TO_TOKEN_AMOUNT]:this.validateTokenAmount({amount:null==e?void 0:e.toTokenAmount,isFromField:!1,decimals:null==e?void 0:null===(n=e.toToken)||void 0===n?void 0:n.decimals})};return Object.keys(o).forEach(e=>void 0===o[e]&&delete o[e]),o},this.isFromField=e=>e===u.$.FROM_TOKEN||e===u.$.FROM_TOKEN_AMOUNT,this.getSwapActionType=e=>{let{fromToken:t,toToken:a}=e;return null==t||null==a?"UNKNOWN":"SWAP"},this.getMaxAmount=e=>{let{tokenDecimals:t,tokenType:a,amount:n="0"}=e;if(null==a||a!==i.i.NATIVE)return n;let o=d.a.toBaseUnit(n,t)-this.minSwapBalance;return o>0?d.a.fromBaseUnit(o,t):"0"}}}let p=new m},38374:function(e,t,a){"use strict";a.d(t,{Fc:function(){return i},uz:function(){return r},wI:function(){return s}});var n=a(41020),o=a(43350);let s={[n.Y.AUD]:{id:n.Y.AUD,icon:o.T.FIAT_AUD,symbol:"A$",name:"Australian Dollar"},[n.Y.CAD]:{id:n.Y.CAD,icon:o.T.FIAT_CAD,symbol:"C$",name:"Canadian Dollar"},[n.Y.CHF]:{id:n.Y.CHF,icon:o.T.FIAT_CHF,symbol:"Fr",name:"Swiss Franc"},[n.Y.EUR]:{id:n.Y.EUR,icon:o.T.FIAT_EUR,symbol:"",name:"Euro"},[n.Y.GBP]:{id:n.Y.GBP,icon:o.T.FIAT_GBP,symbol:"\xa3",name:"British Pound"},[n.Y.JPY]:{id:n.Y.JPY,icon:o.T.FIAT_JPY,symbol:"\xa5",name:"Japanese Yen"},[n.Y.NGN]:{id:n.Y.NGN,icon:o.T.FIAT_NGN,symbol:"",name:"Nigeria Naira"},[n.Y.USD]:{id:n.Y.USD,icon:o.T.FIAT_USD,symbol:"$",name:"US Dollar"},[n.Y.ARS]:{id:n.Y.ARS,icon:o.T.FIAT_ARS,symbol:"$",name:"Argentine Peso"},[n.Y.BRL]:{id:n.Y.BRL,icon:o.T.FIAT_BRL,symbol:"R$",name:"Brazilian Real"},[n.Y.GEL]:{id:n.Y.GEL,icon:o.T.FIAT_GEL,symbol:"",name:"Georgian Lari"},[n.Y.GHS]:{id:n.Y.GHS,icon:o.T.FIAT_GHS,symbol:"",name:"Ghanaian Cedi"},[n.Y.HKD]:{id:n.Y.HKD,icon:o.T.FIAT_HKD,symbol:"$",name:"Hong Kong Dollar"},[n.Y.IDR]:{id:n.Y.IDR,icon:o.T.FIAT_IDR,symbol:"Rp",name:"Indonesian Rupiah"},[n.Y.ILS]:{id:n.Y.ILS,icon:o.T.FIAT_ILS,symbol:"",name:"Israeli New Shekel"},[n.Y.INR]:{id:n.Y.INR,icon:o.T.FIAT_INR,symbol:"",name:"Indian Rupee"},[n.Y.KRW]:{id:n.Y.KRW,icon:o.T.FIAT_KRW,symbol:"",name:"South Korean Won"},[n.Y.KSH]:{id:n.Y.KSH,icon:o.T.FIAT_KSH,symbol:"Sh",name:"Kenyan Shilling"},[n.Y.KWD]:{id:n.Y.KWD,icon:o.T.FIAT_KWD,symbol:"",name:"Kuwaiti Dinar"},[n.Y.PHP]:{id:n.Y.PHP,icon:o.T.FIAT_PHP,symbol:"",name:"Philippine Peso"},[n.Y.PLN]:{id:n.Y.PLN,icon:o.T.FIAT_PLN,symbol:"z",name:"Polish Zoty"},[n.Y.RON]:{id:n.Y.RON,icon:o.T.FIAT_RON,symbol:"",name:"Romanian Leu"},[n.Y.SEK]:{id:n.Y.SEK,icon:o.T.FIAT_SEK,symbol:"kr",name:"Swedish Krona"},[n.Y.SGD]:{id:n.Y.SGD,icon:o.T.FIAT_SGD,symbol:"$",name:"Singapore Dollar"},[n.Y.TRY]:{id:n.Y.TRY,icon:o.T.FIAT_TRY,symbol:"",name:"Turkish Lira"},[n.Y.UGX]:{id:n.Y.UGX,icon:o.T.FIAT_UGX,symbol:"Sh",name:"Ugandan Shilling"},[n.Y.ZAR]:{id:n.Y.ZAR,icon:o.T.FIAT_ZAR,symbol:"R",name:"South African Rand"},[n.Y.ZMW]:{id:n.Y.ZMW,icon:o.T.FIAT_ZMW,symbol:"K",name:"Zambian Kwacha"}},r=s.USD,i=e=>Object.values(n.Y).includes(e)},35090:function(e,t,a){"use strict";a.d(t,{Q:function(){return s}});var n=a(20189),o=a(43350);let s={[n.j.MOONPAY]:{displayName:"Moonpay",icon:o.T.RAMP_PROVIDER_MOONPAY,iconCircle:o.T.RAMP_PROVIDER_MOONPAY_CIRCLE},[n.j.RAMP_NETWORK]:{displayName:"Ramp",emailFieldName:"userEmailAddress",icon:o.T.RAMP_PROVIDER_RAMP_NETWORK,iconCircle:o.T.RAMP_PROVIDER_RAMP_NETWORK_CIRCLE},[n.j.TRANSAK]:{displayName:"Transak",icon:o.T.RAMP_PROVIDER_TRANSAK,iconCircle:o.T.RAMP_PROVIDER_TRANSAK_CIRCLE},[n.j.PAY_CHANT]:{displayName:"Paychant",icon:o.T.RAMP_PROVIDER_PAYCHANT,iconCircle:o.T.RAMP_PROVIDER_PAYCHANT_CIRCLE},[n.j.MERCURYO]:{displayName:"Mercuryo",icon:o.T.RAMP_PROVIDER_MERCURYO,iconCircle:o.T.RAMP_PROVIDER_MERCURYO_CIRCLE},[n.j.MERCURYO_CAMPAIGN]:{displayName:"Mercuryo",icon:o.T.RAMP_PROVIDER_MERCURYO,iconCircle:o.T.RAMP_PROVIDER_MERCURYO_CIRCLE}}},24315:function(e,t,a){"use strict";a.d(t,{$:function(){return s},C:function(){return f}});var n,o,s,r,i=a(99552),l=a(91012),d=a(10027),c=a(47368),u=a(17086);let m={id:u.i.UNKNOWN,matcher:new RegExp(/.*/),log:!0},p={id:u.i.QUOTE_ERROR,matcher:new RegExp(/could not fetch any quotes/i),log:!0},y={id:u.i.TOKEN_APPROVAL_TOO_LOW,matcher:new RegExp(/Token approval too low/i),log:!0},_=[p,{id:u.i.TRANSACTION_UNDERPRICED,matcher:new RegExp(/transaction underpriced/i),log:!0},{id:u.i.PRICE_IMPACT_TOO_HIGH,matcher:new RegExp(/price impact too high/i),log:!0},{id:u.i.EXPIRED,matcher:new RegExp(/expired/i),log:!0},{id:u.i.INSUFFICIENT_OUTPUT,matcher:new RegExp(/INSUFFICIENT_OUTPUT|INSUFFICIENT_OUTPUT_AMOUNT|INSUFFICIENT_INPUT_AMOUNT|FloozRouter: REVERTED|INSUFFICIENT_A_AMOUNT|INSUFFICIENT_B_AMOUNT/i),log:!0},{id:u.i.TRANSFER_FROM_FAILED,matcher:new RegExp(/TRANSFER_FROM_FAILED/i),log:!0},{id:u.i.SLIPPAGE_TOO_LOW,matcher:new RegExp(/FloozRouter: LOW_SLIPPAGE/i),log:!0},{id:u.i.TRANSFER_FAILED,matcher:new RegExp(/TRANSFER_FAILED/i),log:!0},{id:u.i.INSUFFICIENT_USER_BALANCE,matcher:new RegExp(/INSUFFICIENT_USER_BALANCE|gas required exceeds allowance|insufficient funds for transfer|transfer amount exceeds balance/i),log:!0},{id:u.i.PANCAKE_K_ERROR,matcher:new RegExp(/execution reverted: Pancake: K/i),log:!0},{id:u.i.TRANSACTION_REVERTED,matcher:new RegExp(/transaction-reverted/i),log:!0},y,{id:u.i.SELF_REFERRAL,matcher:new RegExp(/FloozRouter: SELF_REFERRAL/i),log:!1},{id:u.i.TRANSACTION_REJECTED,matcher:new RegExp(/User denied transaction signature|User canceled|cancelled|User rejected the transaction|user rejected transaction|Request rejected|Transaction declined|User rejected the request.|err.walk is not a function|rejected the request/i),log:!0},{id:u.i.INSUFFICIENT_ASSET_LIQUIDITY,matcher:new RegExp(/INSUFFICIENT_ASSET_LIQUIDITY/i),log:!0},{id:u.i.COULD_NOT_ESTIMATE_GAS,matcher:new RegExp(/could not estimate gas/i),log:!0}];(n=s||(s={})).FROM_TOKEN="fromToken",n.TO_TOKEN="toToken",n.FROM_TOKEN_AMOUNT="fromTokenAmount",n.TO_TOKEN_AMOUNT="toTokenAmount",n.GAS_PRICE_LEVEL="gasPriceLevel",n.SLIPPAGE="slippage",n.NETWORK="network",(o=r||(r={})).GET_QUOTE="GET_QUOTE",o.CREATE_SWAP_BUILD="CREATE_SWAP_BUILD",o.APPROVAL_CHECK="APPROVAL_CHECK",o.APPROVAL_BUILD="APPROVAL_BUILD",o.APPROVAL_SEND="APPROVAL_SEND",o.APPROVAL_WAIT="APPROVAL_WAIT",o.SWAP_TOKEN_BUILD="SWAP_TOKEN_BUILD",o.SWAP_TOKEN_SEND="SWAP_TOKEN_SEND",o.SWAP_TOKEN_WAIT="SWAP_TOKEN_WAIT",o.UNKNOWN="UNKNOWN";class E{constructor(){this.isZeroExQuoteError=e=>{var t,a,n;return e instanceof i.d7&&(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:null===(t=a.causeReasons)||void 0===t?void 0:t.length)>0},this.getQuoteError=e=>{var t,a,n,o;let s=this.isZeroExQuoteError(e)&&null!==(o=null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:null===(t=a.causeReasons)||void 0===t?void 0:t.join())&&void 0!==o?o:this.parseErrorMessage(e),r=_.find(e=>e.matcher.exec(s));return null!=r?r:m},this.getSwapError=e=>{let t=this.parseErrorMessage(e),a=_.find(e=>e.matcher.exec(t));return null!=a?a:m},this.buildSwapException=e=>{let{functionName:t,error:a,formValues:n,swapErrorId:o}=e,s=this.parseErrorMessage(a),r=null!=_.find(e=>e.matcher.exec(s));return{exception:a,context:{functionName:t,parsedMessage:s,formValues:n},severity:r?"info":"error",...o&&{tags:{[d.cx.SWAP_ERROR]:o}}}},this.parseErrorMessage=e=>{if(!e||null==e)return"Unknown error";if(e instanceof i.d7){var t,a,n;return null!==(n=null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)&&void 0!==n?n:e.message}return"object"==typeof e&&c.Q.hasOwnProperty(e,"reason")&&null!=e.reason?e.reason:"object"==typeof e&&c.Q.hasOwnProperty(e,"message")?e.message:"string"==typeof e?e:JSON.stringify(e)},this.logApiServiceError=(e,t,a,n,o)=>{var s;let r={[d.cx.SWAP_QUOTE_ENDPOINT_ERROR]:t,API_ENDPOINT:n,FROM_TOKEN:a.sellCurrency,TO_TOKEN:a.buyCurrency,FROM_TOKEN_TO_TOKEN:"".concat(a.sellCurrency," -> ").concat(a.buyCurrency),NETWORK:a.network,SHORT_WALLET_ADDRESS:l.i.shortenAddress(o,6)},i={xCorrelationId:null===(s=e.response)||void 0===s?void 0:s.headers["x-correlation-id"],serviceFunction:"getSwapQuoteV3",apiEndpoint:n,payload:a,fromToken:a.sellCurrency,toToken:a.buyCurrency,network:a.network};d.Tw.logException({exception:e,context:i,selectedAccount:a.userAddress,network:a.network,severity:"error",tags:r,fingerprint:[n]})},this.logSwapTransactionError=(e,t,a,n)=>{var o,s,r,i,c,u;let m=this.parseErrorMessage(e),p=null!=_.find(e=>e.matcher.exec(m)),y={[d.cx.SWAP_TRANSACTION_ERROR]:t,IS_HANDLED:p.toString(),FROM_TOKEN:null!==(c=null===(o=a.fromToken)||void 0===o?void 0:o.address)&&void 0!==c?c:"",TO_TOKEN:null!==(u=null===(s=a.toToken)||void 0===s?void 0:s.address)&&void 0!==u?u:"",FROM_TOKEN_TO_TOKEN:"".concat(null===(r=a.fromToken)||void 0===r?void 0:r.address," -> ").concat(null===(i=a.toToken)||void 0===i?void 0:i.address),NETWORK:a.network,SHORT_WALLET_ADDRESS:l.i.shortenAddress(null==n?void 0:n.id,6)};d.Tw.logException({exception:e,context:{functionName:t,parsedMessage:m,formValues:a},selectedAccount:null==n?void 0:n.id,network:a.network,severity:p?"info":"error",tags:y,fingerprint:[t]})}}}let f=new E},22524:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});var n=a(38040),o=a(11451),s=a(86614);function r(e){let t=(0,n.useQueryClient)();return(0,o.useMutation)(e=>{let{key:t,value:a,useSessionStorage:n}=e;return Promise.resolve(s.W.set(t,a,n))},{...e,onSuccess:(a,n,o)=>{var s;t.invalidateQueries([n.key]),null==e||null===(s=e.onSuccess)||void 0===s||s.call(e,a,n,o)}})}},84721:function(e,t,a){"use strict";a.d(t,{D:function(){return s}});var n=a(73563),o=a(86614);function s(e,t){let{key:a,useSessionStorage:s}=e;return(0,n.useQuery)([a],()=>{var e;return null!==(e=o.W.get(a,s))&&void 0!==e?e:null},t)}},23719:function(e,t,a){"use strict";var n,o;a.d(t,{T:function(){return n}}),(o=n||(n={})).BOUGHT_TOKEN="BOUGHT_TOKEN",o.SENT_TOKEN="SENT_TOKEN",o.SOLD_TOKEN="SOLD_TOKEN",o.RECEIVED_TOKEN="RECEIVED_TOKEN",o.APPROVAL="APPROVAL",o.SWAP="SWAP",o.CONTRACT_EXECUTION="CONTRACT_EXECUTION"},21818:function(e,t,a){"use strict";var n,o;a.d(t,{B:function(){return n}}),(o=n||(n={})).GENERIC_WEB_BROWSER="GENERIC_WEB_BROWSER",o.SAFARI_WEB_BROWSER="SAFARI_WEB_BROWSER"},41020:function(e,t,a){"use strict";var n,o;a.d(t,{Y:function(){return n}}),(o=n||(n={})).AUD="AUD",o.ARS="ARS",o.BRL="BRL",o.CAD="CAD",o.CHF="CHF",o.EUR="EUR",o.GBP="GBP",o.GEL="GEL",o.GHS="GHS",o.HKD="HKD",o.IDR="IDR",o.ILS="ILS",o.INR="INR",o.JPY="JPY",o.KRW="KRW",o.KSH="KSH",o.KWD="KWD",o.NGN="NGN",o.PHP="PHP",o.PLN="PLN",o.RON="RON",o.SEK="SEK",o.SGD="SGD",o.TRY="TRY",o.USD="USD",o.UGX="UGX",o.ZAR="ZAR",o.ZMW="ZMW"},97828:function(e,t,a){"use strict";var n,o;a.d(t,{s:function(){return n}}),(o=n||(n={})).LOW="LOW",o.HIGH="HIGH",o.NORMAL="NORMAL"},68434:function(e,t,a){"use strict";var n,o;a.d(t,{L:function(){return n}}),(o=n||(n={})).DIRECT="DIRECT",o.INDIRECT="INDIRECT"},84552:function(e,t,a){"use strict";var n,o;a.d(t,{B:function(){return n}}),(o=n||(n={})).UPDATE_TYPE="UPDATE_TYPE",o.UPDATE_INDIRECT_STATUS="UPDATE_INDIRECT_STATUS"},4786:function(e,t,a){"use strict";var n,o,s,r,i,l;a.d(t,{_H:function(){return n},kl:function(){return o}}),(r=n||(n={})).PENDING="PENDING",r.COMPLETED="COMPLETED",(i=o||(o={})).INITIATED="INITIATED",i.PENDING="PENDING",i.COMPLETED="COMPLETED",i.FAILED="FAILED",(l=s||(s={})).INITIATED="INITIATED",l.CREATED="CREATED",l.PROCESSING="PROCESSING",l.PENDING_DELIVERY="PENDING_DELIVERY",l.COMPLETED="COMPLETED",l.FAILED="FAILED",l.EXPIRED="EXPIRED",l.AWAITING_PAYMENT_FROM_USER="AWAITING_PAYMENT_FROM_USER",l.PAYMENT_DONE_MARKED_BY_USER="PAYMENT_DONE_MARKED_BY_USER",l.CANCELLED="CANCELLED"},20189:function(e,t,a){"use strict";var n,o;a.d(t,{j:function(){return n}}),(o=n||(n={})).MOONPAY="MOONPAY",o.RAMP_NETWORK="RAMP_NETWORK",o.TRANSAK="TRANSAK",o.PAY_CHANT="PAY_CHANT",o.MERCURYO="MERCURYO",o.MERCURYO_CAMPAIGN="MERCURYO_CAMPAIGN"},96507:function(e,t,a){"use strict";var n,o;a.d(t,{A:function(){return n}}),(o=n||(n={})).CARD_PAYMENT="CARD_PAYMENT",o.APPLE_PAY="APPLE_PAY",o.GOOGLE_PAY="GOOGLE_PAY",o.BANK_TRANSFER="BANK_TRANSFER"},70853:function(e,t,a){"use strict";var n,o;a.d(t,{V:function(){return n}}),(o=n||(n={})).LOW="low",o.MEDIUM="medium",o.HIGH="high"},52581:function(e,t,a){"use strict";a.d(t,{$:function(){return i},J$:function(){return l},vN:function(){return d}});var n=a(15103),o=a(83686);let s="/v1/tokens/native",r="https://api.flooz.trade",i=async e=>{let t="".concat(r).concat((0,n.Gn)(s));return(await (0,o.C)({url:t,options:{next:e}})).json()},l=async(e,t)=>{let a=e.map(e=>"networks=".concat(e)).join("&"),i="".concat(r).concat((0,n.Gn)(s),"?").concat(a);return(await (0,o.C)({url:i,options:{next:t}})).json()},d=async(e,t,a)=>{let s=new URLSearchParams;t.networks.forEach(e=>s.append("networks",e)),s.append("filter",(null==t?void 0:t.filter)||""),s.append("invalidateCache",t.invalidateCache.toString());let i="".concat(r).concat((0,n.Gn)("/v3/portfolio"),"/").concat(e.address,"?").concat(s.toString());return(await (0,o.C)({url:i,options:{next:a}})).json()}},16222:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=a(38040),o=a(11451),s=a(9108),r=a(84552),i=a(79569),l=a(7178);let d=e=>{let t=(0,n.useQueryClient)(),{selectedAccount:a}=(0,s.Z)(),d=l.a.onRampActivities({pathParameters:{address:null!=a?a:""},queryParameters:{limit:100,skip:0}});return(0,o.useMutation)(e=>i.W.updateBuyAnyTransaction(e),{...e,onMutate:a=>{var n;let o=t.getQueryData(d),s={...o,result:null==o?void 0:o.result.map(e=>{if(e.quoteId!=a.pathParameters.transactionId)return{...e};switch(a.body.action){case r.B.UPDATE_TYPE:return{...e,type:a.body.type};case r.B.UPDATE_INDIRECT_STATUS:return{...e,indirectStatus:a.body.indirectStatus};default:return{...e}}})};t.setQueriesData(d,s),null==e||null===(n=e.onMutate)||void 0===n||n.call(e,a)},onSuccess:(a,n,o)=>{var s;t.invalidateQueries(d),null==e||null===(s=e.onSuccess)||void 0===s||s.call(e,a,n,o)}})}},81294:function(e,t,a){"use strict";a.d(t,{s:function(){return r}});var n=a(73563),o=a(79569),s=a(7178);let r=(e,t)=>(0,n.useQuery)(s.a.liquidityPools(e),()=>o.W.getLiquidityPools(e),t)},24156:function(e,t,a){"use strict";a.d(t,{f:function(){return r}});var n=a(73563),o=a(79569),s=a(7178);let r=(e,t)=>(0,n.useQuery)(s.a.onRampActivities(e),()=>o.W.getOnRampActivities(e),{...t,refetchInterval:5e3})},12670:function(e,t,a){"use strict";a.d(t,{d:function(){return r}});var n=a(73563),o=a(79569),s=a(7178);let r=(e,t)=>(0,n.useQuery)(s.a.token(e),()=>o.W.getToken(e),t)},32661:function(e,t,a){"use strict";a.d(t,{d:function(){return r}});var n=a(73563),o=a(79569),s=a(7178);let r=(e,t)=>(0,n.useQuery)(s.a.trendingTokens(e),()=>o.W.getTrendingTokens(e),t)},80245:function(e,t,a){"use strict";a.d(t,{B:function(){return s},U:function(){return r}});var n=a(50180);let o=(0,n.createContext)(void 0),s=o.Provider,r=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("applicationContext: the hook must be used inside an ApplicationContextProvider to work properly.");return e}},62342:function(e,t,a){"use strict";a.d(t,{C:function(){return s},Y:function(){return r}});var n=a(50180);let o=(0,n.createContext)(null),s=o.Provider,r=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useIpLookupContext: the hook must be placed inside a IpLookupContextProvider to work properly");return e}},82518:function(e,t,a){"use strict";var n,o;a.d(t,{r:function(){return n}}),(o=n||(n={})).ERROR="ERROR",o.LOADING="LOADING",o.SPINNER="SPINNER",o.SIMPLE_SPINNER="SIMPLE_SPINNER",o.SUCCESS="SUCCESS",o.SWITCH="SWITCH",o.VERIFIED_TOKEN="VERIFIED_TOKEN"},9108:function(e,t,a){"use strict";a.d(t,{Z:function(){return r},v:function(){return s}});var n=a(50180);let o=(0,n.createContext)(void 0),s=o.Provider,r=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useWeb3Context: the hook must be used inside a Web3ContextProvider to work properly.");return e}},17086:function(e,t,a){"use strict";var n,o;a.d(t,{M:function(){return s},i:function(){return n}}),(o=n||(n={})).TRANSACTION_REJECTED="TRANSACTION_REJECTED",o.TRANSACTION_UNDERPRICED="TRANSACTION_UNDERPRICED",o.PRICE_IMPACT_TOO_HIGH="PRICE_IMPACT_TOO_HIGH",o.EXPIRED="EXPIRED",o.INSUFFICIENT_OUTPUT="INSUFFICIENT_OUTPUT",o.TRANSFER_FROM_FAILED="TRANSFER_FROM_FAILED",o.SLIPPAGE_TOO_LOW="SLIPPAGE_TOO_LOW",o.TRANSFER_FAILED="TRANSFER_FAILED",o.INSUFFICIENT_USER_BALANCE="INSUFFICIENT_USER_BALANCE",o.PANCAKE_K_ERROR="PANCAKE_K_ERROR",o.TRANSACTION_REVERTED="TRANSACTION_REVERTED",o.SELF_REFERRAL="SELF_REFERRAL",o.TOKEN_APPROVAL_TOO_LOW="TOKEN_APPROVAL_TOO_LOW",o.INSUFFICIENT_ASSET_LIQUIDITY="INSUFFICIENT_ASSET_LIQUIDITY",o.COULD_NOT_ESTIMATE_GAS="COULD_NOT_ESTIMATE_GAS",o.UNKNOWN="UNKNOWN",o.QUOTE_ERROR="QUOTE_ERROR",o.CREATE_SWAP_ERROR="CREATE_SWAP_ERROR",o.SCW_SWAP_ERROR="SCW_SWAP_ERROR";let s="5"},80381:function(e,t,a){"use strict";a.d(t,{c:function(){return n}});let n={retryCount:30,timeout:12e4}},55780:function(e,t,a){"use strict";a.d(t,{N:function(){return r}});var n=a(14012),o=a.n(n),s=a(50180);let r=(e,t)=>{let[a,n]=(0,s.useState)(e);return(0,s.useEffect)(()=>{if(!o().isEqual(a,e)){let a=setTimeout(()=>n(e),t);return()=>clearTimeout(a)}},[e,a,t]),a}},67799:function(e,t,a){"use strict";a.d(t,{g:function(){return s}});var n=a(21300),o=a(59031);let s=e=>{let{network:t=o.a9.id,tokenAddress:a,isEnabled:s=!0,retry:r}=e,i=(0,o.pC)(a)?"":a,{data:l,isLoading:d,status:c}=(0,n.h)({queryParameters:{query:i||"",network:t,status:"ALL",filteroutBlacklisted:!1}},{enabled:s,retry:r});return{indexedOrNonIndexedToken:null==l?void 0:l[0],isDataLoaded:"success"===c||!d}}},16087:function(e,t,a){"use strict";a.d(t,{P:function(){return d}});var n=a(50898),o=a(34148),s=a(31001);let r="refId",i=(0,s.FL)(()=>({getItem:()=>(0,n.getCookie)(r),setItem:(e,t)=>(0,n.setCookie)(e,t,{maxAge:172800}),removeItem:e=>(0,n.deleteCookie)(e)})),l=(0,s.O4)(r,"",i),d=()=>{let[e,t]=(0,o.KO)(l);return{refId:e,setRefId:t}}},11515:function(e,t,a){"use strict";a.d(t,{h:function(){return m}});var n=a(50180),o=a(73563),s=a(79569),r=a(7178);let i=(e,t)=>(0,o.useQuery)(r.a.tokenPortfolio(e),()=>s.W.getTokenPortfolio(e),t);var l=a(80245),d=a(9108),c=a(59031);let u=new Map,m=e=>{var t;let{selectedAccount:a}=(0,d.Z)(),{impersonatedUser:o}=(0,l.U)(),s=null!==(t=null!=e?e:o)&&void 0!==t?t:a,{data:r,status:m,isInitialLoading:p,dataUpdatedAt:y}=i({queryParameters:{invalidate:!0,filteroutBlacklisted:!0},pathParameters:{address:s}},{enabled:null!=s,retry:3}),{map:_,list:E,hiddenList:f}=(0,n.useMemo)(()=>{var e;if(!s||!r)return{map:new Map,list:[],hiddenList:[]};let t=null===(e=u.get(s))||void 0===e?void 0:e.get(y);if(t)return t;let a=r.tokens.filter(e=>!0!==e.hidden).sort((e,t)=>{var a,n;return parseFloat(null!==(a=t.usdBalance)&&void 0!==a?a:"0")-parseFloat(null!==(n=e.usdBalance)&&void 0!==n?n:"0")}),n=r.tokens.filter(e=>!0===e.hidden),o=new Map(c.si.map(e=>[e,new Map]));a.forEach(e=>{var t;return null===(t=o.get(e.network))||void 0===t?void 0:t.set(e.address,e)});let i={map:o,list:a,hiddenList:n};return u.set(s,new Map([[y,i]])),i},[s,r,y]);return{list:E,hiddenList:f,map:_,status:p?"loading":"error"===m?"error":"success"===m?"success":"idle"}}},5490:function(e,t,a){"use strict";a.d(t,{O:function(){return d}});var n=a(46706),o=a(80454),s=a(50180);function r(e){let t=atob(e),a=t.length,n=new Uint8Array(a);for(let e=0;e<a;e++)n[e]=t.charCodeAt(e);return n}var i=a(72728);let l={txHash:void 0,isSuccess:!1,isError:!1,error:void 0},d=()=>{let{primaryWallet:e}=(0,i.$)(),[{isSuccess:t,isError:a,error:d,txHash:c},u]=(0,s.useState)(l);return{txHash:c,isSuccess:t,isError:a,error:d,sendTransaction:(0,s.useCallback)(function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(0,n.j_)(e)&&(async()=>{try{let n=a?o.GS.deserialize(r(t)):o.YW.from(r(t)),s=await e.getSigner(),i=await s.signAndSendTransaction(n);u({isSuccess:!0,isError:!1,error:void 0,txHash:i.signature})}catch(e){u({isSuccess:!1,isError:!0,error:e,txHash:void 0})}})()},[e])}}},20268:function(e,t,a){"use strict";a.d(t,{d:function(){return d}});var n=a(93467),o=a.n(n),s=a(50180);let r=new Set,i=()=>{let{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}},l=o()(()=>{var e;if(!(null===(e=window.ethereum)||void 0===e?void 0:e.isSafePal)){let e=i();r.forEach(t=>t(e))}},300),d=()=>{let[e,t]=(0,s.useState)(i());return(0,s.useEffect)(()=>(r.add(t),1===r.size&&window.addEventListener("resize",l),()=>{r.delete(t),0===r.size&&window.removeEventListener("resize",l)}),[]),e}},13257:function(e){e.exports={notSelected:"navigation-tabs_notSelected__5voCA"}},47347:function(e){e.exports={orLine:"send-to-wallet_orLine__PeOmq",or:"send-to-wallet_or__TjlRm",sendPanel:"send-to-wallet_sendPanel__SM7k8",send:"send-to-wallet_send__86lIX",copy:"send-to-wallet_copy__1gw6U"}},98193:function(e){e.exports={icon:"icon-with-background_icon__pr7vb"}}}]);